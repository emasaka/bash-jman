.\"
.\" MAN PAGE COMMENTS to
.\"
.\"	Chet Ramey
.\"	Case Western Reserve University
.\"	chet@po.cwru.edu
.\"
.\"	Last Change: Tue Dec 28 13:41:43 EST 2010
.\"
.\" bash_builtins, strip all but Built-Ins section
.if \n(zZ=1 .ig zZ
.if \n(zY=1 .ig zY
.TH BASH 1 "2010 December 28" "GNU Bash-4.2"
.\"
.\" There's some problem with having a `@'
.\" in a tagged paragraph with the BSD man macros.
.\" It has to do with `@' appearing in the }1 macro.
.\" This is a problem on 4.3 BSD and Ultrix, but Sun
.\" appears to have fixed it.
.\" If you're seeing the characters
.\" `@u-3p' appearing before the lines reading
.\" `possible-hostname-completions
.\" and `complete-hostname' down in READLINE,
.\" then uncomment this redefinition.
.\"
.\" Translated Wed Apr  7 22:55:11 JST 1999
.\"    by FUJIWARA Teruyoshi <fujiwara@linux.or.jp>
.\" Proofed by
.\"       Shinya Hanataka <hanataka@abyss.rim.or.jp>
.\"       NAKANO Takeo <nakano@apm.seikei.ac.jp>
.\"
.\" Updated to 2.04  Sun Apr 1 2001
.\"    by the members of JM Project (JM@linux.or.jp)
.\"       Satoshi Asakawa <asakawa@kanagawa.hitachi.co.jp>
.\"       Shinya Hanataka <hanataka@abyss.rim.or.jp>
.\"       Akihiro Motoki <mokkun@iname.com>
.\"       NAKANO Takeo <nakano@apm.seikei.ac.jp>
.\"       Yuichi SATO <sato@complex.eng.hokudai.ac.jp>
.\"       Kentaro Shirakata <argrath@ub32.org>
.\"       TAKEI Nobumitsu <takei@webmasters.gr.jp>
.\"       UCHIDA Norihiro <KY4N-UCD@asahi-net.or.jp>
.\"
.\" Updated to 2.05  Sat 14 Apr 2001
.\"    by NAKANO Takeo
.\"
.\" Updated to 4.2  Thu 8 Sep 2011
.\"    by Masakazu Takahashi <emasaka@gmail.com>
.\"
.\"WORD:	positional parameter	位置パラメータ
.\"WORD:	preamble		前置部分
.\"WORD:	postscript		後置部分
.\"WORD:	arithmetic expansion	算術式展開
.\"WORD:	naming open file	名前付きオープンファイル
.\"WORD:	collation weight	照合重さ
.\"WORD:	collating symbol	照合シンボル
.\"WORD:	collating sequence	照合順序
.\"WORD:	range expression	範囲表現
.\"WORD:	composite pattern	複合パターン
.\"WORD:	sub-pattern	サブパターン
.\"WORD:	history list	履歴リスト
.\"WORD:	basename	ベース名
.\"WORD:	file descriptor	ファイル・ディスクリプター
.\"WORD:	exit status		終了ステータス
.\"WORD:	return status		返却ステータス
.\"WORD:	control operator	制御演算子
.\"
.de }1
.ds ]X \&\\*(]B\\
.nr )E 0
.if !"\\$1"" .nr )I \\$1n
.}f
.ll \\n(LLu
.in \\n()Ru+\\n(INu+\\n()Iu
.ti \\n(INu
.ie !\\n()Iu+\\n()Ru-\w\\*(]Xu-3p \{\\*(]X
.br\}
.el \\*(]X\h|\\n()Iu+\\n()Ru\c
.}f
..
.\"
.\" File Name macro.  This used to be `.PN', for Path Name,
.\" but Sun doesn't seem to like that very much.
.\"
.de FN
\fI\|\\$1\|\fP
..
.\"O .SH NAME
.SH 名前
bash \- GNU Bourne-Again SHell
.\"O .SH SYNOPSIS
.SH 書式
.B bash
[options]
[file]
.\"O .SH COPYRIGHT
.SH 著作権
.if n Bash is Copyright (C) 1989-2011 by the Free Software Foundation, Inc.
.if t Bash is Copyright \(co 1989-2011 by the Free Software Foundation, Inc.
.\"O .SH DESCRIPTION
.SH 説明
.\"O .B Bash
.\"O is an \fBsh\fR-compatible command language interpreter that
.\"O executes commands read from the standard input or from a file.
.B bash
は、標準入力やファイルから読み込んだコマンドを実行する、
\fBsh\fR 互換のコマンド言語インタプリタです。
.\"O .B Bash
.\"O also incorporates useful features from the \fIKorn\fP and \fIC\fP
.\"O shells (\fBksh\fP and \fBcsh\fP).
.B bash
には、\fIKorn\fP シェルや \fIC\fP シェル (\fBksh\fP や \fBcsh\fP)
の便利な機能も採り入れられています。
.PP
.\"O .B Bash
.\"O is intended to be a conformant implementation of the
.\"O Shell and Utilities portion of the IEEE POSIX specification
.\"O (IEEE Standard 1003.1).
.B bash
は IEEE POSIX specification (IEEE Standard 1003.1)
の Shell and Utilities に準拠する実装を目指しています。
.\"O .B Bash
.\"O can be configured to be POSIX-conformant by default.
.B bash
はデフォルトで POSIX 準拠に設定することもできます。
.\"O .SH OPTIONS
.SH オプション
.\"O All of the  single-character shell options documented in the
.\"O description of the \fBset\fR builtin command can be used as options
.\"O when the shell is invoked.
組み込みコマンド \fBset\fR の説明で述べられている 1 文字のシェルオプションを、
起動時に指定できます。
.\"O In addition, \fBbash\fR
.\"O interprets the following options when it is invoked:
それに加えて、\fBbash\fR は以下のオプションを起動時に解釈します。
.PP
.PD 0
.TP 10
.BI \-c "\| string\^"
.\"O If the
.B \-c
.\"O option is present, then commands are read from
.\"O .IR string .
オプションが指定されると、コマンドが
.I string
から読み込まれます。
.\"O If there are arguments after the
.\"O .IR string ,
.\"O they are assigned to the positional parameters, starting with
.\"O .BR $0 .
.I string
の後に引き数があれば、これらは
位置パラメータ (positional parameter:
.BR $0
から始まるパラメータ) に代入されます。
.TP
.B \-i
.\"O If the
.\"O .B \-i
.\"O option is present, the shell is
.\"O .IR interactive .
オプションが指定されると、
.B bash
は
.IR 対話的 (interactive)
に動作します。
.TP
.B \-l
.\"O Make
.\"O .B bash
.\"O act as if it had been invoked as a login shell (see
.\"O .SM
.\"O .B INVOCATION
.\"O below).
ログインシェル (後述の
.SM
.B 起動
セクションを参照)
として起動されたかのように
.B bash
を動作させます。
.TP
.B \-r
.\"O If the
.\"O .B \-r
.\"O option is present, the shell becomes
.\"O .I restricted
.\"O (see
.\"O .SM
.\"O .B "RESTRICTED SHELL"
.\"O below).
.B \-r
オプションが指定されると、
.B bash
は
.I 制限された状態 (restricted)
となります (後述の
.SM
.B 制限付きのシェル
を参照)。
.TP
.B \-s
.\"O If the
.\"O .B \-s
.\"O option is present, or if no arguments remain after option
.\"O processing, then commands are read from the standard input.
.B \-s
オプションが指定された場合と、
オプションを全て処理した後に引き数が残っていなかった場合には、
コマンドは標準入力から読み込まれます。
.\"O This option allows the positional parameters to be set
.\"O when invoking an interactive shell.
このオプションを使うと、
対話的シェルを起動するときに
位置パラメータを設定できます。
.TP
.B \-D
.\"O A list of all double-quoted strings preceded by \fB$\fP
.\"O is printed on the standard output.
二重引用符によるクォート文字列 (double-quoted strings) に
\fB$\fP が前置されたものを、全てリストして標準出力に出力します。
.\"O These are the strings that
.\"O are subject to language translation when the current locale
.\"O is not \fBC\fP or \fBPOSIX\fP.
これらは、カレントロケールが \fBC\fP または \fBPOSIX\fP 以外のときに、
翻訳の対象となるべき文字列です。
.\"O This implies the \fB\-n\fP option; no commands will be executed.
このオプションを指定すると、
自動的に \fB\-n\fP オプションも指定されたことになります。
つまりコマンドは全く実行されません。
.TP
.B [\-+]O [\fIshopt_option\fP]
.\"O \fIshopt_option\fP is one of the shell options accepted by the
.\"O \fBshopt\fP builtin (see
.\"O .SM
.\"O .B SHELL BUILTIN COMMANDS
.\"O below).
\fIshopt_option\fP には、組み込みコマンド \fBshopt\fP (後述の
.SM
.B シェルの組み込みコマンド
を参照) に与えるのと同じシェルのオプションを指定します。
.\"O If \fIshopt_option\fP is present, \fB\-O\fP sets the value of that option;
.\"O \fB+O\fP unsets it.
\fIshopt_option\fP が有効なオプションであれば、
\fB\-O\fP でオプションが設定されます。
\fB+O\fP で設定解除になります。
.\"O If \fIshopt_option\fP is not supplied, the names and values of the shell
.\"O options accepted by \fBshopt\fP are printed on the standard output.
.\"O If the invocation option is \fB+O\fP, the output is displayed in a format
.\"O that may be reused as input.
\fIshopt_option\fP を指定しない場合、
\fBshopt\fP で指定できるオプションの名前と値が標準出力に表示されます。
このとき、\fB+O\fP では、入力として再利用できる形で出力されます。
.TP
.B \-\-
.\"O A
.\"O .B \-\-
.\"O signals the end of options and disables further option processing.
.\"O Any arguments after the
.B \-\-
はオプションの終わりを示し、それ以降のオプション処理を行いません。
.\"O .B \-\-
.\"O are treated as filenames and arguments.  An argument of
.\"O .B \-
.\"O is equivalent to \fB\-\-\fP.
.B \-\-
以降の引き数は全て、ファイル名や引き数として扱われます。
引き数
.B \-
は
\fB\-\-\fP
と同じです。
.PD
.PP
.\"O .B Bash
.\"O also interprets a number of multi-character options.
.B bash
が解釈するオプションには複数の文字からなるものもたくさんあります。
.\"O These options must appear on the command line before the
.\"O single-character options to be recognized.
このようなオプションを認識させるためには、
コマンドライン中で
1 文字のオプションよりも前に置かなければなりません。
.PP
.PD 0
.TP
.B \-\-debugger
.\"O Arrange for the debugger profile to be executed before the shell
.\"O starts.
シェルの実行を開始する前に、デバッグモードを準備します。
.\"O Turns on extended debugging mode (see the description of the
.\"O .B extdebug
.\"O option to the
.\"O .B shopt
.\"O builtin below).
拡張デバッグモードを有効にします (後述の組み込みコマンド
.B shopt
の
.B extdebug
オプションを参照)。
.TP
.B \-\-dump\-po\-strings
.\"O Equivalent to \fB\-D\fP, but the output is in the GNU \fIgettext\fP
.\"O \fBpo\fP (portable object) file format.
\fB\-D\fP と同じですが、
出力は GNU \fIgettext\fP の
\fBpo\fP (ポータブルオブジェクト) ファイル形式で行われます。
.TP
.B \-\-dump\-strings
.\"O Equivalent to \fB\-D\fP.
\fB\-D\fP と同じです。
.TP
.B \-\-help
.\"O Display a usage message on standard output and exit successfully.
使用方法についてのメッセージを標準出力に表示し、正常終了します。
.TP
\fB\-\-init\-file\fP \fIfile\fP
.PD 0
.TP
\fB\-\-rcfile\fP \fIfile\fP
.PD
.\"O Execute commands from
.\"O .I file
.\"O instead of the standard personal initialization file
.\"O .I ~/.bashrc
.\"O if the shell is interactive (see
.\"O .SM
.\"O .B INVOCATION
.\"O below).
対話的シェルとして起動された場合、
個人用の標準の初期化ファイル
.I ~/.bashrc
の代わりに
.I file
からコマンドを実行します (後述の
.SM
.B 起動
セクションを参照)。
.TP
.B \-\-login
.\"O Equivalent to \fB\-l\fP.
\fB\-l\fP と同じです。
.TP
.B \-\-noediting
.\"O Do not use the GNU
.\"O .B readline
.\"O library to read command lines when the shell is interactive.
シェルが対話的動作の場合、コマンドラインを読み込むときに GNU
.B readline
ライブラリを使用しません。
.TP
.B \-\-noprofile
.\"O Do not read either the system-wide startup file
.\"O .FN /etc/profile
.\"O or any of the personal initialization files
.\"O .IR ~/.bash_profile ,
.\"O .IR ~/.bash_login ,
.\"O or
.\"O .IR ~/.profile .
.\"O By default,
.\"O .B bash
.\"O reads these files when it is invoked as a login shell (see
.\"O .SM
.\"O .B INVOCATION
.\"O below).
システム全体用の起動ファイル
.FN /etc/profile
および個人用の初期化ファイル
.IR ~/.bash_profile ,
.IR ~/.bash_login ,
.I ~/.profile
のいずれも読み込みません。デフォルトでは、
.B bash
はログインシェルとして起動されたときに
これらのファイルを読み込みます (後述の
.SM
.B 起動
セクションを参照)。
.TP
.B \-\-norc
.\"O Do not read and execute the personal initialization file
.\"O .I ~/.bashrc
.\"O if the shell is interactive.
.\"O This option is on by default if the shell is invoked as
.\"O .BR sh .
シェルが対話的動作を行う場合に、個人用初期化ファイル
.I ~/.bashrc
の読み込み・実行を行いません。シェルが
.BR sh
として起動された場合には、このオプションはデフォルトで有効になります。
.TP
.B \-\-posix
.\"O Change the behavior of \fBbash\fP where the default operation differs
.\"O from the POSIX standard to match the standard (\fIposix mode\fP).
\fBbash\fP の動作のうち、
デフォルトの振舞いが POSIX 標準と異なる部分を、
標準に準拠するように変更します (\fIposix モード\fP)。
.TP
.B \-\-restricted
.\"O The shell becomes restricted (see
.\"O .SM
.\"O .B "RESTRICTED SHELL"
.\"O below).
シェルを制限された状態にします (後述の
.SM
.B 制限付きのシェル
セクションを参照)。
.TP
.B \-\-verbose
.\"O Equivalent to  \fB\-v\fP.
\fB\-v\fP と同じです。
.TP
.B \-\-version
.\"O Show version information for this instance of
.\"O .B bash
.\"O on the standard output and exit successfully.
実行された
.B bash
のバージョン情報を標準出力に表示し、正常終了します。
.PD
.\"O .SH ARGUMENTS
.SH 引き数
.\"O If arguments remain after option processing, and neither the
.\"O .B \-c
.\"O nor the
.\"O .B \-s
.\"O option has been supplied, the first argument is assumed to
.\"O be the name of a file containing shell commands.
オプション処理の後に引き数が残っており、かつ
.B \-c
オプションと
.B \-s
オプションのいずれも指定されていない場合、
最初の引き数はファイル名とみなされ、
そのファイルにシェルコマンドが記述されているとみなされます。
.\"O If
.\"O .B bash
.\"O is invoked in this fashion, 
.\"O .B $0
.\"O is set to the name of the file, and the positional parameters
.\"O are set to the remaining arguments.
このような形で
.B bash
が起動された場合、
.B $0
にそのファイルの名前が設定されます
(残りの引き数は位置パラメータに設定されます)。
.\"O .B Bash
.\"O reads and executes commands from this file, then exits.
.B bash
はこのファイルからコマンドの読み込みと実行を行い、そして終了します。
.\"O \fBBash\fP's exit status is the exit status of the last command
.\"O executed in the script.
\fBbash\fP の終了ステータスは、
このスクリプト中で実行された最後のコマンドの終了ステータスになります。
.\"O If no commands are executed, the exit status is 0.
コマンドが全く実行されなければ、終了ステータスは 0 です。
.\"O An attempt is first made to open the file in the current directory, and,
.\"O if no file is found, then the shell searches the directories in
.\"O .SM
.\"O .B PATH
.\"O for the script.
ファイルは最初にカレントディレクトリから探し、見つけられなかった場合には、
.SM
.B PATH
の中のディレクトリからスクリプトを探します。
.\"O .SH INVOCATION
.SH 起動
.\"O A \fIlogin shell\fP is one whose first character of argument zero is a
.\"O .BR \- ,
.\"O or one started with the 
.\"O .B \-\-login
.\"O option.
\fIログインシェル(login shell)\fPとは、0 番目の引き数の最初の文字が
.BR \-
であるシェル、または
.B \-\-login
オプション付きで起動されたシェルのことです。
.PP
.\"O An \fIinteractive\fP shell is one started without non-option arguments
.\"O and without the
.\"O .B \-c
.\"O option
.\"O whose standard input and error are
.\"O both connected to terminals (as determined by
.\"O .IR isatty (3)),
.\"O or one started with the
.\"O .B \-i
.\"O option.
\fI対話的な\fPシェルとは、
オプションでない引き数がなく、
標準入力と標準エラー出力がいずれも端末に接続されていて (これは
.IR isatty (3)
で調べられます)、
.B \-c
オプションが指定されていない状態で起動されたシェル、または
.B \-i
オプション付きで起動されたシェルのことです。
.\"O .SM
.\"O .B PS1
.\"O is set and
.\"O .B $\-
.\"O includes
.\"O .B i
.\"O if
.\"O .B bash
.\"O is interactive,
.\"O allowing a shell script or a startup file to test this state.
.B bash
が対話的に動作している場合には、
.SM
.B PS1
が設定され、
.B $\-
に
.B i
が含まれます。
これを利用すると、対話的動作の状態であるかどうかを、
シェルスクリプトや起動ファイルの内部で調べられます。
.PP
.\"O The following paragraphs describe how
.\"O .B bash
.\"O executes its startup files.
以下の段落では、
.B bash
がどのように起動ファイルを実行するかを説明します。
.\"O If any of the files exist but cannot be read,
.\"O .B bash
.\"O reports an error.
.\"O Tildes are expanded in file names as described below under
.\"O .B "Tilde Expansion"
.\"O in the
.\"O .SM
.\"O .B EXPANSION
.\"O section.
以下のファイルのいずれかが、
「存在しているが読み込みできない」場合は、
.B bash
はエラーを報告します。ファイル名に含まれるチルダは、
後述の
.SM
.B 展開
セクションにおける
.B "チルダ展開"
の項目で述べるように展開されます。
.PP
.\"O When
.\"O .B bash
.\"O is invoked as an interactive login shell, or as a non-interactive shell
.\"O with the \fB\-\-login\fP option, it first reads and
.\"O executes commands from the file \fI/etc/profile\fP, if that
.\"O file exists.
.B bash
が対話的なログインシェルとして起動されるか、
\fB\-\-login\fP オプション付きの非対話的シェルとして起動されると、
\fI/etc/profile\fP ファイルが存在すれば、
.B bash
はまずここからコマンドを読み込んで実行します。
.\"O After reading that file, it looks for \fI~/.bash_profile\fP,
.\"O \fI~/.bash_login\fP, and \fI~/.profile\fP, in that order, and reads
.\"O and executes commands from the first one that exists and is readable.
このファイルを読んだ後、
.B bash
は \fI~/.bash_profile\fP, \fI~/.bash_login\fP, \fI~/.profile\fP をこの
順番で探します。
.B bash
は、この中で最初に見つかり、かつ読み込みが可能であるファイルから
コマンドを読み込んで実行します。
.\"O The
.\"O .B \-\-noprofile
.\"O option may be used when the shell is started to inhibit this behavior.
.B \-\-noprofile
オプションを使ってシェルを起動すれば、
この動作を行わないようにできます。
.PP
.\"O When a login shell exits,
.\"O .B bash
.\"O reads and executes commands from the file \fI~/.bash_logout\fP, if it
.\"O exists.
ログインシェルが終了するときには、
\fI~/.bash_logout\fP ファイルがあれば、
.B bash
はこれを読み込んで実行します。
.PP
.\"O When an interactive shell that is not a login shell is started,
.\"O .B bash
.\"O reads and executes commands from \fI~/.bashrc\fP, if that file exists.
.\"O This may be inhibited by using the
.\"O .B \-\-norc
.\"O option.
ログインシェルでない対話的シェルとして起動されると、
\fI~/.bashrc\fP ファイルがあれば、
.B bash
はここからコマンドを読み込み、実行します。
この動作は
.B \-\-norc
オプションで行わないようにできます。
.\"O The \fB\-\-rcfile\fP \fIfile\fP option will force
.\"O .B bash
.\"O to read and execute commands from \fIfile\fP instead of \fI~/.bashrc\fP.
\fB\-\-rcfile\fP \fIfile\fP オプションを使うと、
コマンドの読み込みと実行を \fI~/.bashrc\fP からでなく
\fIfile\fP から行わせることができます。
.PP
.\"O When
.\"O .B bash
.\"O is started non-interactively, to run a shell script, for example, it
.\"O looks for the variable
.\"O .SM
.\"O .B BASH_ENV
.\"O in the environment, expands its value if it appears there, and uses the
.\"O expanded value as the name of a file to read and execute.
(例えばシェルスクリプトを実行するために) 非対話的に起動されると、
.B bash
は環境変数
.SM
.B BASH_ENV
を調べ、この変数が定義されていればその値を展開し、
得られた値をファイル名とみなして、
そこからコマンドの読み込みと実行を行います。
.\"O .B Bash
.\"O behaves as if the following command were executed:
つまり
.B bash
は以下のコマンドが実行されたのと同じように動作します:
.sp .5
.RS
.if t \f(CWif [ \-n "$BASH_ENV" ]; then . "$BASH_ENV"; fi\fP
.if n if [ \-n "$BASH_ENV" ]; then . "$BASH_ENV"; fi
.RE
.sp .5
.\"O but the value of the
.\"O .SM
.\"O .B PATH
.\"O variable is not used to search for the file name.
ただし、ファイル名を探すために
.SM
.B PATH
環境変数の値が使われることはありません。
.PP
.\"O If
.\"O .B bash
.\"O is invoked with the name
.\"O .BR sh ,
.\"O it tries to mimic the startup behavior of historical versions of
.\"O .B sh
.\"O as closely as possible,
.\"O while conforming to the POSIX standard as well.
.BR sh
という名前で
.B bash
を起動すると、
.B bash
は古くからある
.B sh
の起動動作をできるだけ真似しようとします。
.\"O When invoked as an interactive login shell, or a non-interactive
.\"O shell with the \fB\-\-login\fP option, it first attempts to
.\"O read and execute commands from
.\"O .I /etc/profile
.\"O and
.\"O .IR ~/.profile ,
.\"O in that order.
また POSIX 標準にもできるだけ従おうとします。
対話的なログインシェルとして起動されると、
あるいは \fB\-\-login\fP オプション付きの非対話的シェルとして起動されると、
このシェルはまず
.I /etc/profile
と
.I ~/.profile
の順でコマンドの読み込みと実行をしようとします。
.\"O The
.\"O .B \-\-noprofile
.\"O option may be used to inhibit this behavior.
.B \-\-noprofile
オプションを使うと、この動作を行わないようにできます。
.\"O When invoked as an interactive shell with the name
.\"O .BR sh ,
.\"O .B bash
.\"O looks for the variable
.\"O .SM
.\"O .BR ENV ,
.\"O expands its value if it is defined, and uses the
.\"O expanded value as the name of a file to read and execute.
.BR sh
という名前の対話的シェルとして起動されると、
.B bash
は環境変数
.SM
.BR ENV
を調べ、この変数が定義されていればその値を展開し、
展開で得た値をコマンドの読み込みと実行を行うためのファイル名として使います。
.\"O Since a shell invoked as
.\"O .B sh
.\"O does not attempt to read and execute commands from any other startup
.\"O files, the
.\"O .B \-\-rcfile
.\"O option has no effect.
.B sh
という名前で起動されたシェルは、
ほかの起動ファイルからコマンドの読み込みと起動を行うことはないので、
.B \-\-rcfile
オプションは全く効果を持ちません。
.\"O A non-interactive shell invoked with the name
.\"O .B sh
.\"O does not attempt to read any other startup files. 
.B sh
という名前の非対話的シェルとして起動されると、
このシェルはほかの起動ファイルを何も読み込みません。
.\"O When invoked as
.\"O .BR sh ,
.\"O .B bash
.\"O enters
.\"O .I posix
.\"O mode after the startup files are read.
.B sh
として起動された場合、
.B bash
は起動ファイルの読み込みを行った後に
.I POSIX
モードに入ります。
.PP
.\"O When
.\"O .B bash
.\"O is started in
.\"O .I posix
.\"O mode, as with the
.\"O .B \-\-posix
.\"O command line option, it follows the POSIX standard for startup files.
.B \-\-posix
コマンドラインオプション等により
.B bash
が
.I POSIX
モードで起動されると、
.B bash
は起動ファイルに関して POSIX 標準に従います。
.\"O In this mode, interactive shells expand the
.\"O .SM
.\"O .B ENV
.\"O variable and commands are read and executed from the file
.\"O whose name is the expanded value.
このモードでは、対話的シェルは
.SM
.B ENV
環境変数を展開し、
展開して得られた名前のファイルからコマンドの読み込みと実行を行います。
.\"O No other startup files are read.
ほかの起動ファイルは全く読み込みません。
.PP
.\"O .B Bash
.\"O attempts to determine when it is being run with its standard input
.\"O connected to a network connection, as when executed by the remote shell
.\"O daemon, usually \fIrshd\fP, or the secure shell daemon \fIsshd\fP.
.B bash
は、リモートシェルデーモン \fIrshd\fP やセキュアシェルデーモン \fIsshd\fP
によって実行された場合など、標準入力がネットワーク接続に接続された
状態で実行されたかどうかを調べます。
.\"O If
.\"O .B bash
.\"O determines it is being run in this fashion, it reads and executes
.\"O commands from \fI~/.bashrc\fP, if that file exists and is readable.
.\"O It will not do this if invoked as \fBsh\fP.
この方法によって実行されていると
.B bash
が判断した場合、
\fI~/.bashrc\fP が存在し、かつ読み込み可能であれば、
.B bash
はコマンドをこのファイルから読み込んで実行します。
\fBsh\fP として呼び出された場合には、この動作は行いません。
.\"O The
.\"O .B \-\-norc
.\"O option may be used to inhibit this behavior, and the
.\"O .B \-\-rcfile
.\"O option may be used to force another file to be read, but
.\"O \fIrshd\fP does not generally invoke the shell with those options
.\"O or allow them to be specified.
.B \-\-norc
オプションを使えばこの動作を禁止できますし、
.B \-\-rcfile
オプションを使えばほかのファイルを読ませるようにもできます。
しかし一般的には \fIrshd\fP は
これらのオプションを付けてシェルを起動しませんし、
指定もできないようになっています。
.PP
.\"O If the shell is started with the effective user (group) id not equal to the
.\"O real user (group) id, and the \fB\-p\fP option is not supplied, no startup
.\"O files are read, shell functions are not inherited from the environment, the
.\"O .SM
.\"O .BR SHELLOPTS ,
.\"O .SM
.\"O .BR BASHOPTS ,
.\"O .SM
.\"O .BR CDPATH ,
.\"O and
.\"O .SM
.\"O .B GLOBIGNORE
.\"O variables, if they appear in the environment, are ignored,
.\"O and the effective user id is set to the real user id.
シェルが実ユーザ (グループ) ID と異なる実効ユーザ (グループ) ID で起動され、
かつ \fB\-p\fP オプションが与えられていない場合は、
起動ファイルは全く読み込まれず、シェル関数は環境から継承されず、
.SM
.BR SHELLOPTS ,
.SM
.BR BASHOPTS ,
.SM
.BR CDPATH ,
.SM
.B GLOBIGNORE
が環境変数に含まれていても無視され、
実効ユーザ ID には実ユーザ ID が設定されます。
.\"O If the \fB\-p\fP option is supplied at invocation, the startup behavior is
.\"O the same, but the effective user id is not reset.
\fB\-p\fP オプションが起動時に与えられた場合、
起動時の動作は同じですが、
実効ユーザ ID は再設定されません。
.\"O .SH DEFINITIONS
.SH 定義
.PP
.\"O The following definitions are used throughout the rest of this
.\"O document.
このドキュメントの残りの部分では、
以下の定義を使用します。
.PD 0
.TP
.\"O .B blank 
.\"O A space or tab.
.B ブランク (blank)
空白文字またはタブ文字
.TP
.\"O .B word
.\"O A sequence of characters considered as a single unit by the shell.
.\"O Also known as a
.\"O .BR token .
.B 単語 (word)
シェルが 1 単位とみなす文字の並び。
.B トークン (token)
とも言われます。
.TP
.\"O .B name
.\"O A 
.\"O .I word
.\"O consisting only of alphanumeric characters and underscores, and
.\"O beginning with an alphabetic character or an underscore.  Also
.\"O referred to as an
.\"O .BR identifier .
.B 名前 (name)
英数字とアンダースコア文字だけから構成され、
かつ最初の文字が英字かアンダースコア文字である
.IR 単語 。
.B 識別子 (identifier)
とも言われます。
.TP
.\"O .B metacharacter
.\"O A character that, when unquoted, separates words.  One of the following:
.B メタ文字 (metacharacter)
クォートされていない場合に、単語区切りとなる文字。
以下の文字のうちのいずれかです:
.br
.RS
.PP
.\"O .if t \fB|  &  ;  (  )  <  >  space  tab\fP
.\"O .if n \fB|  & ; ( ) < > space tab\fP
.if t \fB|  &  ;  (  )  <  >  スペース  タブ\fP
.if n \fB|  & ; ( ) < > スペース タブ\fP
.RE
.PP
.TP
.\"O .B control operator
.\"O A \fItoken\fP that performs a control function.  It is one of the following
.\"O symbols:
.B 制御演算子 (control operator)
制御機能を持つ \fIトークン\fP。
以下のシンボルのうちのいずれかです:
.RS
.PP
.if t \fB||  &  &&  ;  ;;  (  )  |  |&    <newline>\fP
.if n \fB|| & && ; ;; ( ) | |& <newline>\fP
.RE
.PD
.\"O .SH "RESERVED WORDS"
.SH 予約語
.\"O \fIReserved words\fP are words that have a special meaning to the shell.
\fI予約語 (reserved word)\fP
とはシェルにとって特別な意味を持つ単語です。
.\"O The following words are recognized as reserved when unquoted and either
.\"O the first word of a simple command (see
.\"O .SM
.\"O .B SHELL GRAMMAR
.\"O below) or the third word of a 
.\"O .B case 
.\"O or
.\"O .B for
.\"O command:
以下の単語がクォートされておらず、
かつ単純なコマンド (simple command) の
先頭の単語 (後述の
.SM
.B シェルの文法
を参照) であるか、
.B case 
コマンドや
.B for
コマンドの 3 番目の単語である場合には、予約語として認識されます:
.if t .RS
.PP
.B
.if n ! case  do done elif else esac fi for function if in select then until while { } time [[ ]]
.if t !    case    do    done    elif    else    esac    fi    for    function    if    in    select    then    until    while    {    }    time    [[    ]]
.if t .RE
.\"O .SH "SHELL GRAMMAR"
.SH シェルの文法
.\"O .SS Simple Commands
.SS 単純なコマンド (Simple Commands)
.PP
.\"O A \fIsimple command\fP is a sequence of optional variable assignments
.\"O followed by \fBblank\fP-separated words and redirections, and
.\"O terminated by a \fIcontrol operator\fP.  The first word
.\"O specifies the command to be executed, and is passed as argument zero.
.\"O The remaining words are passed as arguments to the invoked command.
単純なコマンド (\fIsimple command\fP) とは、
変数の代入を並べたもの (これは省略可能です) の後に、
ブランク区切りの単語とリダイレクションを記述し、
最後に制御演算子を置いたものです。
最初の単語は実行するコマンドを指定します。
これは 0 番目の引き数となります。
残りの単語は起動されるコマンドに引き数として渡されます。
.PP
.\"O The return value of a \fIsimple command\fP is its exit status, or
.\"O 128+\fIn\^\fP if the command is terminated by signal
.\"O .IR n .
単純なコマンドの返り値はコマンドの終了コードですが、シグナル
.I n
を受けてコマンドが終了した場合には 128+\fIn\^\fP となります。
.\"O .SS Pipelines
.SS パイプライン (Pipeline)
.PP
.\"O A \fIpipeline\fP is a sequence of one or more commands separated by
.\"O one of the control operators
.\"O .B |
.\"O or \fB|&\fP.
\fIパイプライン (pipeline)\fPは、制御演算子
.B |
または \fB|&\fP で区切った 1 つ以上のコマンドの並びです。
.\"O The format for a pipeline is:
パイプラインのフォーマットを以下に示します:
.RS
.PP
[\fBtime\fP [\fB\-p\fP]] [ ! ] \fIcommand\fP [ [\fB|\fP\(bv\fB|&\fP] \fIcommand2\fP ... ]
.RE
.PP
.\"O The standard output of
.\"O .I command
.\"O is connected via a pipe to the standard input of
.\"O .IR command2 .
.\"O This connection is performed before any redirections specified by the
.\"O command (see
.\"O .SM
.\"O .B REDIRECTION
.\"O below).
.I command
の標準出力は
.I command2
の標準入力にパイプで接続されます。
この接続は、
コマンドで指定したどのリダイレクションよりも先に実行されます
(後述の
.SM
.B リダイレクト
を参照)。
.\"O If \fB|&\fP is used, the standard error of \fIcommand\fP is connected to
.\"O \fIcommand2\fP's standard input through the pipe; it is shorthand for
.\"O \fB2>&1 |\fP.
.\"O This implicit redirection of the standard error is performed after any
.\"O redirections specified by the command.
\fB|&\fP を使うと、\fIcommand\fP の標準エラー出力もパイプを通して
\fIcommand2\fP の標準入力に接続されます。
これは \fB2>&1 |\fP の短縮形です。
この標準エラー出力の暗黙のリダイレクションは、
コマンドに指定された全てのリダイレクションの後に実行されます。
.PP
.\"O The return status of a pipeline is the exit status of the last
.\"O command, unless the \fBpipefail\fP option is enabled.
.\"O If \fBpipefail\fP is enabled, the pipeline's return status is the
.\"O value of the last (rightmost) command to exit with a non-zero status,
.\"O or zero if all commands exit successfully.
\fBpipefail\fP オプションが有効になっている場合を除き、
パイプラインの返却ステータスは最後のコマンドの終了ステータスになります。
\fBpipefail\fP が有効になっている場合には、
0 以外のステータスを返した最後の (一番右の) コマンドの値が
パイプラインの返却ステータスになり、
全てのコマンドが正常終了した場合にのみ 0 になります。
.\"O If the reserved word
.\"O .B !
.\"O precedes a pipeline, the exit status of that pipeline is the logical
.\"O negation of the exit status as described above.
.\"O The shell waits for all commands in the pipeline to
.\"O terminate before returning a value.
パイプラインの前に、予約語である
.B !
がある場合、
そのパイプラインの終了ステータスは上記の終了ステータスを
論理否定したものになります。
値を返す前に、シェルはパイプライン中の全てのコマンドが終了するのを待ちます。
.PP
.\"O If the
.\"O .B time
.\"O reserved word precedes a pipeline, the elapsed as well as user and
.\"O system time consumed by its execution are reported when the pipeline
.\"O terminates.
パイプラインの前に予約語
.B time
がある場合、コマンドの実行にかかった
経過時間・ユーザ時間・システム時間がパイプラインの終了時に報告されます。
.\"O The \fB\-p\fP option changes the output format to that specified by POSIX.
\fB\-p\fP オプションを指定すると、
出力フォーマットが POSIX 仕様に変わります。
.\"O When the shell is in \fIposix mode\fP, it does not recognize
.\"O \fBtime\fP as a reserved word if the next token begins with a `-'.
シェルが \fIposix モード\fP のときには、
後に続くのが `-' で始まるトークンであれば \fBtime\fP を予約語と認識しません。
.\"O The
.\"O .SM
.\"O .B TIMEFORMAT
.\"O variable may be set to a format string that specifies how the timing
.\"O information should be displayed; see the description of
.\"O .SM
.\"O .B TIMEFORMAT
.\"O under
.\"O .B "Shell Variables"
.\"O below.
変数
.SM
.B TIMEFORMAT
には、経過時間情報の表示の仕方を指定するフォーマット文字列を
設定できます (後述の
.B シェル変数
の項の
.SM
.B TIMEFORMAT
に関する説明を参照)。
.PP
.\"O When the shell is in \fIposix mode\fP, \fBtime\fP
.\"O may be followed by a newline.  In this case, the shell displays the
.\"O total user and system time consumed by the shell and its children.
シェルが \fIposix モード\fP のときには、\fBtime\fP の直後が
改行でもかまいません。
この場合、シェルと子プロセスがそれまでに消費した
ユーザ時間とシステム時間を出力します。
.\"O The
.\"O .B TIMEFORMAT
.\"O variable may be used to specify the format of
.\"O the time information.
このときにも、経過時間情報のフォーマットを変数
.SM
.B TIMEFORMAT
で指定できます。
.PP
.\"O Each command in a pipeline is executed as a separate process (i.e., in a
.\"O subshell).
パイプライン中の各コマンドは、それぞれ別のプロセスとして
(つまりサブシェル内で) 実行されます。
.\"O .SS Lists
.SS リスト
.PP
.\"O A \fIlist\fP is a sequence of one or more pipelines separated by one
.\"O of the operators
.\"O .BR ; ,
.\"O .BR & ,
.\"O .BR && ,
.\"O or
.\"O .BR || ,
.\"O and optionally terminated by one of
.\"O .BR ; ,
.\"O .BR & ,
.\"O or
.\"O .BR <newline> .
\fIリスト (list)\fP とは、1つ以上のパイプラインを演算子
.BR ; ,
.BR & ,
.BR && ,
.BR ||
のいずれかで区切って並べたものです。パイプラインの最後に
.BR ; ,
.BR & ,
.BR <newline>
のいずれかを置くこともできます。
.PP
.\"O Of these list operators,
.\"O .B &&
.\"O and
.\"O .B ||
.\"O have equal precedence, followed by
.\"O .B ;
.\"O and
.\"O .BR & ,
.\"O which have equal precedence.
リスト演算子のうち、
.B &&
と
.B ||
の優先順位は同じです。これらの次に、
.B ;
と
.BR &
が同じ優先順位で続きます。
.PP
.\"O A sequence of one or more newlines may appear in a \fIlist\fP instead
.\"O of a semicolon to delimit commands.
\fIリスト\fP 中では、コマンドの区切りとして、
セミコロンの代わりに一つ以上の改行が使われることもあります。
.PP
.\"O If a command is terminated by the control operator
.\"O .BR & ,
.\"O the shell executes the command in the \fIbackground\fP
.\"O in a subshell.  The shell does not wait for the command to
.\"O finish, and the return status is 0.  Commands separated by a
.\"O .B ;
.\"O are executed sequentially; the shell waits for each
.\"O command to terminate in turn.  The return status is the
.\"O exit status of the last command executed.
コマンドが制御演算子
.BR &
で終わっている場合、シェルはコマンドをサブシェル内で
\fIバックグラウンド (background)\fP で実行します。
シェルはコマンドが終了するのを待たずに、返却ステータス 0 を返します。
コマンドを
.B ;
で区切った場合には、これらは順番に実行されます。
シェルはそれぞれのコマンドが終了するのを順番に待ちます。
返却ステータスは、最後に実行したコマンドの終了ステータスになります。
.PP
.\"O AND and OR lists are sequences of one of more pipelines separated by the
.\"O \fB&&\fP and \fB||\fP control operators, respectively.
.\"O AND and OR lists are executed with left associativity.
.\"O An AND list has the form
.\"O .I command2
.\"O is executed if, and only if,
.\"O .I command1
.\"O returns an exit status of zero.
AND リストと OR リストは、それぞれ制御演算子 \fB&&\fP と
\fB||\fP で区切られたパイプラインの並びです。
AND リストと OR リストは左結合で実行されます。
AND リストは
.RS
.PP
\fIcommand1\fP \fB&&\fP \fIcommand2\fP
.RE
.PP
という形式であり、
.I command1
が終了ステータス 0 を返した場合に限り
.I command2
が実行されます。
.PP
.\"O An OR list has the form
.\"O .RS
.\"O .PP
.\"O \fIcommand1\fP \fB||\fP \fIcommand2\fP
.\"O .PP
.\"O .RE
.\"O .PP
.\"O .I command2
.\"O is executed if and only if
.\"O .I command1
.\"O returns a non-zero exit status.
OR リストは
.RS
.PP
\fIcommand1\fP \fB||\fP \fIcommand2\fP
.PP
.RE
.PP
という形式であり、
.I command1
が 0 以外の終了ステータスを返した場合に限り
.I command2
が実行されます。
.\"O The return status of
.\"O AND and OR lists is the exit status of the last command
.\"O executed in the list.
AND リストと OR リストの返却ステータスは、
リスト中で最後に実行されたコマンドの終了ステータスです。
.\"O .SS Compound Commands
.SS 複合コマンド (Compound Commands)
.PP
.\"O A \fIcompound command\fP is one of the following:
\fI複合コマンド (compound command)\fP を以下に示します:
.TP
(\fIlist\fP)
.\"O \fIlist\fP is executed in a subshell environment (see
.\"O .SM
.\"O \fBCOMMAND EXECUTION ENVIRONMENT\fP
.\"O below).
\fIlist\fP はサブシェル内で実行されます (後述の
.SM
\fBコマンド実行環境\fP
.B 
の項を参照)。
.\"O Variable assignments and builtin
.\"O commands that affect the shell's environment do not remain in effect
.\"O after the command completes.  The return status is the exit status of
.\"O \fIlist\fP.
シェルの環境に影響を与えるような変数の代入や組み込みコマンドは、
コマンドの終了後に影響を残しません。
返却ステータスは \fIlist\fP の終了ステータスです。
.TP
{ \fIlist\fP; }
.\"O \fIlist\fP is simply executed in the current shell environment.
.\"O \fIlist\fP must be terminated with a newline or semicolon.
.\"O This is known as a \fIgroup command\fP.
.\"O The return status is the exit status of
.\"O \fIlist\fP.
.\"O Note that unlike the metacharacters \fB(\fP and \fB)\fP, \fB{\fP and
.\"O \fB}\fP are \fIreserved words\fP and must occur where a reserved
.\"O word is permitted to be recognized.  Since they do not cause a word
.\"O break, they must be separated from \fIlist\fP by whitespace or another
.\"O shell metacharacter.
\fIlist\fP が単に現在のシェル環境で実行されます。
\fIlist\fP の最後は改行文字かセミコロンでなければなりません。これは
\fIグループコマンド(group command)\fP と呼ばれます。返却ステータスは
\fIlist\fP の終了ステータスです。
.if t .sp 0.5
.if n .sp 1
メタ文字である \fB(\fP や \fB)\fP と違い、 \fB{\fP と \fB}\fP は \fI予約語\fP であり、予約語として認識される場所に現われる必要があることに注意してください。
これらは単語分割の対象とならないため、
\fIリスト\fP との間が空白またはシェルのメタ文字で分かれている必要があります。
.TP
((\fIexpression\fP))
.\"O The \fIexpression\fP is evaluated according to the rules described
.\"O below under
.\"O .SM
.\"O .BR "ARITHMETIC EVALUATION" .
\fIexpression\fP が後述の
.SM
.BR 算術式評価
で説明される規則に従って評価されます。
.\"O If the value of the expression is non-zero, the return status is 0;
.\"O otherwise the return status is 1.  This is exactly equivalent to
.\"O \fBlet "\fIexpression\fP"\fR.
式の値が 0 でない場合、返却ステータスは 0 になります。そうでない場合、
返されるステータスは 1 になります。これは \fBlet "\fIexpression\fP"\fR
と全く同じものです。
.TP
\fB[[\fP \fIexpression\fP \fB]]\fP
.\"O Return a status of 0 or 1 depending on the evaluation of
.\"O the conditional expression \fIexpression\fP.
.\"O Expressions are composed of the primaries described below under
.\"O .SM
.\"O .BR "CONDITIONAL EXPRESSIONS" .
条件式 \fIexpression\fP の評価値に従って 0 または 1 を返します。
式は後述の
.SM
.BR 条件式
で説明する、プライマリによって構成されます。
.\"O Word splitting and pathname expansion are not performed on the words
.\"O between the \fB[[\fP and \fB]]\fP; tilde expansion, parameter and
.\"O variable expansion, arithmetic expansion, command substitution, process
.\"O substitution, and quote removal are performed.
.\"O Conditional operators such as \fB\-f\fP must be unquoted to be recognized
.\"O as primaries.
単語分割とパス名展開は \fB[[\fP と \fB]]\fP
の間の単語に対しては行われません。
チルダ展開、パラメータと変数の展開、算術式展開、コマンド置換、
プロセス置換、クォート除去は実行されます。
\fB\-f\fP などの条件演算子がプライマリとして認識されるためには、
クォートされていてはいけません。
.if t .sp 0.5
.if n .sp 1
.\"O When used with \fB[[\fP, the \fB<\fP and \fB>\fP operators sort
.\"O lexicographically using the current locale.
\fB[[\fP においては、\fB<\fP 演算子と \fB>\fP 演算子は、
現在のロケールにおける辞書順で比較します。
.if t .sp 0.5
.if n .sp 1
.\"O When the \fB==\fP and \fB!=\fP operators are used, the string to the
.\"O right of the operator is considered a pattern and matched according
.\"O to the rules described below under \fBPattern Matching\fP.
.\"O If the shell option
\fB==\fP 演算子と \fB!=\fP 演算子が使われたとき、
演算子の右の文字列はパターンと解釈され、
後述の\fBパターンマッチング\fPで説明する規則に従ってマッチングが行われます。
シェルオプション
.B nocasematch
.\"O .B nocasematch
.\"O is enabled, the match is performed without regard to the case
.\"O of alphabetic characters.
.\"O The return value is 0 if the string matches (\fB==\fP) or does not match
.\"O (\fB!=\fP) the pattern, and 1 otherwise.
.\"O Any part of the pattern may be quoted to force it to be matched as a
.\"O string.
が有効であれば、
アルファベットの大文字と小文字を考慮せずにマッチングが行われます。
返り値は、\fB==\fP 演算子では文字列がマッチしたときに、
\fB!=\fP 演算子では文字列がマッチしなかったときに 0 となり、
そうでない場合に 1 となります。
パターン中のどの部分でも、クォートすることで、
ただの文字列としてマッチングさせることができます。
.if t .sp 0.5
.if n .sp 1
.\"O An additional binary operator, \fB=~\fP, is available, with the same
.\"O precedence as \fB==\fP and \fB!=\fP.
.\"O When it is used, the string to the right of the operator is considered
.\"O an extended regular expression and matched accordingly (as in \fIregex\fP(3)).  
.\"O The return value is 0 if the string matches
.\"O the pattern, and 1 otherwise.
.\"O If the regular expression is syntactically incorrect, the conditional
.\"O expression's return value is 2.
.\"O If the shell option
.\"O .B nocasematch
.\"O is enabled, the match is performed without regard to the case
.\"O of alphabetic characters.
そのほか、二項演算子 \fB=~\fP もあります。
優先順位は \fB==\fP や \fB!=\fP と同じです。
これを使うと、右辺の文字列は拡張正規表現とみなされ、
それに従って (\fIregex\fP(3) にあるように) マッチングが行われます。
文字列がパターンにマッチすれば返り値は 0 であり、
マッチしなければ返り値は 1 になります。
正規表現が文法的に誤っていれば、条件式の返り値は 2 になります。
シェルオプション
.B nocasematch
が有効であれば、
アルファベットの大文字と小文字を考慮せずにマッチングが行われます。
.\"O Any part of the pattern may be quoted to force it to be matched as a
.\"O string.
.\"O Substrings matched by parenthesized subexpressions within the regular
.\"O expression are saved in the array variable
.\"O .SM
.\"O .BR BASH_REMATCH .
.\"O The element of
.\"O .SM
.\"O .B BASH_REMATCH
.\"O with index 0 is the portion of the string
.\"O matching the entire regular expression.
パターン中のどの部分でも、クォートすることで、
ただの文字列としてマッチングさせることができます。
正規表現中の括弧による部分式にマッチした部分文字列は、配列変数
.SM
.BR BASH_REMATCH
に保存されます。
.SM
.B BASH_REMATCH
.\"O The element of
のインデックス 0 の要素は、文字列のうち正規表現全体にマッチした部分になります。
.\"O .SM
.\"O .B BASH_REMATCH
.\"O with index \fIn\fP is the portion of the
.\"O string matching the \fIn\fPth parenthesized subexpression.
.SM
.B BASH_REMATCH
のインデックス \fIn\fP の要素は、文字列のうち、
正規表現中の \fIn\fP 番目の括弧による部分式にマッチした部分になります。
.if t .sp 0.5
.if n .sp 1
.\"O Expressions may be combined using the following operators, listed
.\"O in decreasing order of precedence:
式は以下の演算子を使って繋げられます。
以下に演算子を優先度の順に示します:
.if t .sp 0.5
.if n .sp 1
.RS
.PD 0
.TP
.B ( \fIexpression\fP )
.\"O Returns the value of \fIexpression\fP.
.\"O This may be used to override the normal precedence of operators.
\fIexpression\fP の値を返します。これを用いて、
演算子の通常の優先度を変更できます。
.TP
.B ! \fIexpression\fP
.\"O True if
.\"O .I expression
.\"O is false.
.I expression
が偽ならば真になります。
.TP
\fIexpression1\fP \fB&&\fP \fIexpression2\fP
.\"O True if both
.\"O .I expression1
.\"O and
.\"O .I expression2
.\"O are true.
.I expression1
と
.I expression2
が両方とも真であれば真になります。
.TP
\fIexpression1\fP \fB||\fP \fIexpression2\fP
.\"O True if either
.\"O .I expression1
.\"O or
.\"O .I expression2
.\"O is true.
.I expression1
と
.I expression2
のどちらかが真であれば真となります。
.PD
.LP
.\"O The \fB&&\fP and \fB||\fP
.\"O operators do not evaluate \fIexpression2\fP if the value of
.\"O \fIexpression1\fP is sufficient to determine the return value of
.\"O the entire conditional expression.
\fIexpression1\fP の値だけで条件式全体の返り値が決定できれば、
\fB&&\fP 演算子と \fB||\fP 演算子は \fIexpression2\fP を実行しません。
.RE
.TP
\fBfor\fP \fIname\fP [ [ \fBin\fP [ \fIword ...\fP ] ] ; ] \fBdo\fP \fIlist\fP ; \fBdone\fP
.\"O The list of words following \fBin\fP is expanded, generating a list
.\"O of items.
.\"O The variable \fIname\fP is set to each element of this list
.\"O in turn, and \fIlist\fP is executed each time.
.\"O If the \fBin\fP \fIword\fP is omitted, the \fBfor\fP command executes
.\"O \fIlist\fP once for each positional parameter that is set (see
.\"O .SM
.\"O .B PARAMETERS
.\"O below).
\fBin\fP に続く単語のリストが展開され、要素のリストが生成されます。
変数 \fIname\fP には、このリストの各要素が順番にセットされ、そのたびに
\fIlist\fP が実行されます。「\fBin\fP \fIword\fP」が省略された場合、
\fBfor\fP コマンドは、設定されている位置パラメータそれぞれに対して
\fIlist\fP を一度ずつ実行します(後述の
.SM
.B パラメータ
を参照)。
.\"O The return status is the exit status of the last command that executes.
.\"O If the expansion of the items following \fBin\fP results in an empty
.\"O list, no commands are executed, and the return status is 0.
返却ステータスは実行された最後のコマンドの終了ステータスになります。
\fBin\fP に続く要素を展開した結果が空となった場合、
コマンドは全く実行されず、返却ステータス 0 が返されます。
.TP
\fBfor\fP (( \fIexpr1\fP ; \fIexpr2\fP ; \fIexpr3\fP )) ; \fBdo\fP \fIlist\fP ; \fBdone\fP
.\"O First, the arithmetic expression \fIexpr1\fP is evaluated according
.\"O to the rules described below under
.\"O .SM
.\"O .BR "ARITHMETIC EVALUATION" .
.\"O The arithmetic expression \fIexpr2\fP is then evaluated repeatedly
.\"O until it evaluates to zero.
.\"O Each time \fIexpr2\fP evaluates to a non-zero value, \fIlist\fP is
.\"O executed and the arithmetic expression \fIexpr3\fP is evaluated.
.\"O If any expression is omitted, it behaves as if it evaluates to 1.
.\"O The return value is the exit status of the last command in \fIlist\fP
.\"O that is executed, or false if any of the expressions is invalid.
最初に、算術式 \fIexpr1\fP が、後述の
.SM
.BR 算術式評価
で説明される規則に従って評価されます。
次に、算術式 \fIexpr2\fP がゼロになるまで繰り返し評価されます。
算術式 \fIexpr2\fP の評価結果がゼロでなければ、そのたびごとに\fIlist\fPが実行され、
算術式 \fIexpr3\fP が評価されます。
どの算術式も、省略された場合は、
評価結果が 1 であったものとして振舞います。
返却ステータスは \fIlist\fP 中で実行された
最後のコマンドの終了ステータスとなりますが、
算術式のいずれかが不正である場合には偽となります。
.TP
\fBselect\fP \fIname\fP [ \fBin\fP \fIword\fP ] ; \fBdo\fP \fIlist\fP ; \fBdone\fP
.\"O The list of words following \fBin\fP is expanded, generating a list
.\"O of items.  The set of expanded words is printed on the standard
.\"O error, each preceded by a number.  If the \fBin\fP
.\"O \fIword\fP is omitted, the positional parameters are printed (see
.\"O .SM
.\"O .B PARAMETERS
.\"O below).  The
.\"O .SM
.\"O .B PS3
.\"O prompt is then displayed and a line read from the standard input.
.\"O If the line consists of a number corresponding to one of
.\"O the displayed words, then the value of
.\"O .I name
.\"O is set to that word.  If the line is empty, the words and prompt
.\"O are displayed again.  If EOF is read, the command completes.  Any
.\"O other value read causes
.\"O .I name
.\"O to be set to null.  The line read is saved in the variable
.\"O .SM
.\"O .BR REPLY .
.\"O The
.\"O .I list
.\"O is executed after each selection until a
.\"O .B break
.\"O command is executed.
.\"O The exit status of
\fBin\fP に続く単語のリストが展開され、要素のリストが生成されます。
展開された単語の集合が番号付きで標準エラー出力に出力されます。
「\fBin\fP \fIword\fP」が省略された場合、
位置パラメータが出力されます (後述の
.SM
.B パラメータ
を参照)。続いて
.B PS3
プロンプトが表示され、標準入力から 1 行の読み込みが行われます。
表示された単語のいずれかに対応する数字がこの行に含まれていれば、
.I name
の値としてその単語が設定されます。
行が空であれば、単語とプロンプトが再び表示されます。
EOF を読み込むとコマンドが終了します。
これ以外の値の場合には、
.I name
には空文字列が設定されます。読み込んだ行は変数
.BR REPLY
に格納されます。
.B break
コマンドが実行されるまで、選択を行うたびに
.I list
が実行されます。
.\"O .B select
.\"O is the exit status of the last command executed in
.\"O .IR list ,
.\"O or zero if no commands were executed.
.B select
の終了ステータスは、
.I list
中で最後に実行したコマンドの終了ステータスですが、
コマンドが全く実行されなかった場合には 0 となります。
.TP
\fBcase\fP \fIword\fP \fBin\fP [ [(] \fIpattern\fP [ \fB|\fP \fIpattern\fP ] \
... ) \fIlist\fP ;; ] ... \fBesac\fP
.\"O A \fBcase\fP command first expands \fIword\fP, and tries to match
.\"O it against each \fIpattern\fP in turn, using the same matching rules
.\"O as for pathname expansion (see
.\"O .B Pathname Expansion
.\"O below).
.\"O The \fIword\fP is expanded using tilde
.\"O expansion, parameter and variable expansion, arithmetic substitution,
.\"O command substitution, process substitution and quote removal.
.\"O Each \fIpattern\fP examined is expanded using tilde
.\"O expansion, parameter and variable expansion, arithmetic substitution,
.\"O command substitution, and process substitution.
\fBcase\fP コマンドは最初に \fIword\fP を展開し、それぞれの
\fIpattern\fP に対して順にマッチングを試みます。
マッチングの際にはパス名展開 (後述の
.B パス名展開
を参照) と同じ規則が用いられます。
\fIword\fP には、チルダ展開、パラメータと変数の展開、算術式展開、
コマンド置換、プロセス置換、クォート除去が実行されます。
それぞれの \fIpattern\fP は、チルダ展開、パラメータと変数の展開、
算術式展開、コマンド置換、プロセス置換、クォート除去のうえで比較されます。
.\"O If the shell option
.\"O .B nocasematch
.\"O is enabled, the match is performed without regard to the case
.\"O of alphabetic characters.
.\"O When a match is found, the corresponding \fIlist\fP is executed.
.\"O If the \fB;;\fP operator is used, no subsequent matches are attempted after
.\"O the first pattern match.
.\"O Using \fB;&\fP in place of \fB;;\fP causes execution to continue with
.\"O the \fIlist\fP associated with the next set of patterns.
.\"O Using \fB;;&\fP in place of \fB;;\fP causes the shell to test the next
.\"O pattern list in the statement, if any, and execute any associated \fIlist\fP
.\"O on a successful match.
.\"O The exit status is zero if no
.\"O pattern matches.  Otherwise, it is the exit status of the
.\"O last command executed in \fIlist\fP.
シェルオプション
.B nocasematch
が有効であれば、
アルファベットの大文字と小文字を考慮せずにマッチングが行われます。
マッチするものが見つかると、これに対応する \fIlist\fP が実行されます。
\fB;;\fP 演算子を使うと、
最初にマッチしたパターン以降のマッチングは試みられません。
\fB;;\fP の代わりに \fB;&\fP を使うと、
その次のパターンに対応する \fIlist\fP の実行に続きます。
\fB;;\fP の代わりに \fB;;&\fP を使うと、
次のパターンがあればそのマッチングを試み、
マッチすれば対応する \fIlist\fP を実行します。
マッチするパターンが無ければ、終了ステータスは 0 になります。
マッチするものがあったら、終了ステータスは
\fIlist\fP 中で最後に実行されたコマンドの終了ステータスになります。
.TP
\fBif\fP \fIlist\fP; \fBthen\fP \fIlist;\fP \
[ \fBelif\fP \fIlist\fP; \fBthen\fP \fIlist\fP; ] ... \
[ \fBelse\fP \fIlist\fP; ] \fBfi\fP
.\"O The
.\"O .B if
.\"O .I list
.\"O is executed.  If its exit status is zero, the
.\"O \fBthen\fP \fIlist\fP is executed.  Otherwise, each \fBelif\fP
.\"O \fIlist\fP is executed in turn, and if its exit status is zero,
.\"O the corresponding \fBthen\fP \fIlist\fP is executed and the
.\"O command completes.  Otherwise, the \fBelse\fP \fIlist\fP is
.\"O executed, if present.  The exit status is the exit status of the
.\"O last command executed, or zero if no condition tested true.
最初に
.B if 
.I list
が実行されます。\fIlist\fP の終了ステータスが 0 ならば、\fBthen\fP \fIlist\fP
が実行されます。
そうでなければ \fBelif\fP \fIlist\fP がそれぞれ順番に実行され、
\fIlist\fP の終了ステータスが 0 ならば、対応する \fBthen\fP \fIlist\fP
が実行され、コマンドが終了します。そうでなければ、\fBelse\fP \fIlist\fP
が (もし存在すれば) 実行されます。
終了ステータスは最後に実行されたコマンドの終了ステータスですが、
真と評価された条件が全くない場合には 0 となります。
.TP
\fBwhile\fP \fIlist-1\fP; \fBdo\fP \fIlist-2\fP; \fBdone\fP
.PD 0
.TP
\fBuntil\fP \fIlist-1\fP; \fBdo\fP \fIlist-2\fP; \fBdone\fP
.PD
.\"O The \fBwhile\fP command continuously executes the list
.\"O \fIlist-2\fP as long as the last command in the list \fIlist-1\fP returns
.\"O an exit status of zero.  The \fBuntil\fP command is identical
.\"O to the \fBwhile\fP command, except that the test is negated;
.\"O .I list-2
.\"O is executed as long as the last command in
.\"O .I list-1
.\"O returns a non-zero exit status.
\fBwhile\fP コマンドは、\fIlist-1\fP 中の最後のコマンドが終了ステータス
0 を返す間、繰り返して \fIlist-2\fP を実行します。\fBuntil\fP
コマンドは \fBwhile\fP コマンドとほぼ同じですが、
評価の条件が逆となる点が異なります。
.I list-2
は
.I list-1
中の最後のコマンドが
0 以外の終了ステータスを返す限りずっと実行されます。
.\"O The exit status of the \fBwhile\fP and \fBuntil\fP commands
.\"O is the exit status
.\"O of the last command executed in \fIlist-2\fP, or zero if
.\"O none was executed.
\fBwhile\fP コマンドと \fBuntil\fP コマンドの終了ステータスは、
\fBdo\fP \fIlist-2\fP で実行された最後のコマンドの終了ステータスになりますが、
コマンドが全く実行されなかった場合には 0 になります。
.\"O .SS Coprocesses
.SS コプロセス (Coprocesses)
.PP
.\"O A \fIcoprocess\fP is a shell command preceded by the \fBcoproc\fP reserved
.\"O word.
.\"O A coprocess is executed asynchronously in a subshell, as if the command
.\"O had been terminated with the \fB&\fP control operator, with a two-way pipe
.\"O established between the executing shell and the coprocess.
\fIコプロセス (coprocess)\fP とは、予約語 \fBcoproc\fP
で始まるシェルのコマンドのことです。
コプロセスは、コマンドが制御演算子 \fB&\fP で終わっているときのように、
サブシェルで非同期に実行されます。
実行したシェルとコプロセスの間には、双方向のパイプが設けられます
.PP
.\"O The format for a coprocess is:
コプロセスのフォーマットを以下に示します:
.RS
.PP
\fBcoproc\fP [\fINAME\fP] \fIcommand\fP [\fIredirections\fP]
.RE
.PP
.\"O This creates a coprocess named \fINAME\fP.
.\"O If \fINAME\fP is not supplied, the default name is \fICOPROC\fP.
.\"O \fINAME\fP must not be supplied if \fIcommand\fP is a \fIsimple
.\"O command\fP (see above); otherwise, it is interpreted as the first word
.\"O of the simple command.
.\"O When the coproc is executed, the shell creates an array variable (see
.\"O .B Arrays
.\"O below) named \fINAME\fP in the context of the executing shell.
.\"O The standard output of
.\"O .I command
.\"O is connected via a pipe to a file descriptor in the executing shell,
.\"O and that file descriptor is assigned to \fINAME\fP[0].
これにより \fINAME\fP という名前のコプロセスが作られます。
\fINAME\fP が指定されない場合、デフォルトの名前は \fICOPROC\fP となります。
\fIcommand\fP が \fI単純なコマンド\fP (前述) のときには、
\fINAME\fP は指定できません。
指定すると、単純なコマンドの最初の単語として扱われます。
コプロセスが実行されると、実行したシェルのコンテキストに
\fINAME\fP という名前の配列変数 (後述の
.B 配列
を参照) が作られます。
.I command
の標準出力は、実行しているシェルのファイル・ディスクリプターの一つと
パイプによって接続されます。
このファイル・ディスクリプターは \fINAME\fP[0] に代入されます。
.\"O The standard input of
.\"O .I command
.\"O is connected via a pipe to a file descriptor in the executing shell,
.\"O and that file descriptor is assigned to \fINAME\fP[1].
.\"O This pipe is established before any redirections specified by the
.\"O command (see
.\"O .SM
.\"O .B REDIRECTION
.\"O below).
.I command
の標準入力は、実行しているシェルのファイル・ディスクリプターの一つと
パイプによって接続されます。
このファイル・ディスクリプターは \fINAME\fP[1] に代入されます。
このパイプは、コマンドで指定されたほかのリダイレクトより先に設けられます
(後述の
.SM
.B リダイレクト
を参照)。
.\"O The file descriptors can be utilized as arguments to shell commands
.\"O and redirections using standard word expansions.
.\"O The process ID of the shell spawned to execute the coprocess is
.\"O available as the value of the variable \fINAME\fP_PID.
.\"O The \fBwait\fP
.\"O builtin command may be used to wait for the coprocess to terminate.
ファイル・ディスクリプターは、標準的な単語展開により、
シェルのコマンドの引き数やリダイレクションに指定できます。
コプロセスの実行で生成されたシェルのプロセス ID は、変数
\fINAME\fP_PID の値になります。
コプロセスの終了を待つには、組み込みコマンド \fBwait\fP を使います。
.PP
.\"O The return status of a coprocess is the exit status of \fIcommand\fP.
コプロセスの返却ステータスは、\fIcommand\fP の終了ステータスです。
.\"O .SS Shell Function Definitions
.SS 関数定義
.PP
.\"O A shell function is an object that is called like a simple command and
.\"O executes a compound command with a new set of positional parameters.
.\"O Shell functions are declared as follows:
シェル関数とは、単純なコマンドとして呼び出されて、
新しい位置パラメーターの一式を持つ複合コマンドを実行するもののことです。
シェル関数は以下の形式で宣言します:
.TP
\fIname\fP () \fIcompound\-command\fP [\fIredirection\fP]
.PD 0
.TP
\fBfunction\fP \fIname\fP [()] \fIcompound\-command\fP [\fIredirection\fP]
.PD
.\"O This defines a function named \fIname\fP.
.\"O The reserved word \fBfunction\fP is optional.
.\"O If the \fBfunction\fP reserved word is supplied, the parentheses are optional.
これによって \fIname\fP という名前の関数が定義されます。
予約語 \fBfunction\fP は省略可能です。
予約語 \fBfunction\fP が与えられた場合、括弧は省略可能です。
.\"O The \fIbody\fP of the function is the compound command
関数の \fI実体\fP は複合コマンド
.\"O .I compound\-command 
.\"O (see \fBCompound Commands\fP above).
.I compound\-command 
です (前述の \fB複合コマンド\fP を参照)。
.\"O That command is usually a \fIlist\fP of commands between { and }, but
.\"O may be any command listed under \fBCompound Commands\fP above.
.\"O \fIcompound\-command\fP is executed whenever \fIname\fP is specified as the
.\"O name of a simple command.
.\"O Any redirections (see
.\"O .SM
.\"O .B REDIRECTION
.\"O below) specified when a function is defined are performed
.\"O when the function is executed.
多くの場合、 { と } に挟まれたコマンドの \fIリスト\fP が用いられますが、
前述の \fB複合コマンド\fP で挙げたどのコマンドを用いてもかまいません。
単純なコマンドの名前として \fIname\fP を指定するといつでも
\fIcompound\-command\fP が実行されます。
関数の定義で指定されたリダイレクション (後述の
.SM
.B リダイレクト
を参照) は、関数が実行されるときに処理されます。
.\"O The exit status of a function definition is zero unless a syntax error
.\"O occurs or a readonly function with the same name already exists.
.\"O When executed, the exit status of a function is the exit status of the
.\"O last command executed in the body.  (See
.\"O .SM
.\"O .B FUNCTIONS
.\"O below.)
関数定義の終了ステータスは、文法エラーが起きた場合や、
読み込み専用の関数が同じ名前で定義されていた場合を除き、0 です。
関数を実行したときの終了ステータスは、実体の中で最後に実行されたコマンドの終了ステータスになります (後述の
.SM
.B 関数
を参照)。
.\"O .SH COMMENTS
.SH コメント (COMMENTS)
.\"O In a non-interactive shell, or an interactive shell in which the
.\"O .B interactive_comments
.\"O option to the
.\"O .B shopt
.\"O builtin is enabled (see
.\"O .SM
.\"O .B "SHELL BUILTIN COMMANDS"
.\"O below), a word beginning with
.\"O .B #
.\"O causes that word and all remaining characters on that line to
.\"O be ignored.  An interactive shell without the
.\"O .B interactive_comments
.\"O option enabled does not allow comments.  The
.\"O .B interactive_comments
.\"O option is on by default in interactive shells.
シェルが対話的でない場合、または対話的なシェルにおいて
組み込みコマンドの
.B shopt
に対する
.B interactive_comments
オプションが有効となっている (後述の
.SM
.B シェルの組み込みコマンド
を参照すること) 場合には、
.B #
で始まる単語があると、その単語とその行の残りの文字が全て無視されます。
対話シェルでは、
.B interactive_comments
オプションが有効でなければコメントは使えません。対話シェルでは、
.B interactive_comments
オプションはデフォルトで有効になっています。
.\"O .SH QUOTING
.SH クォート
.\"O \fIQuoting\fP is used to remove the special meaning of certain
.\"O characters or words to the shell.  Quoting can be used to 
.\"O disable special treatment for special characters, to prevent
.\"O reserved words from being recognized as such, and to prevent
.\"O parameter expansion.
\fIクォート (quoting)\fP を使うと、
特定の文字や単語が持つシェルに対する特別な意味をなくせます。
クォートを用いると、特殊文字の特殊な扱いを無効にしたり、
予約語が予約語として識別されることを防いだり、
パラメータの展開を防いだりできます。
.PP
.\"O Each of the \fImetacharacters\fP listed above under
.\"O .SM
.\"O .B DEFINITIONS
.\"O has special meaning to the shell and must be quoted if it is to
.\"O represent itself.
前述の
.SM
.B 定義
で挙げた\fIメタ文字 (metacharacters)\fP にはそれぞれ特殊な意味があるので、
その文字自身を表すためにはクォートしなければなりません。
.PP
.\"O When the command history expansion facilities are being used
.\"O (see
.\"O .SM
.\"O .B HISTORY EXPANSION
.\"O below), the
.\"O \fIhistory expansion\fP character, usually \fB!\fP, must be quoted
.\"O to prevent history expansion.
コマンドの履歴展開の機能 (後述の
.SM
.B 履歴の展開
を参照) 
が使われているときには、\fI履歴展開\fP 文字 (通常は \fB!\fP) の
履歴展開を防ぐためにはクォートしなければなりません。
.PP
.\"O There are three quoting mechanisms: the
.\"O .IR "escape character" ,
.\"O single quotes, and double quotes.
クォートの方法には、
.IR "エスケープ文字(escape character)" ,
シングルクォート、ダブルクォートの 3 種類があります。
.PP
.\"O A non-quoted backslash (\fB\e\fP) is the
.\"O .IR "escape character" .
.\"O It preserves the literal value of the next character that follows,
.\"O with the exception of <newline>.  If a \fB\e\fP<newline> pair
.\"O appears, and the backslash is not itself quoted, the \fB\e\fP<newline>
.\"O is treated as a line continuation (that is, it is removed from the
.\"O input stream and effectively ignored).
クォートされていないバックスラッシュ (\fB\e\fP) は
.I エスケープ文字
です。エスケープ文字は <newline> という例外を除き、
後に続く文字 1 つの文字としての値を保持させます。
\fB\e\fP<newline> という組み合わせが現われ、
かつバックスラッシュ自身がクォートされていない場合には、
\fB\e\fP<newline> は行を継続することを表します
(つまり、入力ストリームから改行文字が削除され、実質的に無視されます)。
.PP
.\"O Enclosing characters in single quotes preserves the literal value
.\"O of each character within the quotes.  A single quote may not occur
.\"O between single quotes, even when preceded by a backslash.
シングルクォートで文字を囲むと、
クォート内部のそれぞれの文字は文字としての値を保持します。
シングルクォートの間にシングルクォートを置くことはできません。
これはバックスラッシュを前に付けても同じです。
.PP
.\"O Enclosing characters in double quotes preserves the literal value
.\"O of all characters within the quotes, with the exception of
.\"O .BR $ ,
.\"O .BR \` ,
.\"O .BR \e ,
.\"O and, when history expansion is enabled,
.\"O .BR ! .
.\"O The characters
.\"O .B $
.\"O and
.\"O .B \`
.\"O retain their special meaning within double quotes.  The backslash
.\"O retains its special meaning only when followed by one of the following
.\"O characters:
.\"O .BR \e ,
.\"O or
.\"O .BR <newline> .
.\"O A double quote may be quoted within double quotes by preceding it with
.\"O a backslash.
ダブルクォートで文字を囲むとクォート内部の全ての文字は文字としての値を
保持しますが、
.BR $ ,
.BR \` ,
.BR \e
は例外となります。
履歴展開が有効なときには、
.BR !
がこれに加わります。
.B $
と
.B \`
はダブルクォートの内部でも特殊な意味を失いません。
バックスラッシュの場合は、次の文字が
.BR $ ,
.BR \` ,
\^\fB"\fP\^,
.BR \e ,
.BR <newline>
のいずれかである場合に限り特殊な意味を失いません。
前にバックスラッシュを付ければ、
ダブルクォート文字をダブルクォートによるクォートの内部で
クォートできます。
.\"O If enabled, history expansion will be performed unless an
.\"O .B !
.\"O appearing in double quotes is escaped using a backslash.
.\"O The backslash preceding the
.\"O .B !
.\"O is not removed.
履歴展開は有効であれば実行されますが、ダブルクォート中の
.B !
がバックスラッシュでエスケープされている場合を除きます。
.B !
の前のバックスラッシュは削除されません。
.PP
.\"O The special parameters
.\"O .B *
.\"O and
.\"O .B @
.\"O have special meaning when in double
.\"O quotes (see
.\"O .SM
.\"O .B PARAMETERS
.\"O below).
特殊なパラメータである
.B *
と
.B @
は、ダブルクォート内部でも特殊な意味を失いません (後述の
.SM
.B パラメータ
を参照)。
.PP
.\"O Words of the form \fB$\fP\(aq\fIstring\fP\(aq are treated specially.  The
.\"O word expands to \fIstring\fP, with backslash-escaped characters replaced
.\"O as specified by the ANSI C standard.  Backslash escape sequences, if
.\"O present, are decoded as follows:
\fB$\fP'\fIstring\fP' の形式を持つ単語は特殊な扱いを受けます。
この単語は \fIstring\fP に展開され、
それから ANSI C 標準で仕様が決められている、
バックスラッシュでエスケープされている文字に置き換えられます。
バックスラッシュエスケープシーケンスは、
(もし存在すれば) 以下のようにデコードされます:
.RS
.PD 0
.TP
.B \ea
.\"O alert (bell)
警告 (ベル)
.TP
.B \eb
.\"O backspace
バックスペース
.TP
.B \ee
.TP
.B \eE
.\"O an escape character
エスケープ文字
.TP   
.B \ef
.\"O form feed
フォームフィード文字
.TP  
.B \en
.\"O new line
改行文字
.TP     
.B \er
.\"O carriage return
復帰文字
.TP
.B \et
.\"O horizontal tab
水平タブ文字
.TP   
.B \ev
.\"O vertical tab
垂直タブ文字
.TP
.B \e\e
.\"O backslash
バックスラッシュ
.TP
.B \e\(aq
.\"O single quote
シングルクォート
.TP
.B \e\(dq
.\"O double quote
ダブルクォート
.TP   
.B \e\fInnn\fP
.\"O the eight-bit character whose value is the octal value \fInnn\fP
.\"O (one to three digits)
ASCII コードの 8 進値が \fInnn\fP である文字 (1 文字につき数字 0〜3 桁)。
.TP
.B \ex\fIHH\fP
.\"O the eight-bit character whose value is the hexadecimal value \fIHH\fP
.\"O (one or two hex digits)
ASCII コードの 16 進値が \fInnn\fP である文字 (1 文字につき数字 1 または 2 桁)。
.TP
.B \eu\fIHHHH\fP
.\"O the Unicode (ISO/IEC 10646) character whose value is the hexadecimal value
.\"O \fIHHHH\fP (one to four hex digits)
ユニコード (ISO/IEC 10646) の16 進値が \fIHHHH\fP である文字 (16 進 1〜4 桁)。
.TP
.B \eU\fIHHHHHHHH\fP
.\"O the Unicode (ISO/IEC 10646) character whose value is the hexadecimal value
.\"O \fIHHHHHHHH\fP (one to eight hex digits)
ユニコード (ISO/IEC 10646) の16 進値が \fIHHHHHHHH\fP である文字 (16 進 1〜8 桁)。
.TP
.B \ec\fIx\fP
.\"O a control-\fIx\fP character
control-\fIx\fP の文字
.PD
.RE
.LP
.\"O The expanded result is single-quoted, as if the dollar sign had
.\"O not been present.
展開された結果はシングルクォートされているのと同じ状態で、
ドル記号は存在しなかったかのように扱われます。
.PP
.\"O A double-quoted string preceded by a dollar sign (\fB$\fP\(dq\fIstring\fP\(dq)
.\"O will cause the string to be translated according to the current locale.
.\"O If the current locale is \fBC\fP or \fBPOSIX\fP, the dollar sign
.\"O is ignored.
.\"O If the string is translated and replaced, the replacement is
.\"O double-quoted.
ダブルクォートされた文字列の前にドル記号があると (\fB$\fP\(dq\fIstring\fP\(dq)、
文字列は現在のロケールに従って変換されます。
現在のロケールが \fBC\fP または \fBPOSIX\fP ならば、
ドル記号は無視されます。文字列が変換されたり置換されたりした場合には、
その結果はダブルクォートされているのと同じ状態になります。
.\"O .SH PARAMETERS
.SH パラメータ
.\"O A
.\"O .I parameter
.\"O is an entity that stores values.
.\"O It can be a
.\"O .IR name ,
.\"O a number, or one of the special characters listed below under
.\"O .BR "Special Parameters" .
.\"O A
.\"O .I variable
.\"O is a parameter denoted by a
.\"O .IR name .
.I パラメータ (parameter)
は値を保持するためのものです。パラメータは
.IR 名前 、
数字、後述の
.BR 特殊なパラメータ
で挙げる特殊文字のいずれかで表現されます。シェルでの用法においては、
.I 変数(variable)
とは
.I 名前
で表現されたパラメータです。
.\"O A variable has a \fIvalue\fP and zero or more \fIattributes\fP.
.\"O Attributes are assigned using the
.\"O .B declare
.\"O builtin command (see
.\"O .B declare
.\"O below in
.\"O .SM
.\"O .BR "SHELL BUILTIN COMMANDS" ).
変数は\fI値\fPと 0 個以上の\fI属性\fPを持ちます。
属性は
.B declare
組み込みコマンド (後述の
.SM
.B シェルの組み込みコマンド
の
.B declare
の項を参照) で設定されます。
.PP
.\"O A parameter is set if it has been assigned a value.  The null string is
.\"O a valid value.  Once a variable is set, it may be unset only by using
.\"O the
.\"O .B unset
.\"O builtin command (see
.\"O .SM
.\"O .B SHELL BUILTIN COMMANDS
.\"O below).
パラメータに値が代入されていれば、
そのパラメータは設定 (set) されていると言われます。
空文字列も有効な値です。一度値を設定すると、組み込みコマンドの
.B unset
を使わなければ削除 (unset) できません
(後述の
.SM
.B シェルの組み込みコマンド
を参照)。
.PP
.\"O A
.\"O .I variable
.\"O may be assigned to by a statement of the form
.I 変数
には、以下の構文で代入できます:
.RS
.PP
\fIname\fP=[\fIvalue\fP]
.RE
.PP
.\"O If
.\"O .I value
.\"O is not given, the variable is assigned the null string.  All
.\"O .I values
.\"O undergo tilde expansion, parameter and variable expansion,
.\"O command substitution, arithmetic expansion, and quote
.\"O removal (see
.\"O .SM
.\"O .B EXPANSION
.\"O below).  If the variable has its
.\"O .B integer
.\"O attribute set, then
.\"O .I value
.\"O is evaluated as an arithmetic expression even if the $((...)) expansion is
.\"O not used (see
.\"O .B "Arithmetic Expansion"
.\"O below).
.\"O Word splitting is not performed, with the exception
.\"O of \fB"$@"\fP as explained below under
.\"O .BR "Special Parameters" .
.\"O Pathname expansion is not performed.
.I value
が与えられなかった場合、変数には空文字列が代入されます。全ての
.I value
に対して、チルダ展開、パラメータと変数の展開、コマンド置換、
算術式展開、クォート除去が行われます (後述の
.B 展開
を参照)。変数の
.B 整数
属性が設定されている場合 (後述の
.BR シェルの組み込みコマンド
を参照)、$((...)) の展開を使っていなくても
.I value
に対しての算術展開が行われます (後述の
.B 算術式展開
を参照)。
.BR 特殊パラメータ
で後述する \fB"$@"\fP という例外を除いて、単語の分割は行われません。
パス名展開も実行されません。
.\"O Assignment statements may also appear as arguments to the
.\"O .BR alias ,
.\"O .BR declare ,
.\"O .BR typeset ,
.\"O .BR export ,
.\"O .BR readonly ,
.\"O and
.\"O .B local
.\"O builtin commands.
代入文は組み込みコマンドの
.BR alias ,
.BR declare ,
.BR typeset ,
.BR export ,
.BR readonly ,
.B local
の引き数でも使われます。
.PP
.\"O In the context where an assignment statement is assigning a value
.\"O to a shell variable or array index, the += operator can be used to
.\"O append to or add to the variable's previous value.
.\"O When += is applied to a variable for which the \fIinteger\fP attribute has been
.\"O set, \fIvalue\fP is evaluated as an arithmetic expression and added to the
.\"O variable's current value, which is also evaluated.
.\"O When += is applied to an array variable using compound assignment (see
.\"O .B Arrays
.\"O below), the
.\"O variable's value is not unset (as it is when using =), and new values are
.\"O appended to the array beginning at one greater than the array's maximum index
.\"O (for indexed arrays) or added as additional key\-value pairs in an
.\"O associative array.
.\"O When applied to a string-valued variable, \fIvalue\fP is expanded and
.\"O appended to the variable's value.
代入文でシェル変数や配列のインデックスに値を代入する場面では、
+= 演算子を使って変数の直前の値に追加したり加算したりできます。
+= を\fI整数\fP属性が設定された変数に対して使うと、
\fI値\fPは算術式展開として評価され、
変数の現在の値に加算されます。
+= を配列変数への複合代入 (後述の
.B 配列
を参照) で使うと、
変数の現在の値は (= を使ったときとは違って) 削除されません。
インデックスによる配列の場合は、新しい値が最大のインデックス
より一つ大きいインデックスから配列に追加されます。
連想配列の場合は、新しいキーと値の組が追加されます。
文字列の値の変数に対して使うと、\fI値\fPが展開されて、
変数の元の値の後に追加されます。
.\"O .SS Positional Parameters
.SS 位置パラメータ(Positional Parameters)
.PP
.\"O A
.\"O .I positional parameter
.\"O is a parameter denoted by one or more
.\"O digits, other than the single digit 0.  Positional parameters are
.\"O assigned from the shell's arguments when it is invoked,
.\"O and may be reassigned using the
.\"O .B set
.\"O builtin command.  Positional parameters may not be assigned to
.\"O with assignment statements.  The positional parameters are
.\"O temporarily replaced when a shell function is executed (see
.\"O .SM
.\"O .B FUNCTIONS
.\"O below).
.I 位置パラメータ (positional parameter)
は、1 桁以上の数値で表されるパラメータです。ただし 0 は含みません。
位置パラメータは、シェルが起動されたときにシェルの引き数が代入されますが、
組み込みコマンドの
.B set
を使って代入し直すこともできます。
代入文を使って位置パラメータへの代入を行うことはできません。
シェル関数が実行されると、
位置パラメータは一時的に置き換えられます (後述の
.SM
.B 関数
を参照)。
.PP
.\"O When a positional parameter consisting of more than a single
.\"O digit is expanded, it must be enclosed in braces (see
.\"O .SM
.\"O .B EXPANSION
.\"O below).
2 桁以上の数値を含む位置パラメータを展開するときには、ブレース ({})
で囲まなければなりません (後述の
.SM
.B 展開
を参照)。
.\"O .SS Special Parameters
.SS 特殊パラメータ
.PP
.\"O The shell treats several parameters specially.  These parameters may
.\"O only be referenced; assignment to them is not allowed.
シェルはいくつかのパラメータを特別扱いします。
このようなパラメータは参照されるだけであり、
値を代入することは許されません。
.PD 0
.TP
.B *
.\"O Expands to the positional parameters, starting from one.  When the
.\"O expansion occurs within double quotes, it expands to a single word
.\"O with the value of each parameter separated by the first character
.\"O of the 
.\"O .B IFS
.\"O special variable.  That is, "\fB$*\fP" is equivalent
.\"O to "\fB$1\fP\fIc\fP\fB$2\fP\fIc\fP\fB...\fP", where
.\"O .I c
.\"O is the first character of the value of the
.\"O .B IFS
.\"O variable.  If
.\"O .B IFS
.\"O is unset, the parameters are separated by spaces.
(1 から始まる) 全ての位置パラメータに展開されます。
ダブルクォートの内部で展開が行われたときは、
それぞれのパラメータを特別な変数である
.SM
.B IFS
の最初の文字で区切って並べた 1 つの単語に展開されます。つまり、
"\fB$*\fP" は "\fB$1\fP\fIc\fP\fB$2\fP\fIc\fP\fB...\fP" と同じです。
ここで
.I c
は変数
.SM
.B IFS
の値の最初の文字です。
.SM
.B IFS
.\"O If
が設定されていなければ、パラメータは空白で区切られます。
.\"O .SM
.\"O .B IFS
.\"O is null, the parameters are joined without intervening separators.
.SM
.B IFS
が空文字列の場合、パラメータの間には区切り文字は入らず、
全てのパラメータは繋げられます。
.TP
.B @
.\"O Expands to the positional parameters, starting from one.  When the
.\"O expansion occurs within double quotes, each parameter expands to a
.\"O separate word.  That is, "\fB$@\fP" is equivalent to
.\"O "\fB$1\fP" "\fB$2\fP" ...
.\"O If the double-quoted expansion occurs within a word, the expansion of
.\"O the first parameter is joined with the beginning part of the original
.\"O word, and the expansion of the last parameter is joined with the last
.\"O part of the original word.
.\"O When there are no positional parameters, "\fB$@\fP" and 
.\"O .B $@
.\"O expand to nothing (i.e., they are removed).
(1 から始まる) 全ての位置パラメータに展開されます。
ダブルクォートの内部で展開が行われたときは、
それぞれのパラメータは別々の単語に展開されます。
つまり "\fB$@\fP" は "\fB$1\fP" "\fB$2\fP" ... と同じです。
単語の中でダブルクォートの展開が行われるときには、
最初のパラメータの展開結果に元の単語のダブルクォートより前の部分が
結び付き、最後のパラメータの展開結果に元の単語のダブルクォートより
後の部分が結び付きます。
位置パラメータがない場合には、"\fB$@\fP" や
.B $@
を展開しても無かったことになります (つまり取り除かれます)。
.TP
.B #
.\"O Expands to the number of positional parameters in decimal.
位置パラメータの個数を示す 10 進値に展開されます。
.TP
.B ?
.\"O Expands to the exit status of the most recently executed foreground
.\"O pipeline.
最後に実行されたフォアグラウンドのパイプラインの
終了ステータスに展開されます。
.TP
.B \-
.\"O Expands to the current option flags as specified upon invocation, 
.\"O by the
.\"O .B set
.\"O builtin command, or those set by the shell itself
.\"O (such as the
.\"O .B \-i
.\"O option).
現在のオプションフラグに展開されます。
これは起動のときに指定したり、組み込みコマンド
.B set
で設定したり、(
.B \-i
オプション等で) シェル自身が設定したりします。
.TP
.B $
.\"O Expands to the process ID of the shell.  In a () subshell, it
.\"O expands to the process ID of the current shell, not the
.\"O subshell.
シェルのプロセス ID に展開されます。
() を使ったサブシェルの内部では、$ はサブシェルではなく、
現在のシェルのプロセス ID に展開されます。
.TP
.B !
.\"O Expands to the process ID of the most recently executed background
.\"O (asynchronous) command.
最後に実行されたバックグラウンド (非同期) コマンドの
プロセス ID に展開されます。
.TP
.B 0
.\"O Expands to the name of the shell or shell script.  This is set at
.\"O shell initialization.  If
.\"O .B bash
.\"O is invoked with a file of commands,
.\"O .B $0
.\"O is set to the name of that file.  If
.\"O .B bash
.\"O is started with the
.\"O .B \-c
.\"O option, then
.\"O .B $0
.\"O is set to the first argument after the string to be
.\"O executed, if one is present.  Otherwise, it is set
.\"O to the file name used to invoke
.\"O .BR bash ,
.\"O as given by argument zero.
シェルまたはシェルスクリプトの名前に展開されます。
これはシェルの初期化時に設定されます。
コマンドを記述したファイルを指定して
.B bash
を起動した場合、
.B $0
にはそのファイルの名前が設定されます。
.B \-c
オプションを付けて
.B bash
を起動した場合、実行する文字列の後に引き数があれば、その最初の値が
.B $0
に設定されます。引き数がなければ、
.BR bash
を起動するときに使用した名前が引き数 0 として与えられ 
.B $0
に設定されます。
.TP
.B _
.\"O At shell startup, set to the absolute pathname used to invoke the
.\"O shell or shell script being executed as passed in the environment
.\"O or argument list.
.\"O Subsequently, expands to the last argument to the previous command,
.\"O after expansion.
.\"O Also set to the full pathname used to invoke each command executed
.\"O and placed in the environment exported to that command.
.\"O When checking mail, this parameter holds the name of the mail file
.\"O currently being checked.
シェルの起動時には、環境または引き数リストで渡された、
実行するシェルまたはシェルスクリプトの絶対パス名が設定されます。
その後では、直前のコマンドに対する最後の引き数 (展開後のもの) に展開されます。
また、実行する各コマンドの完全なパス名が設定され、
そのコマンドの環境にエクスポートされます。
メールをチェックするときには、
このパラメータは現在チェックしているメールファイル名を保持します。
.PD
.\"O .SS Shell Variables
.SS シェル変数
.PP
.\"O The following variables are set by the shell:
以下の変数はシェルが設定します:
.PP
.PD 0
.TP
.B BASH
.\"O Expands to the full file name used to invoke this instance of
.\"O .BR bash .
現在実行している
.BR bash
を起動したときに使われた、完全なファイル名に展開されます。
.TP
.B BASHOPTS
.\"O A colon-separated list of enabled shell options.  Each word in
.\"O the list is a valid argument for the
.\"O .B \-s
.\"O option to the
.\"O .B shopt
.\"O builtin command (see
.\"O .SM
.\"O .B "SHELL BUILTIN COMMANDS"
.\"O below).  The options appearing in
.\"O .B BASHOPTS
.\"O are those reported as
.\"O .I on
.\"O by \fBshopt\fP.
.\"O If this variable is in the environment when
.\"O .B bash
.\"O starts up, each shell option in the list will be enabled before
.\"O reading any startup files.
.\"O This variable is read-only.
コロン区切りのリストで、有効になっているシェルのオプションを示します。
リスト中のそれぞれの単語は、組み込みコマンド
.B shopt
の
.B \-s
オプション (後述の
.SM
.B シェルの組み込みコマンド
を参照) に対する有効な引き数になっています。
.SM
.B BASHOPTS
に現われるオプションは、\fBshopt\fP コマンドで
.I on
と表示されるものです。
もし
.B bash
を起動したときに、この変数が環境変数に設定されていれば、
起動ファイルを読み込む前に、リストにある全てのシェルオプションが
有効に設定されます。
この変数は読み込み専用です。
.TP
.B BASHPID
.\"O Expands to the process ID of the current \fBbash\fP process.
.\"O This differs from \fB$$\fP under certain circumstances, such as subshells
.\"O that do not require \fBbash\fP to be re-initialized.
現在の \fBbash\fP のプロセス ID に展開されます。
\fBbash\fP を再初期化しないサブシェルのような、いくつかの環境においては、
\fB$$\fP と値が異なります。
.TP
.B BASH_ALIASES
.\"O An associative array variable whose members correspond to the internal
.\"O list of aliases as maintained by the \fBalias\fP builtin.
.\"O Elements added to this array appear in the alias list; unsetting array
.\"O elements cause aliases to be removed from the alias list.
エイリアスの内部的なリストに対応する連想配列変数です。
エイリアスは通常、組み込みコマンド \fBalias\fP で操作します。
この配列に要素を追加すると、エイリアスのリストにも追加されます。
配列から要素を削除すると、エイリアスがリストから削除されます。
.TP
.B BASH_ARGC
.\"O An array variable whose values are the number of parameters in each
.\"O frame of the current \fBbash\fP execution call stack.
.\"O The number of
.\"O parameters to the current subroutine (shell function or script executed
.\"O with \fB.\fP or \fBsource\fP) is at the top of the stack.
.\"O When a subroutine is executed, the number of parameters passed is pushed onto
.\"O .SM
.\"O .BR BASH_ARGC .
\fBbash\fP の現在の呼び出しスタックについて、
フレームごとの引き数の数が並んだ配列変数です。
現在のサブルーチン (シェル関数や、\fB.\fP か \fBsource\fP で実行された
スクリプト) の引き数の数が、スタックの一番上に置かれます。
サブルーチンが実行されると、渡されたパラメータの数が
.SM
.BR BASH_ARGC
に追加されます。
.\"O The shell sets
.\"O .B BASH_ARGC
.\"O only when in extended debugging mode (see the description of the
.\"O .B extdebug
.\"O option to the
.\"O .B shopt
.\"O builtin below)
シェルが
.SM
.B BASH_ARGC
を設定するのは、拡張デバッグモードのときだけです
 (後述の組み込みコマンド
.B shopt
の
.B extdebug
オプションを参照)。
.TP
.B BASH_ARGV
.\"O An array variable containing all of the parameters in the current \fBbash\fP
.\"O execution call stack.  The final parameter of the last subroutine call
.\"O is at the top of the stack; the first parameter of the initial call is
.\"O at the bottom.  When a subroutine is executed, the parameters supplied
.\"O are pushed onto
.\"O .SM
.\"O .BR BASH_ARGV .
\fBbash\fP の現在の呼び出しスタックについて、
全ての引き数が並んだ配列変数です。
一連の呼び出しのうち、最後に呼ばれたサブルーチンの最後の引き数が、
スタックの一番上に置かれます。
最初に呼ばれたサブルーチンの最初の引き数が、スタックの一番下になります。
サブルーチンが実行されると、渡されたパラメータが
.SM
.BR BASH_ARGV
に追加されます。
.\"O The shell sets
.\"O .SM
.\"O .B BASH_ARGV
.\"O only when in extended debugging mode
.\"O (see the description of the
.\"O .B extdebug
.\"O option to the
.\"O .B shopt
.\"O builtin below)
シェルが
.SM
.B BASH_ARGV
を設定するのは、拡張デバッグモードのときだけです
 (後述の組み込みコマンド
.B shopt
の
.B extdebug
オプションを参照)。
.TP
.B BASH_CMDS
.\"O An associative array variable whose members correspond to the internal
.\"O hash table of commands as maintained by the \fBhash\fP builtin.
.\"O Elements added to this array appear in the hash table; unsetting array
.\"O elements cause commands to be removed from the hash table.
\fBbash\fP が内部に持つ、コマンドのハッシュテーブルに対応する
連想配列変数です。
ハッシュテーブルは通常、組み込みコマンド hash で操作します。
この配列に要素を追加すると、ハッシュテーブルにも追加されます。
配列から要素を削除すると、ハッシュテーブルから削除されます。
.TP
.B BASH_COMMAND
.\"O The command currently being executed or about to be executed, unless the
.\"O shell is executing a command as the result of a trap,
.\"O in which case it is the command executing at the time of the trap.
現在実行しているか実行しようとしているコマンドです。
ただし、トラップによってシェルが実行しているコマンドは別で、
その場合は、トラップの発動時に実行していたコマンドになります。
.TP
.B BASH_EXECUTION_STRING
.\"O The command argument to the \fB\-c\fP invocation option.
起動オプション \fB\-c\fP で指定されたコマンドです。
.TP
.B BASH_LINENO
.\"O An array variable whose members are the line numbers in source files
.\"O where each corresponding member of
.\"O .SM
.\"O .B FUNCNAME
.\"O was invoked.
ソースファイル中の行番号からなる配列変数で、
それぞれの要素は
.SM
.B FUNCNAME
の各要素が呼び出された位置に対応します。
.\"O \fB${BASH_LINENO[\fP\fI$i\fP\fB]}\fP is the line number in the source
.\"O file (\fB${BASH_SOURCE[\fP\fI$i+1\fP\fB]}\fP) where
.\"O \fB${FUNCNAME[\fP\fI$i\fP\fB]}\fP was called
.\"O (or \fB${BASH_LINENO[\fP\fI$i-1\fP\fB]}\fP if referenced within another
.\"O shell function).
つまり、\fB${BASH_LINENO[\fP\fI$i\fP\fB]}\fP はソースファイル
(\fB${BASH_SOURCE[\fP\fI$i+1\fP\fB]}\fP)
中で\fB${FUNCNAME[\fP\fI$i\fP\fB]}\fP が呼び出された行番号です。
別のシェル関数から参照されると \fB${BASH_LINENO[\fP\fI$i-1\fP\fB]}\fP
になります。
.\"O Use
.\"O .SM
.\"O .B LINENO
.\"O to obtain the current line number.
現在の行番号は
.SM
.B LINENO
で取得できます。
.TP
.B BASH_REMATCH
.\"O An array variable whose members are assigned by the \fB=~\fP binary
.\"O operator to the \fB[[\fP conditional command.
.\"O The element with index 0 is the portion of the string
.\"O matching the entire regular expression.
.\"O The element with index \fIn\fP is the portion of the
.\"O string matching the \fIn\fPth parenthesized subexpression.
.\"O This variable is read-only.
条件コマンド \fB[[\fP 中の二項演算子 \fB=~\fP により設定される配列変数です。
インデックス 0 の要素は、正規表現全体にマッチする部分文字列です。
インデックス \fIn\fP の要素は、\fIn\fP 番目の括弧による部分式に
マッチした部分文字列です。
この変数は読み込み専用です。
.TP
.B BASH_SOURCE
.\"O An array variable whose members are the source filenames
.\"O where the corresponding shell function names in the
.\"O .SM
.\"O .B FUNCNAME
.\"O array variable are defined.
.\"O The shell function
ソースファイル名からなる配列変数で、それぞれの要素は配列変数
.SM
.B FUNCNAME
の要素のシェル関数がそれぞれ定義されたファイル名に対応します。
.\"O \fB${FUNCNAME[\fP\fI$i\fP\fB]}\fP is defined in the file
.\"O \fB${BASH_SOURCE[\fP\fI$i\fP\fB]}\fP and called from
.\"O \fB${BASH_SOURCE[\fP\fI$i+1\fP\fB]}\fP.
シェル関数 \fB${FUNCNAME[\fP\fI$i\fP\fB]}\fP はファイル
\fB${BASH_SOURCE[\fP\fI$i\fP\fB]}\fP で定義され、
\fB${BASH_SOURCE[\fP\fI$i+1\fP\fB]}\fP から呼ばれています。
.TP
.B BASH_SUBSHELL
.\"O Incremented by one each time a subshell or subshell environment is spawned.
.\"O The initial value is 0.
サブシェルやサブシェル環境が作成されるたびに 1 ずつ増えます。
初期値は 0 です。
.TP
.B BASH_VERSINFO
.\"O A readonly array variable whose members hold version information for
.\"O this instance of
.\"O .BR bash .
.\"O The values assigned to the array members are as follows:
読み込み専用の配列変数で、配列の各要素は現在実行されている
.BR bash
のバージョン情報を持っています。
配列変数の要素に代入される内容を以下に示します:
.sp .5
.RS
.PD 0
.TP 24
.B BASH_VERSINFO[\fR0\fP]
.\"O The major version number (the \fIrelease\fP).
メジャーバージョン番号 (\fIリリース\fP)。
.TP
.B BASH_VERSINFO[\fR1\fP]
.\"O The minor version number (the \fIversion\fP).
マイナーバージョン番号 (\fIバージョン\fP)。
.TP
.B BASH_VERSINFO[\fR2\fP]
.\"O The patch level.
パッチレベル。
.TP
.B BASH_VERSINFO[\fR3\fP]
.\"O The build version.
ビルドバージョン。
.TP
.B BASH_VERSINFO[\fR4\fP]
.\"O The release status (e.g., \fIbeta1\fP).
リリースステータス (\fIbeta1\fP など)。
.TP
.B BASH_VERSINFO[\fR5\fP]
.\"O The value of
.\"O .SM
.\"O .BR MACHTYPE .
\fBMACHTYPE\fP の値。
.PD
.RE
.TP
.B BASH_VERSION
.\"O Expands to a string describing the version of this instance of
.\"O .BR bash .
現在実行している
.BR bash
のバージョンを示す文字列に展開されます。
.TP
.B COMP_CWORD
.\"O An index into \fB${COMP_WORDS}\fP of the word containing the current
.\"O cursor position.
.\"O This variable is available only in shell functions invoked by the
.\"O programmable completion facilities (see \fBProgrammable Completion\fP
.\"O below).
現在カーソル位置がある単語の
配列変数 \fB${COMP_WORDS}\fP におけるインデックスです。
この変数はプログラム補完機能 (後述の \fBプログラム補完\fP を参照)
から呼ばれたシェル関数においてのみ有効です。
.TP
.B COMP_KEY
.\"O The key (or final key of a key sequence) used to invoke the current
.\"O completion function.
現在の補完関数を呼び出したキー (またはキーシーケンスの最後のキー) です。
.TP
.B COMP_LINE
.\"O The current command line.
.\"O This variable is available only in shell functions and external
.\"O commands invoked by the
.\"O programmable completion facilities (see \fBProgrammable Completion\fP
.\"O below).
現在のコマンドラインです。
この変数はプログラム補完機能 (後述の \fBプログラム補完\fP を参照)
から呼ばれたシェル関数や外部コマンドにおいてのみ有効です。
.TP
.B COMP_POINT
.\"O The index of the current cursor position relative to the beginning of
.\"O the current command.
.\"O If the current cursor position is at the end of the current command,
.\"O the value of this variable is equal to \fB${#COMP_LINE}\fP.
.\"O This variable is available only in shell functions and external
.\"O commands invoked by the
.\"O programmable completion facilities (see \fBProgrammable Completion\fP
.\"O below).
現在のコマンドの先頭からの相対値として与えられた
カーソル位置のインデックスです。
現在のカーソル位置が現在の現在のコマンドの最後にある場合、
この変数の値は \fB${#COMP_LINE}\fP と等しくなります。
この変数はプログラム補完機能 (後述の \fBプログラム補完\fP を参照)
から呼ばれたシェル関数や外部コマンドにおいてのみ有効です。
.TP
.B COMP_TYPE
.\"O Set to an integer value corresponding to the type of completion attempted
.\"O that caused a completion function to be called:
.\"O \fITAB\fP, for normal completion,
.\"O \fI?\fP, for listing completions after successive tabs,
.\"O \fI!\fP, for listing alternatives on partial word completion,
.\"O \fI@\fP, to list completions if the word is not unmodified,
.\"O or
.\"O \fI%\fP, for menu completion.
.\"O This variable is available only in shell functions and external
.\"O commands invoked by the
.\"O programmable completion facilities (see \fBProgrammable Completion\fP
.\"O below).
補完関数を呼び出した補完のタイプに対応する整数値が設定されます。
\fITAB\fP は通常の補完です。
\fI?\fP は連続したタブ入力による候補のリスト表示です。
\fI!\fP は途中まで補完した後の候補のリスト表示です。
\fI@\fP は、部分的な補完ができないときの候補のリスト表示です。
\fI%\fP はメニュー補完 (menu completion)です。
この変数はプログラム補完機能 (後述の \fBプログラム補完\fP を参照)
から呼ばれたシェル関数と外部コマンドにおいてのみ有効です。
.TP
.B COMP_WORDBREAKS
.\"O The set of characters that the \fBreadline\fP library treats as word
.\"O separators when performing word completion.
.\"O If
.\"O .SM
.\"O .B COMP_WORDBREAKS
.\"O is unset, it loses its special properties, even if it is
.\"O subsequently reset.
単語補完のときに \fBreadline\fP ライブラリが単語分割の区切り文字として
扱う文字の並びです。
.SM
.B COMP_WORDBREAKS
を unset すると、この変数の特殊な性質はなくなります。後で再び
set しても元には戻りません。
.TP
.B COMP_WORDS
.\"O An array variable (see \fBArrays\fP below) consisting of the individual
.\"O words in the current command line.
.\"O The line is split into words as \fBreadline\fP would split it, using
.\"O .SM
.\"O .B COMP_WORDBREAKS
.\"O as described above.
.\"O This variable is available only in shell functions invoked by the
.\"O programmable completion facilities (see \fBProgrammable Completion\fP
.\"O below).
現在のコマンドラインの各単語からなる配列変数
(後述の \fB配列\fP 参照) です。
コマンドラインは \fBreadline\fP と同じように前述した
.SM
.B COMP_WORDBREAKS
によって単語に分割されます。
この変数はプログラム補完機能 (後述の \fBプログラム補完\fP を参照)
から呼ばれたシェル関数においてのみ有効です。
.TP
.B COPROC
.\"O An array variable (see \fBArrays\fP below) created to hold the file descriptors
.\"O for output from and input to an unnamed coprocess (see \fBCoprocesses\fP
.\"O above).
無名のコプロセス (前述の \fBコプロセス\fP を参照)
が入出力するファイル・ディスクリプターを保持する配列変数
(後述の \fB配列\fP 参照) です。
.TP
.B DIRSTACK
.\"O An array variable (see
.\"O .B Arrays
.\"O below) containing the current contents of the directory stack.
.\"O Directories appear in the stack in the order they are displayed by the
.\"O .B dirs
.\"O builtin.
.\"O Assigning to members of this array variable may be used to modify
.\"O directories already in the stack, but the
.\"O .B pushd
.\"O and
.\"O .B popd
.\"O builtins must be used to add and remove directories.
.\"O Assignment to this variable will not change the current directory.
.\"O If
.\"O .SM
.\"O .B DIRSTACK
.\"O is unset, it loses its special properties, even if it is
.\"O subsequently reset.
現在のディレクトリスタックの内容を持つ配列変数 (後述の
.B 配列
を参照) です。組み込みコマンド
.B dirs
を使うと、スタック中のディレクトリがスタック順に表示されます。
配列変数の要素に代入を行うと、
既にスタックに入っているディレクトリを変更できますが、
ディレクトリの追加と削除を行うためには、組み込みコマンドの
.B pushd
と
.B popd
を使わなければなりません。
この変数に代入を行っても現在の作業ディレクトリは変わりません。
.SM
.B DIRSTACK
を
.B unset
すると、この変数の特殊な性質はなくなります。後で再び
.B set
しても元には戻りません。
.TP
.B EUID
.\"O Expands to the effective user ID of the current user, initialized at
.\"O shell startup.  This variable is readonly.
現在のユーザの実効ユーザ ID に展開されます。
初期化はシェルの起動時に行われます。
この変数は読み込み専用です。
.TP
.B FUNCNAME
.\"O An array variable containing the names of all shell functions
.\"O currently in the execution call stack.
.\"O The element with index 0 is the name of any currently-executing
.\"O shell function.
.\"O The bottom-most element (the one with the highest index) is
.\"O .if t \f(CW"main"\fP.
.\"O .if n "main".
.\"O This variable exists only when a shell function is executing.
.\"O Assignments to
.\"O .SM
.\"O .B FUNCNAME
.\"O have no effect and return an error status.
.\"O If
.\"O .SM
.\"O .B FUNCNAME
.\"O is unset, it loses its special properties, even if it is
.\"O subsequently reset.
現在の呼び出しスタックにある全てのシェル関数名が
入った配列変数です。
インデックス 0 の要素は、実行中のシェル関数の名前です。
最も下の要素 (最大のインデックスの要素) は
.if t \f(CW"main"\fP
.if n "main"
です。
この変数は、シェル関数を実行している間のみ存在します。
.SM
.B FUNCNAME
への代入は効果がなく、エラーステータスを返します。
.SM
.B FUNCNAME
を
.B unset
すると、この変数の特殊な性質はなくなります。後で再び
.B set
しても元には戻りません。
.if t .sp 0.5
.if n .sp 1
.\"O This variable can be used with \fBBASH_LINENO\fP and \fBBASH_SOURCE\fP.
.\"O Each element of \fBFUNCNAME\fP has corresponding elements in
.\"O \fBBASH_LINENO\fP and \fBBASH_SOURCE\fP to describe the call stack.
.\"O For instance, \fB${FUNCNAME[\fP\fI$i\fP\fB]}\fP was called from the file
.\"O \fB${BASH_SOURCE[\fP\fI$i+1\fP\fB]}\fP at line number
.\"O \fB${BASH_LINENO[\fP\fI$i\fP\fB]}\fP.
.\"O The \fBcaller\fP builtin displays the current call stack using this
.\"O information.
この変数の各要素は、\fBBASH_LINENO\fP や \fBBASH_SOURCE\fP の各要素に
対応します。
これらを参照することで、呼び出しスタックの状態を確認できます。
例えば、\fB${FUNCNAME[\fP\fI$i\fP\fB]}\fP はファイル
\fB${BASH_SOURCE[\fP\fI$i+1\fP\fB]}\fP の行番号
\fB${BASH_LINENO[\fP\fI$i\fP\fB]}\fP から呼び出されたものです。
組み込みコマンド \fBcaller\fP を実行すると、これらの情報から
現在の呼び出しスタックを表示します。
.TP
.B GROUPS
.\"O An array variable containing the list of groups of which the current
.\"O user is a member.
.\"O Assignments to    
.\"O .SM
.\"O .B GROUPS
.\"O have no effect and return an error status.
.\"O If
.\"O .SM
.\"O .B GROUPS
.\"O is unset, it loses its special properties, even if it is
.\"O subsequently reset.
現在のユーザがメンバになっているグループのリストを含んだ配列変数です。
.SM
.B GROUPS
への代入は効果がなく、エラーステータスを返します。
.SM
.B GROUPS
が unset された場合はこの変数の特殊な性質はなくなります。
その後に再設定されたとしても元に戻りません。
.TP
.B HISTCMD
.\"O The history number, or index in the history list, of the current
.\"O command.
.\"O If
.\"O .SM
.\"O .B HISTCMD
.\"O is unset, it loses its special properties, even if it is
.\"O subsequently reset.
現在のコマンドの履歴番号 (履歴リストにおけるインデックス) です。
.SM
.B HISTCMD
を
.B unset
すると、この変数の特殊な性質はなくなります。後で再び
.B set
しても元には戻りません。
.TP
.B HOSTNAME
.\"O Automatically set to the name of the current host.
現在のホスト名が自動的に設定されます。
.TP
.B HOSTTYPE
.\"O Automatically set to a string that uniquely
.\"O describes the type of machine on which
.\"O .B bash
.\"O is executing.
.\"O The default is system-dependent.
.B bash
を実行するマシンの種類をユニークに記述する文字列が自動的に設定されます。
デフォルト値はシステム依存です。
.TP
.B LINENO
.\"O Each time this parameter is referenced, the shell substitutes
.\"O a decimal number representing the current sequential line number
.\"O (starting with 1) within a script or function.  When not in a
.\"O script or function, the value substituted is not guaranteed to
.\"O be meaningful.
.\"O If
.\"O .SM
.\"O .B LINENO
.\"O is unset, it loses its special properties, even if it is
.\"O subsequently reset.
この変数が参照されると、その場所ごとに、
スクリプトや関数における現在の行番号 (1 から始まります) を表す
10 進値に置き換わります。スクリプトや関数の内部でない場合には、
意味のある値が代入されることは保証されません。
.SM
.B LINENO
を
.B unset
すると、この変数の特殊な性質はなくなります。後で再び
.B set
しても元には戻りません。
.TP
.B MACHTYPE
.\"O Automatically set to a string that fully describes the system
.\"O type on which
.\"O .B bash
.\"O is executing, in the standard GNU \fIcpu-company-system\fP format.
.\"O The default is system-dependent.
.B bash
を実行するシステムの種類を完全に指定する文字列が、
GNU 標準の \fIcpu-company-system\fP の形式で設定されます。
デフォルト値はシステム依存です。
.TP
.B MAPFILE
.\"O An array variable (see \fBArrays\fP below) created to hold the text
.\"O read by the \fBmapfile\fP builtin when no variable name is supplied.
組み込みコマンド \fBmapfile\fP に変数名が指定されなかったときに
読み込んだテキストを保持する配列変数 (後述の
.B 配列
を参照) です。
.TP
.B OLDPWD
.\"O The previous working directory as set by the
.\"O .B cd
.\"O command.
.B cd
コマンドで設定された、1 つ前の作業ディレクトリ。
.TP
.B OPTARG
.\"O The value of the last option argument processed by the
.\"O .B getopts
.\"O builtin command (see
.\"O .SM
.\"O .B SHELL BUILTIN COMMANDS
.\"O below).
組み込みコマンド
.B getopts
で処理した最後のオプション引き数の値です (後述の
.SM
.B シェルの組み込みコマンド
を参照)。
.TP
.B OPTIND
.\"O The index of the next argument to be processed by the
.\"O .B getopts
.\"O builtin command (see
.\"O .SM
.\"O .B SHELL BUILTIN COMMANDS
.\"O below).
組み込みコマンド
.B getopts
で次に処理されるオプション引き数のインデックスです (後述の
.SM
.B シェルの組み込みコマンド
を参照)。
.TP
.B OSTYPE
.\"O Automatically set to a string that
.\"O describes the operating system on which
.\"O .B bash
.\"O is executing.
.\"O The default is system-dependent.
.B bash
を実行するオペレーティングシステムを記述する文字列が自動的に設定されます。
デフォルト値はシステム依存です。
.TP
.B PIPESTATUS
.\"O An array variable (see
.\"O .B Arrays
.\"O below) containing a list of exit status values from the processes
.\"O in the most-recently-executed foreground pipeline (which may
.\"O contain only a single command).
フォアグラウンドで最後に実行したパイプラインの各プロセスの
終了ステータスのリストを含む配列変数です (後述の
.B 配列
を参照)。
パイプラインには 1 つのコマンドしかなくてもかまいません。
.TP
.B PPID
.\"O The process ID of the shell's parent.  This variable is readonly.
そのシェルの親のプロセス ID。この変数は読み込み専用です。
.TP
.B PWD
.\"O The current working directory as set by the
.\"O .B cd
.\"O command.
.B cd
コマンドで設定された現在の作業ディレクトリ。
.TP
.B RANDOM
.\"O Each time this parameter is referenced, a random integer between
.\"O 0 and 32767 is
.\"O generated.  The sequence of random numbers may be initialized by assigning
.\"O a value to
.\"O .SM
.\"O .BR RANDOM .
.\"O If
.\"O .SM
.\"O .B RANDOM
.\"O is unset, it loses its special properties, even if it is
.\"O subsequently reset.
このパラメータが参照されるたびに、
0 から 32767 までのランダムな整数が生成されます。
.SM
.BR RANDOM
に値を代入すると、乱数の列を初期化できます。
.SM
.B RANDOM
を
.B unset
すると、この変数の特殊な性質はなくなります。後で再び
.B set
しても元には戻りません。
.TP
.B READLINE_LINE
.\"O The contents of the
.\"O .B readline
.\"O line buffer, for use with
.B readline
の編集バッファの内容です。
.if t \f(CWbind -x\fP
.if n "bind -x"
.\"O (see
.\"O .SM
.\"O .B "SHELL BUILTIN COMMANDS"
.\"O below).
(後述の
.SM
.B シェルの組み込みコマンド
を参照) で使います。
.TP
.B READLINE_POINT
.\"O The position of the insertion point in the
.\"O .B readline
.\"O line buffer, for use with
.B readline
の編集バッファでの挿入ポイントの位置です。
.if t \f(CWbind -x\fP
.if n "bind -x"
.\"O (see
.\"O .SM
.\"O .B "SHELL BUILTIN COMMANDS"
.\"O below).
(後述の
.SM
.B シェルの組み込みコマンド
を参照) で使います。
.TP
.B REPLY
.\"O Set to the line of input read by the
.\"O .B read
.\"O builtin command when no arguments are supplied.
組み込みコマンド
.B read
に引き数が与えられなかったときに読み込まれた行が設定されます。
.TP
.B SECONDS
.\"O Each time this parameter is
.\"O referenced, the number of seconds since shell invocation is returned.  If a
.\"O value is assigned to 
.\"O .SM
.\"O .BR SECONDS ,
.\"O the value returned upon subsequent
.\"O references is
.\"O the number of seconds since the assignment plus the value assigned.
.\"O If
.\"O .SM
.\"O .B SECONDS
.\"O is unset, it loses its special properties, even if it is
.\"O subsequently reset.
このパラメータを参照すると、シェルが起動されてからの秒数が返されます。
.SM
.BR SECONDS
に値を代入した場合、それ以降の参照において返される値は、
代入された値と代入以降の秒数を足した値になります。
.SM
.B SECONDS
を
.B unset
すると、この変数の特殊な性質はなくなります。後で再び
.B set
しても元には戻りません。
.TP
.B SHELLOPTS
.\"O A colon-separated list of enabled shell options.  Each word in
.\"O the list is a valid argument for the
.\"O .B \-o
.\"O option to the
.\"O .B set
.\"O builtin command (see
.\"O .SM
.\"O .B "SHELL BUILTIN COMMANDS"
.\"O below).  The options appearing in
.\"O .SM
.\"O .B SHELLOPTS
.\"O are those reported as
.\"O .I on
.\"O by \fBset \-o\fP.
コロン区切りのリストで、有効になっているシェルのオプションを示します。
リスト中のそれぞれの単語は、組み込みコマンド
.B set
の
.B \-o
オプション (後述の
.SM
.B シェルの組み込みコマンド
を参照) に対する有効な引き数になっています。
.SM
.B SHELLOPTS
に入っているオプションは、\fBset \-o\fP を実行した場合にも
.I on
であると報告されます。
.\"O If this variable is in the environment when
.\"O .B bash
.\"O starts up, each shell option in the list will be enabled before
.\"O reading any startup files.
.\"O This variable is read-only.
この変数が
.B bash
の起動時に環境変数に入っていた場合、
どの初期化ファイルを読むよりも前にリスト中のシェルオプションが有効になります。
この変数は読み込み専用です。
.TP
.B SHLVL
.\"O Incremented by one each time an instance of
.\"O .B bash
.\"O is started.
.B bash
が起動するときに、環境変数で渡された値から 1 増やした値が
設定されます。
.TP
.B UID
.\"O Expands to the user ID of the current user, initialized at shell startup.
.\"O This variable is readonly.
現在のユーザのユーザ ID に展開されます。
初期化はシェルの起動時に行われます。
この変数は読み込み専用です。
.PD
.PP
.\"O The following variables are used by the shell.  In some cases,
.\"O .B bash
.\"O assigns a default value to a variable; these cases are noted
.\"O below.
以下の変数はシェルが使用します。場合によっては、
.B bash
がデフォルト値を変数に代入します。
そのような場合についてはそれぞれ注記します。
.PP
.PD 0
.TP
.B BASH_ENV
.\"O If this parameter is set when \fBbash\fP is executing a shell script,
.\"O its value is interpreted as a filename containing commands to
.\"O initialize the shell, as in
.\"O .IR ~/.bashrc .
\fBbash\fP がシェルスクリプトを実行するときにこの値が設定されている場合、
この値は
.RI ( ~/.bashrc
のように)
シェルを初期化するコマンドが書かれているファイル名と解釈されます。
.\"O The value of
.\"O .SM
.\"O .B BASH_ENV
.\"O is subjected to parameter expansion, command substitution, and arithmetic
.\"O expansion before being interpreted as a file name.
.SM
.B BASH_ENV
の値をファイル名として処理する前には、パラメータ展開、コマンド置換、
算術的展開が行われます。
.\"O .B PATH
.\"O is not used to search for the resultant file name.
この結果のファイルを検索する際には
.SM
.B PATH
は使用されません。
.TP
.B BASH_XTRACEFD
.\"O If set to an integer corresponding to a valid file descriptor, \fBbash\fP
.\"O will write the trace output generated when
有効なファイル・ディスクリプターに対応する整数をセットすると、
\fBbash\fP は
.if t \f(CWset -x\fP
.if n \fIset -x\fP
.\"O is enabled to that file descriptor.
.\"O The file descriptor is closed when
.\"O .SM
.\"O .B BASH_XTRACEFD
.\"O is unset or assigned a new value.
が設定されたときに、生成されたトレース出力を
そのファイル・ディスクリプターに出力します。
.\"O Unsetting
.\"O .SM
.\"O .B BASH_XTRACEFD
.\"O or assigning it the empty string causes the
.\"O trace output to be sent to the standard error.
.SM
.B BASH_XTRACEFD
が unset されるか、新しい値が代入されると、
それまで設定されていたファイル・ディスクリプターはクローズされます。
.SM
.B BASH_XTRACEFD
を unset するか空文字列を代入すると、
トレース出力は標準エラー出力に送られます。
.\"O Note that setting
.\"O .SM
.\"O .B BASH_XTRACEFD
.\"O to 2 (the standard error file
.\"O descriptor) and then unsetting it will result in the standard error
.\"O being closed.
.SM
.B BASH_XTRACEFD
に 2 (標準エラー出力のファイル・ディスクリプター) を設定してしまうと、
unset したときに標準エラー出力がクローズされてしまうことに
注意してください。
.TP
.B CDPATH
.\"O The search path for the
.\"O .B cd
.\"O command.
.\"O This is a colon-separated list of directories in which the shell looks
.\"O for destination directories specified by the
.\"O .B cd
.\"O command.
.\"O A sample value is
.B cd
コマンドの検索パスです。これは、
.B cd
コマンドで指定した対象ディレクトリを探すディレクトリを
コロンで区切って並べたリストです。
例えば、
.if t \f(CW".:~:/usr"\fP.
.if n ".:~:/usr".
といった値になります。
.TP
.B COLUMNS
.\"O Used by the \fBselect\fP compound command to determine the terminal width
.\"O when printing selection lists.  Automatically set upon receipt of a
.\"O .SM
.\"O .BR SIGWINCH .
組み込みコマンド
.B select
によって、選択されたリストを表示する際の端末幅の決定に用いられます。
SIGWINCH を受信すると自動的に設定されます。
.TP
.B COMPREPLY
.\"O An array variable from which \fBbash\fP reads the possible completions
.\"O generated by a shell function invoked by the programmable completion
.\"O facility (see \fBProgrammable Completion\fP below).
\fBbash\fP が可能な補完候補を読み込む配列変数です。
この値はプログラム補完機能 (後述の \fBプログラム補完\fP を参照)
によって呼び出されたシェル関数によって生成されます。
.TP
.B EMACS
.\"O If \fBbash\fP finds this variable in the environment when the shell starts
.\"O with value
\fBbash\fP が起動したときにこの環境変数が設定されて値が
.if t \f(CWt\fP,
.if n "t",
.\"O it assumes that the shell is running in an Emacs shell buffer and disables
.\"O line editing.
になっていると、Emacs のシェルバッファで動作しているとみなし、
行編集を無効にします。
.TP
.B ENV
.\"O Similar to
.\"O .SM
.\"O .BR BASH_ENV ;
.\"O used when the shell is invoked in POSIX mode.
.SM
.BR BASH_ENV
と類似の変数で、POSIX モードで使われます。
.TP
.B FCEDIT
.\"O The default editor for the
.\"O .B fc
.\"O builtin command.
組み込みコマンド
.B fc
が使うデフォルトのエディタです。
.TP
.B FIGNORE
.\"O A colon-separated list of suffixes to ignore when performing
.\"O filename completion (see
.\"O .SM
.\"O .B READLINE
.\"O below).
.\"O A filename whose suffix matches one of the entries in 
.\"O .SM
.\"O .B FIGNORE
.\"O is excluded from the list of matched filenames.
ファイル名補完 (後述の
.SM
.B READLINE
を参照) を行う際に無視するサフィックスを
コロンで区切って並べたリストです。
.SM
.B FIGNORE
のエントリのいずれかにサフィックスがマッチするファイル名は、
ファイル名補完にマッチするファイルのリストから除外されます。
.\"O A sample value is
例えば値として 
.if t \f(CW".o:~"\fP.
.if n ".o:~".
を設定します。
.TP
.B FUNCNEST
.\"O If set to a numeric value greater than 0, defines a maximum function
.\"O nesting level.  Function invocations that exceed this nesting level
.\"O will cause the current command to abort.
0 より大きい数値を設定すると、関数呼び出しを何重まで許すかの
最大レベルを決めます。
このレベルを超えて関数を呼び出すと、コマンドが異常終了します。
.TP
.B GLOBIGNORE
.\"O A colon-separated list of patterns defining the set of filenames to
.\"O be ignored by pathname expansion.
.\"O If a filename matched by a pathname expansion pattern also matches one
.\"O of the patterns in
.\"O .SM
.\"O .BR GLOBIGNORE ,
.\"O it is removed from the list of matches.
パス名展開で無視するファイル名の集合を定義するパターンを
コロンで区切って並べたリストです。
パス名展開パターンにマッチするファイル名が
.SM
.BR GLOBIGNORE
内のパターンのどれかにもマッチする場合、
マッチしたもののリストから削除されます。
.TP
.B HISTCONTROL
.\"O A colon-separated list of values controlling how commands are saved on
.\"O the history list.
.\"O If the list of values includes
.\"O .IR ignorespace ,
.\"O lines which begin with a
.\"O .B space
.\"O character are not saved in the history list.
履歴リストに入れるコマンドを制御する値をコロンで区切って並べたリストです。
.I ignorespace
の値が設定されていると、
.B 空白
文字で始まる行は履歴リストに入りません。
.\"O A value of 
.\"O .I ignoredups
.\"O causes lines matching the previous history entry to not be saved.
.I ignoredups
の値が設定されていると、
履歴の最後の行にマッチする行は履歴リストに入りません。
.\"O A value of
.\"O .I ignoreboth
.\"O is shorthand for \fIignorespace\fP and \fIignoredups\fP.
.I ignoreboth
を指定すると \fIignorespace\fP と \fIignoredups\fP の両方が指定されます。
.\"O A value of
.\"O .IR erasedups
.\"O causes all previous lines matching the current line to be removed from
.\"O the history list before that line is saved.
.\"O Any value not in the above list is ignored.
.I erasedups
の値が設定されていると、行が保存される前に、
現在の行に一致する過去の行が履歴リストから削除されます。
上記以外の値を設定しても無視されます。
.\"O If
.\"O .SM
.\"O .B HISTCONTROL
.\"O is unset, or does not include a valid value,
.\"O all lines read by the shell parser are saved on the history list,
.\"O subject to the value of
.\"O .SM
.\"O .BR HISTIGNORE .
.\"O The second and subsequent lines of a multi-line compound command are
.\"O not tested, and are added to the history regardless of the value of
.\"O .SM
.\"O .BR HISTCONTROL .
.SM
.B HISTCONTROL
が設定されていない場合や、不正な値が設定されている場合には、
シェルのパーザが読み込んだ全ての行は
.BR HISTIGNORE
の値が示す条件の下で履歴リストに保存されます。
複数行にまたがる複合コマンドの場合は
2 番目以降の行が調べられることはありません。よって、これらは
.BR HISTCONTROL
の値に関わらず履歴に追加されます。
.TP
.B HISTFILE
.\"O The name of the file in which command history is saved (see
.\"O .SM
.\"O .B HISTORY
.\"O below).  The default value is \fI~/.bash_history\fP.  If unset, the
.\"O command history is not saved when an interactive shell exits.
コマンド履歴が保存されるファイルの名前 (後述の
.SM
.B 履歴
を参照)。デフォルト値は \fI~/.bash_history\fP です。
設定されていない場合、
対話シェルが終了するときに履歴の保存が行われません。
.TP
.B HISTFILESIZE
.\"O The maximum number of lines contained in the history file.  When this
.\"O variable is assigned a value, the history file is truncated, if
.\"O necessary, by removing the oldest entries,
.\"O to contain no more than that number of lines.  The default
.\"O value is 500.  The history file is also truncated to this size after
.\"O writing it when an interactive shell exits.
履歴ファイルに保持する履歴の最大数です。この変数に値が代入された場合、
その行数を越えないように、必要に応じて古いエントリを削除して履歴ファイルを
切り詰めます。
デフォルト値は 500 です。対話シェルが終了するときにも、
履歴ファイルのサイズはファイル書き込みの後にこのサイズに切り詰められます。
.TP
.B HISTIGNORE
.\"O A colon-separated list of patterns used to decide which command lines
.\"O should be saved on the history list.  Each pattern is anchored at the
.\"O beginning of the line and must match the complete line (no implicit
.\"O `\fB*\fP' is appended).  Each pattern is tested against the line
.\"O after the checks specified by
.\"O .SM
.\"O .B HISTCONTROL
.\"O are applied.
どのコマンド行を履歴リストに保存するかを決めるために使うパターンを
コロンで区切って並べたリストです。
それぞれのパターンは行の先頭から比較され、
行全体と完全に一致しなければなりません
(`\fB*\fP' が暗黙的に追加されるこ
とはありません)。行に対する各パターンの評価は
.B HISTCONTROL
で指定したチェックが行われた後で実行されます。
.\"O In addition to the normal shell pattern matching characters, `\fB&\fP'
.\"O matches the previous history line.  `\fB&\fP' may be escaped using a
.\"O backslash; the backslash is removed before attempting a match.
.\"O The second and subsequent lines of a multi-line compound command are
.\"O not tested, and are added to the history regardless of the value of
.\"O .SM
.\"O .BR HISTIGNORE .
通常のシェルのパターンマッチング文字以外に、
`\fB&\fP' が履歴の前の行にマッチします。
バックスラッシュを使って `\fB&\fP' をエスケープできます。
マッチングを試みる前にバックスラッシュは取り除かれます。
複数行にまたがる複合コマンドの場合、2 番目以降の行は調べられません。
よって、これらは
.SM
.BR HISTIGNORE
の値に関わらず履歴に追加されます。
.TP
.B HISTSIZE
.\"O The number of commands to remember in the command history (see
.\"O .SM
.\"O .B HISTORY
.\"O below).  The default value is 500.
コマンド履歴に記憶するコマンドの数 (後述の
.SM
.B HISTORY
を参照)。
デフォルトは 500 です。
.TP
.B HISTTIMEFORMAT
.\"O If this variable is set and not null, its value is used as a format string
.\"O for \fIstrftime\fP(3) to print the time stamp associated with each history
.\"O entry displayed by the \fBhistory\fP builtin.
.\"O If this variable is set, time stamps are written to the history file so
.\"O they may be preserved across shell sessions.
.\"O This uses the history comment character to distinguish timestamps from
.\"O other history lines.
この変数に空でない値が設定されると、
組み込みコマンド \fBhistory\fP で履歴エントリを表示するときに
タイムスタンプを表示するための \fIstrftime\fP(3) の書式文字列
として使われます。
この変数が設定されると、ほかのシェルのセッションでも使えるように
タイムスタンプは履歴ファイルに書き込まれます。
タイムスタンプはほかの履歴行と区別するために履歴のコメントとなります。
.TP
.B HOME
.\"O The home directory of the current user; the default argument for the
.\"O \fBcd\fP builtin command.
.\"O The value of this variable is also used when performing tilde expansion.
現在のユーザのホームディレクトリです。
組み込みコマンド \fBcd\fP のデフォルトの引き数になります。
この変数の値は、チルダ展開を実行するときにも使われます。
.TP
.B HOSTFILE
.\"O Contains the name of a file in the same format as
.\"O .FN /etc/hosts
.\"O that should be read when the shell needs to complete a
.\"O hostname.
.\"O The list of possible hostname completions may be changed while the
.\"O shell is running;
.\"O the next time hostname completion is attempted after the
.\"O value is changed,
.\"O .B bash
.\"O adds the contents of the new file to the existing list.
.FN /etc/hosts
と同じフォーマットであり、
シェルがホスト名を補完する必要があるときに読み込むファイルの名前を示します。
シェルの実行中でも補完するホスト名のリストを変更できます。
この変数が変更された次の機会にホスト名の補完を試みるとき、
.B bash
は新しいファイルの内容を既存のデータベースに追加します。
.\"O If
.\"O .SM
.\"O .B HOSTFILE
.\"O is set, but has no value, or does not name a readable file,
.\"O \fBbash\fP attempts to read
.\"O .FN /etc/hosts
.\"O to obtain the list of possible hostname completions.
.\"O When
.\"O .SM
.\"O .B HOSTFILE
.\"O is unset, the hostname list is cleared.
.SM
.B HOSTFILE
が設定されているがその値が空文字列の場合や、
読み込めるファイルの名前ではない場合には、
\fBbash\fP は補完可能なホスト名のリストを取得するために
.FN /etc/hosts
を使用します。
.SM
.B HOSTFILE
が unset された場合は、ホスト名のリストはクリアされます。
.TP
.B IFS
.\"O The
.\"O .I Internal Field Separator
.\"O that is used
.\"O for word splitting after expansion and to
.\"O split lines into words with the
.\"O .B read
.\"O builtin command.  The default value is
.\"O ``<space><tab><newline>''.
.I 内部フィールド区切り文字 (Internal Field Separator)
です。展開を行った後に単語を分割する場合や、組み込みコマンドの
.B read
を使ったときに行を単語に分割する場合に使われます。
デフォルト値は ``<空白><タブ><改行>'' です。
.TP
.B IGNOREEOF
.\"O Controls the
.\"O action of an interactive shell on receipt of an
.\"O .SM
.\"O .B EOF
.\"O character as the sole input.  If set, the value is the number of
.\"O consecutive
.\"O .SM
.\"O .B EOF
.\"O characters which must be
.\"O typed as the first characters on an input line before
.\"O .B bash
.\"O exits.  If the variable exists but does not have a numeric value, or
.\"O has no value, the default value is 10.  If it does not exist,
.\"O .SM
.\"O .B EOF
.\"O signifies the end of input to the shell.
単独で入力された
.SM
.B EOF
文字を受け取ったときの対話シェルの動作を制御します。
この変数が設定されていれば、指定されている値の数だけの
.SM
.B EOF
文字を連続して行頭の文字として入力しなければ
.B bash
は終了しません。この変数に数値以外の値が設定されている場合や、
空の値が設定されている場合には、デフォルト値として 10 が使われます。
この変数が存在しなければ、
.SM
.B EOF
文字はシェルへの入力の終わりを示します。
.TP
.B INPUTRC
.\"O The filename for the
.\"O .B readline
.\"O startup file, overriding the default of
.\"O .FN ~/.inputrc
.\"O (see
.\"O .SM
.\"O .B READLINE
.\"O below).
.B readline
の起動ファイルのファイル名です。これはデフォルト値の
.FN ~/.inputrc
(後述の
.SM
.B READLINE
を参照) を上書きします。
.TP
.B LANG
.\"O Used to determine the locale category for any category not specifically
.\"O selected with a variable starting with \fBLC_\fP.
ロケールカテゴリが \fBLC_\fP で始まる変数によって明示的に指定されて
いない場合、そうしたカテゴリのロケールを決定するのに使用されます。
.TP
.B LC_ALL
.\"O This variable overrides the value of
.\"O .SM
.\"O .B LANG
.\"O and any other
.\"O \fBLC_\fP variable specifying a locale category.
この変数はロケールカテゴリを指定する \fBLC_\fP 変数と
.B LANG
の値に優先します。
.TP
.B LC_COLLATE
.\"O This variable determines the collation order used when sorting the
.\"O results of pathname expansion, and determines the behavior of range
.\"O expressions, equivalence classes, and collating sequences within
.\"O pathname expansion and pattern matching.
この変数はパス名展開の結果をソートするときに使用される照合順序と、
パス名展開とパターンマッチングにおける
範囲表現、等値クラス、照合順序の動作を決定します。
.TP
.B LC_CTYPE
.\"O This variable determines the interpretation of characters and the
.\"O behavior of character classes within pathname expansion and pattern
.\"O matching.
この変数は、パス名展開とパターンマッチングにおける
文字の解釈と文字クラスに含まれる文字を決めます。
.TP
.B LC_MESSAGES
.\"O This variable determines the locale used to translate double-quoted
.\"O strings preceded by a \fB$\fP.
この変数は、\fB$\fP の後に続くダブルクォートされた文字列の
翻訳に使うロケールを決めます。
.TP
.B LC_NUMERIC
.\"O This variable determines the locale category used for number formatting.
この変数は数字のフォーマットに使用するロケールカテゴリを決定します。
.TP
.B LINES
.\"O Used by the \fBselect\fP compound command to determine the column length
.\"O for printing selection lists.  Automatically set upon receipt of a
.\"O .SM
.\"O .BR SIGWINCH .
組み込みコマンド
.B select
によって、選択されたリストを表示する際の行数の決定に用いられます。
.SM
.BR SIGWINCH
を受信すると自動的に設定されます。
.\"nakano 原文は column length.
.TP
.B MAIL
.\"O If this parameter is set to a file or directory name and the
.\"O .SM
.\"O .B MAILPATH
.\"O variable is not set,
.\"O .B bash
.\"O informs the user of the arrival of mail in the specified file or
.\"O Maildir-format directory.
このパラメータにファイル名またはディレクトリ名が設定されており、かつ変数
.SM
.B MAILPATH
が設定されていなければ、
.B bash
は指定されたファイルまたはMaildier形式のディレクトリへの
メールの到着をユーザに通知します。
.TP
.B MAILCHECK
.\"O Specifies how
.\"O often (in seconds)
.\"O .B bash
.\"O checks for mail.  The default is 60 seconds.  When it is time to check
.\"O for mail, the shell does so before displaying the primary prompt.
.\"O If this variable is unset, or set to a value that is not a number
.\"O greater than or equal to zero, the shell disables mail checking.
.B bash
がメールをチェックする頻度を (秒数で) 指定します。
デフォルト値は 60 秒です。
メールをチェックする時間になると、
シェルはプライマリのプロンプトを表示する前にチェックを行います。
この変数が unset された場合、
あるいはこの変数に 0 以上の数値以外が代入された場合は、
シェルはメールのチェックを行いません。
.TP
.B MAILPATH
.\"O A colon-separated list of file names to be checked for mail. 
.\"O The message to be printed when mail arrives in a particular file
.\"O may be specified by separating the file name from the message with a `?'.
.\"O When used in the text of the message, \fB$_\fP expands to the name of
.\"O the current mailfile. 
メールのチェックに使うファイル名をコロンで区切って並べたリストです。
特定のファイルにメールが到着したときに出力される
メッセージは、`?' を使ってファイル名をメッセージから区切ることによって
指定できます。メッセージのテキスト中で使われたときは、
\fB$_\fP は現在のメールファイルの名前に展開されます。
.\"O Example:
設定例:
.RS
.PP
\fBMAILPATH\fP=\(aq/var/mail/bfox?"You have mail":~/shell\-mail?"$_ has mail!"\(aq
.PP
.\"O .B Bash
.\"O supplies a default value for this variable, but the location of the user
.\"O mail files that it uses is system dependent (e.g., /var/mail/\fB$USER\fP).
この変数のデフォルト値は
.B bash
が与えますが、
.B bash
が使うユーザのメールファイルの位置はシステム依存です
(/var/mail/\fB$USER\fP 等)。
.RE
.TP
.B OPTERR
.\"O If set to the value 1,
.\"O .B bash
.\"O displays error messages generated by the
.\"O .B getopts
.\"O builtin command (see
.\"O .SM
.\"O .B SHELL BUILTIN COMMANDS
.\"O below).
.\"O .B OPTERR
.\"O is initialized to 1 each time the shell is invoked or a shell
.\"O script is executed.
値として 1 が設定されている場合、
.B bash
は組み込みコマンド
.B getopts
(後述の
.SM
.B シェルの組み込みコマンド
を参照) を使って生成したエラーメッセージを表示します。
.SM
シェルが起動されたり、シェルスクリプトが実行されたりするたびに、
.SM
.B OPTERR
は 1 に初期化されます。
.TP
.B PATH
.\"O The search path for commands.  It
.\"O is a colon-separated list of directories in which
.\"O the shell looks for commands (see
.\"O .SM
.\"O .B COMMAND EXECUTION
.\"O below).
.\"O A zero-length (null) directory name in the value of
.\"O .SM
.\"O .B PATH
.\"O indicates the current directory.
.\"O A null directory name may appear as two adjacent colons, or as an initial
.\"O or trailing colon.
.\"O The default path is system-dependent,
.\"O and is set by the administrator who installs
.\"O .BR bash .
コマンドの検索パスです。
シェルがコマンドを検索するディレクトリをコロンで区切って並べたリストです
(後述の
.SM
.B コマンドの実行
を参照)。
.SM
.B PATH
中の長さ 0 の (空の) ディレクトリ名は、カレントディレクトリを示します。
空のディレクトリ名は、2 つのコロンを並べるか、
先頭や末尾のコロンで表します。
デフォルトのパスはシステム依存で、
.BR bash
をインストールしたシステム管理者が設定します。
.\"O A common value is
一般的な値は
.if t \f(CW/usr/gnu/bin:/usr/local/bin:/usr/ucb:/bin:/usr/bin\fP.
.if n ``/usr/gnu/bin:/usr/local/bin:/usr/ucb:/bin:/usr/bin''.
です。
.TP
.B POSIXLY_CORRECT
.\"O If this variable is in the environment when \fBbash\fP starts, the shell
.\"O enters \fIposix mode\fP before reading the startup files, as if the
.\"O .B \-\-posix
.\"O invocation option had been supplied.  If it is set while the shell is
.\"O running, \fBbash\fP enables \fIposix mode\fP, as if the command
\fBbash\fP が起動したときにこの環境変数が設定されていると、
起動オプション
.B \-\-posix
を指定したときと同じように、どの初期化ファイルを読むよりも前に
シェルが \fIposix モード\fP になります。
シェルの実行中にこの変数が設定されると、
\fBbash\fP は
.if t \f(CWset -o posix\fP
.if n \fIset -o posix\fP
.\"O had been executed.
コマンドを実行したときと同じように、\fIposix モード\fP が有効になります。
.TP
.B PROMPT_COMMAND
.\"O If set, the value is executed as a command prior to issuing each primary
.\"O prompt.
設定されていると、プライマリプロンプトを出す前に毎回、
この値がコマンドとして実行されます。
.TP
.B PROMPT_DIRTRIM
.\"O If set to a number greater than zero, the value is used as the number of
.\"O trailing directory components to retain when expanding the \fB\ew\fP and
.\"O \fB\eW\fP prompt string escapes (see
.\"O .SM
.\"O .B PROMPTING
.\"O below).  Characters removed are replaced with an ellipsis.
0 より大きい値が設定されると、
プロンプト文字列のエスケープシーケンス \fB\ew\fP や \fB\eW\fP 
(後述の
.SM
.B プロンプト
を参照) を展開するときに、ディレクトリがパス名の最後からこの数だけ残ります。
削られた部分は省略記号に置き換えられます。
.TP
.B PS1
.\"O The value of this parameter is expanded (see
.\"O .SM
.\"O .B PROMPTING
.\"O below) and used as the primary prompt string.  The default value is
.\"O ``\fB\es\-\ev\e$ \fP''.
このパラメータの値は展開されてプライマリのプロンプト文字列として使われます。
(後述の
.SM
.B プロンプト
を参照)、
デフォルト値は ``\fB\es\-\ev\e$ \fP'' です。
.TP
.B PS2
.\"O The value of this parameter is expanded as with
.\"O .SM
.\"O .B PS1
.\"O and used as the secondary prompt string.  The default is
.\"O ``\fB> \fP''.
このパラメータの値は
.B PS1
と同じように展開され、セカンダリのプロンプト文字列として使われます。
デフォルト値は ``\fB> \fP'' です。
.TP
.B PS3
.\"O The value of this parameter is used as the prompt for the
.\"O .B select
.\"O command (see
.\"O .SM
.\"O .B SHELL GRAMMAR
.\"O above).
このパラメータの値は
.B select
コマンド (前述の
.SM
.B シェルの文法
を参照) のプロンプトとして使われます。
.TP
.B PS4
.\"O The value of this parameter is expanded as with
.\"O .SM
.\"O .B PS1
.\"O and the value is printed before each command
.\"O .B bash
.\"O displays during an execution trace.  The first character of
.\"O .SM
.\"O .B PS4
.\"O is replicated multiple times, as necessary, to indicate multiple
.\"O levels of indirection.  The default is ``\fB+ \fP''.
このパラメータは
.B PS1
と同じように展開されます。この値は実行トレース中に
.B bash
が表示する各コマンド前に出力されます。
複数段の間接レベル (levels of indirection) を示すときは、
.SM
.B PS4
の最初の文字が必要に応じて複数回表示されます。
デフォルト値は ``\fB+ \fP'' です。
.TP
.B SHELL
.\"O The full pathname to the shell is kept in this environment variable.
.\"O If it is not set when the shell starts,
.\"O .B bash
.\"O assigns to it the full pathname of the current user's login shell.
この環境変数にシェルのフルパス名が保存されています。
シェルを起動したときに設定されていない場合は、
.B bash
が現在のユーザのログインシェルのフルパス名を代入します。
.TP
.B TIMEFORMAT
.\"O The value of this parameter is used as a format string specifying
.\"O how the timing information for pipelines prefixed with the
.\"O .B time
.\"O reserved word should be displayed.
このパラメータの値は、予約語である
.B time
が先頭に付いているパイプラインに対して、
時間情報の表示の仕方を指定するフォーマット文字列として使われます。
.\"O The \fB%\fP character introduces an escape sequence that is
.\"O expanded to a time value or other information.
.\"O The escape sequences and their meanings are as follows; the
.\"O braces denote optional portions.
\fB%\fP は、時間の値などに展開される
エスケープシーケンスを示すための文字です。
エスケープシーケンスとその意味を以下に示します。
ただし、ブレース ([]) は省略可能であることを表しま
す。
.sp .5
.RS
.PD 0
.TP 10
.B %%
.\"O A literal \fB%\fP.
\fB%\fP 文字そのもの。
.TP
.B %[\fIp\fP][l]R
.\"O The elapsed time in seconds.
経過した秒数。
.TP
.B %[\fIp\fP][l]U
.\"O The number of CPU seconds spent in user mode.
ユーザモードで使われた CPU の秒数。
.TP
.B %[\fIp\fP][l]S
.\"O The number of CPU seconds spent in system mode.
システムモードで使われた CPU の秒数。
.TP
.B %P
.\"O The CPU percentage, computed as (%U + %S) / %R.
CPU のパーセンテージ。(%U + %S) / %R で算出されます。
.PD
.RE
.IP
.\"O The optional \fIp\fP is a digit specifying the \fIprecision\fP,
.\"O the number of fractional digits after a decimal point.
.\"O A value of 0 causes no decimal point or fraction to be output.
.\"O At most three places after the decimal point may be specified;
.\"O values of \fIp\fP greater than 3 are changed to 3.
.\"O If \fIp\fP is not specified, the value 3 is used.
\fIp\fP 省略可能で、\fI精度 (precision)\fP が何桁であるかを指定します。
つまり小数点以下の桁数を指定します。この値が 0 ならば、
小数点や小数の部分は出力されません。
また、小数点以下で指定できるのは 3 桁までです。
つまり、\fIp\fP の値が 3 より大きければ 3 に変更されます。
\fIp\fP を指定しなければ、この値は 3 となります。
.IP
.\"O The optional \fBl\fP specifies a longer format, including
.\"O minutes, of the form \fIMM\fPm\fISS\fP.\fIFF\fPs.
.\"O The value of \fIp\fP determines whether or not the fraction is
.\"O included.
\fBl\fP は省略可能ですが、指定すると、分を含み、
\fIMM\fPm\fISS\fP.\fIFF\fP という形式の長いフォーマットになります。
小数を含むかどうかは \fIp\fP の値によって決まります。
.IP
.\"O If this variable is not set, \fBbash\fP acts as if it had the
.\"O value \fB$\(aq\enreal\et%3lR\enuser\et%3lU\ensys\t%3lS\(aq\fP.
.\"O If the value is null, no timing information is displayed.
.\"O A trailing newline is added when the format string is displayed.
この変数が設定されていなければ、 \fBbash\fP は
\fB$\(aq\enreal\et%3lR\enuser\et%3lU\ensys\t%3lS\(aq\fP
という値が指定されているかのように動作します。
この値が空文字列ならば、時間の情報は表示されません。
フォーマット文字列の表示の際には、末尾に改行文字が追加されます。
.PD 0
.TP
.B TMOUT
.\"O If set to a value greater than zero,
.\"O .SM
.\"O .B TMOUT
.\"O is treated as the
.\"O default timeout for the \fBread\fP builtin.
.\"O The \fBselect\fP command terminates if input does not arrive
.\"O after
.\"O .SM
.\"O .B TMOUT
.\"O seconds when input is coming from a terminal.
.\"O In an interactive shell, the value is interpreted as the
.\"O number of seconds to wait for input after issuing the primary prompt.
.\"O .B Bash
.\"O terminates after waiting for that number of seconds if input does
.\"O not arrive.
0 より大きい値を設定すると、
.SM
.B TMOUT
の値が組み込みコマンド \fBread\fP のデフォルトのタイムアウト値となります。
\fBselect\fP コマンドは、端末からの入力の際に
.SM
.B TMOUT
秒入力がないと終了します。
対話シェルではこの値は、プライマリのプロンプトを出してから
入力を待つ秒数として解釈されます
この秒数待って入力が来ないと、
.B bash
は終了します
.TP
.B TMPDIR
.\"O If set, \fBbash\fP uses its value as the name of a directory in which
.\"O \fBbash\fP creates temporary files for the shell's use.
設定すると、値を \fBbash\fP がシェル用にテンポラリファイルを作る
ディレクトリ名として使います。
.TP
.B auto_resume
.\"O This variable controls how the shell interacts with the user and
.\"O job control.  If this variable is set, single word simple
.\"O commands without redirections are treated as candidates for resumption
.\"O of an existing stopped job.  There is no ambiguity allowed; if there is
.\"O more than one job beginning with the string typed, the job most recently
.\"O accessed is selected.  The
.\"O .I name
.\"O of a stopped job, in this context, is the command line used to
.\"O start it.
.\"O If set to the value
.\"O .IR exact ,
.\"O the string supplied must match the name of a stopped job exactly;
.\"O if set to
.\"O .IR substring ,
.\"O the string supplied needs to match a substring of the name of a
.\"O stopped job.  The
.\"O .I substring
.\"O value provides functionality analogous to the
.\"O .B %?
.\"O job identifier (see
.\"O .SM
.\"O .B JOB CONTROL
.\"O below).  If set to any other value, the supplied string must
.\"O be a prefix of a stopped job's name; this provides functionality
.\"O analogous to the \fB%\fP\fIstring\fP job identifier.
.\"O This variable controls how the shell interacts with the user and
この変数は、ユーザがジョブ制御をするときの方法を変更します。
この変数を設定した場合、1 語からなるリダイレクトなしの単純なコマンドを
入力すると、停止中のジョブの実行再開候補として扱われます。
曖昧な指定は許されず、入力された文字列で始まるジョブが複数ある場合には、
最後にアクセスされたものが選ばれます。
停止中のジョブの
.I 名前
とは、コマンドを起動する際に使ったコマンドラインのことです。
この変数の値に
.I exact
が設定されている場合、
与えられた文字列は停止中のジョブの名前に
正確にマッチしなければなりません。
.I substring
が設定されている場合は、
与えられた文字列は停止中のジョブの名前の部分文字列に
マッチする必要があります。
.I substring
という値は、ジョブ識別子の
.B %?
に似た機能を持っています (後述の
.SM
.B ジョブ制御
を参照)。
これ以外の値が設定されている場合、
与えられた文字列は停止中のジョブの名前の
先頭部分でなければなりません。これはジョブ識別子の
\fB%\fP\fIstring\fP と似た機能を持っています。
.TP
.B histchars
.\"O The two or three characters which control history expansion
.\"O and tokenization (see
.\"O .SM
.\"O .B HISTORY EXPANSION
.\"O below).  The first character is the \fIhistory expansion\fP character,
.\"O the character which signals the start of a history
.\"O expansion, normally `\fB!\fP'.
.\"O The second character is the \fIquick substitution\fP
.\"O character, which is used as shorthand for re-running the previous
.\"O command entered, substituting one string for another in the command.
.\"O The default is `\fB^\fP'.
.\"O The optional third character is the character
.\"O which indicates that the remainder of the line is a comment when found
.\"O as the first character of a word, normally `\fB#\fP'.  The history
.\"O comment character causes history substitution to be skipped for the
.\"O remaining words on the line.  It does not necessarily cause the shell
.\"O parser to treat the rest of the line as a comment.
2 文字または 3 文字で、
履歴の展開とトークン分割 (後述の
.SM
.B 履歴の展開
を参照) を制御します。
最初の文字は \fI履歴展開 (history expansion)\fP 文字であり、
履歴展開の先頭を示す文字です。通常、これは `\fB!\fP' です。
2 番目の文字は \fI簡易置換 (quick substitution)\fP
文字であり、直前に入力したコマンドの文字列を
別の文字列に置き換えて再実行するための省略表現として使います。
デフォルト値は `\fB^\fP' です。
3 番目の文字は省略可能です。単語の先頭でこの文字が見つかると、
行の残りの部分がコメントとなるような文字を指定します。
これは通常は `\fB#\fP' です。
履歴コメント文字があると、
その行の残りの単語に対する履歴置換はスキップされます。
この文字があるからといって、
必ずしもシェルのパーザが行の残りの部分をコメントとして扱うわけではありません。
.PD
.\"O .SS Arrays
.SS 配列
.\"O .B Bash
.\"O provides one-dimensional indexed and associative array variables.
.\"O Any variable may be used as an indexed array; the
.B bash
は 1 次元のインデックスによる配列と連想配列の変数を扱うことができます。
全ての変数は配列として使用できます。
.\"O .B declare
.\"O builtin will explicitly declare an array.
.\"O There is no maximum
.\"O limit on the size of an array, nor any requirement that members
.\"O be indexed or assigned contiguously.
.\"O Indexed arrays are referenced using integers (including arithmetic
.\"O expressions)  and are zero-based; associative arrays are referenced
.\"O using arbitrary strings.
.B declare
組み込みコマンドを使えば、明示的に配列を宣言できます。
配列のサイズの上限はありませんし、
メンバのインデックス付けや代入を
連続的にしなければならないという条件もありません。
インデックスによる配列は整数 (算術式を含む) で参照します。
インデックスは 0 から始まります。
連想配列は任意の文字列で参照します。
.PP
.\"O An indexed array is created automatically if any variable is assigned to
.\"O using the syntax \fIname\fP[\fIsubscript\fP]=\fIvalue\fP.  The
変数の代入の際に \fIname\fP[\fIsubscript\fP]=\fIvalue\fP
という記法が使われた場合、配列は自動的に生成されます。
.\"O .I subscript
.\"O is treated as an arithmetic expression that must evaluate to a number.
.\"O If
.I subscript
は算術式として扱われますが、この式は評価すると
数値になるものでなければなりません。
.\"O .I subscript
.\"O evaluates to a number less than zero, it is used as
.\"O an offset from one greater than the array's maximum index (so a subcript
.\"O of -1 refers to the last element of the array).
.\"O To explicitly declare an indexed array, use
.\"O .B declare \-a \fIname\fP
.\"O (see
.\"O .SM
.\"O .B SHELL BUILTIN COMMANDS
.\"O below).
.I subscript
を評価すると 0 未満の数になる場合、最大のインデックス +1
からのオフセットとして扱われます。つまり、subscript
が -1 のときは、配列の最後の要素を参照します。
インデックスによる配列を明示的に宣言するには、
.B declare \-a \fIname\fP
を使います (後述の
.SM
.B シェルの組み込みコマンド
を参照)。
.B declare \-a \fIname\fP[\fIsubscript\fP]
.\"O .B declare \-a \fIname\fP[\fIsubscript\fP]
.\"O is also accepted; the \fIsubscript\fP is ignored.
も許されます。このとき \fIsubscript\fP は無視されます。
.PP
.\"O Associative arrays are created using
.\"O .BR "declare \-A \fIname\fP" .
連想配列は
.BR "declare \-A \fIname\fP"
で作ります。
.PP
.\"O Attributes may be
.\"O specified for an array variable using the
.\"O .B declare
.\"O and
.\"O .B readonly
.\"O builtins.  Each attribute applies to all members of an array.
組み込みコマンドの
.B declare
と
.B readonly
を使うと、配列変数に対して属性を設定できます。
どの属性も配列のメンバ全てに対して適用されます。
.PP
.\"O Arrays are assigned to using compound assignments of the form
.\"O \fIname\fP=\fB(\fPvalue\fI1\fP ... value\fIn\fP\fB)\fP, where each
.\"O \fIvalue\fP is of the form [\fIsubscript\fP]=\fIstring\fP.
.\"O Indexed array assignments do not require the bracket and subscript.
.\"O When assigning to indexed arrays, if the optional brackets and subscript
.\"O are supplied, that index is assigned to;
.\"O otherwise the index of the element assigned is the last index assigned
.\"O to by the statement plus one.  Indexing starts at zero.
配列の代入は
\fIname\fP=\fB(\fPvalue\fI1\fP ... value\fIn\fP\fB)\fP
という形式の複合代入 (compound assignment) を用いて行います。
ここでそれぞれの
\fIvalue\fP の形式は [\fIsubscript\fP]=\fIstring\fP です。
インデックスによる配列では、ブラケット ([]) と subscript は省略できます。
ブラケットと subscript を省略しなかった場合、
そのインデックスに対して代入が行われます。
省略した場合には、代入される要素のインデックスは、
その文の中で直前に代入されたインデックスに 1 を加えたものになります。
インデックスは 0 から始まります。
.PP
.\"O When assigning to an associative array, the subscript is required.
連想配列への代入では、subscript は省略できません。
.PP
.\"O This syntax is also accepted by the
.\"O .B declare
.\"O builtin.  Individual array elements may be assigned to using the
.\"O \fIname\fP[\fIsubscript\fP]=\fIvalue\fP syntax introduced above.
この記法は組み込みコマンド
.B declare
でも使えます。個別の配列要素に対する代入は、先に説明した
\fIname\fP[\fIsubscript\fP]=\fIvalue\fP の記法を使って行います。
.PP
.\"O Any element of an array may be referenced using
.\"O ${\fIname\fP[\fIsubscript\fP]}.  The braces are required to avoid
.\"O conflicts with pathname expansion.  If
.\"O \fIsubscript\fP is \fB@\fP or \fB*\fP, the word expands to
.\"O all members of \fIname\fP.  These subscripts differ only when the
.\"O word appears within double quotes.  If the word is double-quoted,
.\"O ${\fIname\fP[*]} expands to a single
.\"O word with the value of each array member separated by the first
.\"O character of the
.\"O .SM
.\"O .B IFS
.\"O special variable, and ${\fIname\fP[@]} expands each element of
.\"O \fIname\fP to a separate word.  When there are no array members,
.\"O ${\fIname\fP[@]} expands to nothing.
配列の任意の要素は、${\fIname\fP[\fIsubscript\fP]}
を使って参照できます。
パス名展開との衝突を避けるためにブレースが必要です。
\fIsubscript\fP が \fB@\fP か \fB*\fP ならば、配列の参照は
\fIname\fP の全ての要素に展開されます。この 2 つの添字が異なるのは、
単語がダブルクォートの内部にある場合だけです。
単語がダブルクォートされていれば、${\fIname\fP[*]} は
1 つの単語に展開されます。
この単語は、配列の各メンバの値を特殊変数
.SM
.B IFS
の最初の値で区切って並べたものです。一方、${\fIname\fP[@]} は、
\fIname\fP の各要素を別々の単語に展開します。
配列のメンバが全くないときは、${\fIname\fP[@]}
は空の単語に展開されます。
.\"O If the double-quoted expansion occurs within a word, the expansion of
.\"O the first parameter is joined with the beginning part of the original
.\"O word, and the expansion of the last parameter is joined with the last
.\"O part of the original word.
.\"O This is analogous to the expansion
.\"O of the special parameters \fB*\fP and \fB@\fP (see
.\"O .B Special Parameters
.\"O above).  ${#\fIname\fP[\fIsubscript\fP]} expands to the length of
.\"O ${\fIname\fP[\fIsubscript\fP]}.  If \fIsubscript\fP is \fB*\fP or
.\"O \fB@\fP, the expansion is the number of elements in the array.
.\"O Referencing an array variable without a subscript is equivalent to
.\"O referencing the array with a subscript of 0.
単語の中でダブルクォートの展開が行われるときには、
元の単語のダブルクォートより前の部分の後に
最初のパラメータの展開結果がつながり、
最後のパラメータの展開結果の後に
元の単語のダブルクォートより後の部分がつながります。
これは特殊パラメータ \fB*\fP や \fB@\fP の展開に似ています (前述の
.B 特殊パラメータ
を参照)。
${#\fIname\fP[\fIsubscript\fP]} は
${\fIname\fP[\fIsubscript\fP]} の長さに展開されます。
\fIsubscript\fP が \fB*\fP または \fB@\fP の場合は、
配列中の要素数に展開されます。添字なしで配列変数を参照すると、
0 番目の要素を参照したことになります。
.PP
.\"O An array variable is considered set if a subscript has been assigned a
.\"O value.  The null string is a valid value.
配列変数は subscript に対して値が代入されていれば
設定されているとみなされます。
空文字列は有効な値です。
.PP
.\"O The
.\"O .B unset
.\"O builtin is used to destroy arrays.  \fBunset\fP \fIname\fP[\fIsubscript\fP]
.\"O destroys the array element at index \fIsubscript\fP.
.\"O Care must be taken to avoid unwanted side effects caused by pathname
.\"O expansion.
.\"O \fBunset\fP \fIname\fP, where \fIname\fP is an array, or
.\"O \fBunset\fP \fIname\fP[\fIsubscript\fP], where
.\"O \fIsubscript\fP is \fB*\fP or \fB@\fP, removes the entire array.
組み込みコマンドの
.B unset
は配列の削除に使われます。\fBunset\fP \fIname\fP[\fIsubscript\fP]
とすると、インデックスが \fIsubscript\fP である配列の要素が削除されます。
パス名展開による意図しない副作用に注意してください。
\fBunset\fP \fIname\fP (\fIname\fP は配列) または
\fBunset\fP \fIname\fP[\fIsubscript\fP]
(\fIsubscript\fP が \fB*\fP または \fB@\fP) とすると、
配列全体が削除されます。
.PP
.\"O The
.\"O .BR declare ,
.\"O .BR local ,
.\"O and
.\"O .B readonly
.\"O builtins each accept a
.\"O .B \-a
.\"O option to specify an indexed array and a
.\"O .B \-A
.\"O option to specify an associative array.
.\"O If both options are supplied, 
.\"O .B \-A
.\"O takes precedence.
組み込みコマンドの
.BR declare ,
.BR local ,
.B readonly
いずれにおいても、
.B \-a
オプションでインデックスによる配列を指定できます。
.B \-A
また、オプションで連想配列を指定できます。
両方が指定されたときには、
.B \-A
が優先します。
.\"O The
.\"O .B read
.\"O builtin accepts a
.\"O .B \-a
.\"O option to assign a list of words read from the standard input
.\"O to an array.  The
.\"O .B set
.\"O and
.\"O .B declare
.\"O builtins display array values in a way that allows them to be
.\"O reused as assignments.
組み込みコマンド
.B read
では、
.B \-a
オプションを使えば標準入力から読み込んだ単語のリストを
配列に代入できます。
組み込みコマンド
.B set
と
.B declare
では、別の変数への代入に再利用できるような形で配列の値を表示します。
.\"O .SH EXPANSION
.SH 展開
.\"O Expansion is performed on the command line after it has been split into
.\"O words.  There are seven kinds of expansion performed:
.\"O .IR "brace expansion" ,
.\"O .IR "tilde expansion" ,
.\"O .IR "parameter and variable expansion" ,
.\"O .IR "command substitution" ,
.\"O .IR "arithmetic expansion" ,
.\"O .IR "word splitting" ,
.\"O and
.\"O .IR "pathname expansion" .
展開はコマンドラインが単語へ分割された後に
(コマンドライン上で) 行われます。行われる展開は
7 種類あります:
.IR "ブレース展開 (brace expansion)" ,
.IR "チルダ展開 (tilde expansion)" ,
.IR "パラメータと変数の展開 (parameter and variable expansion)" ,
.IR "コマンド置換 (command substitution)" ,
.IR "算術式展開 (arithmetic expansion)" ,
.IR "単語の分割 (word splitting)" ,
.IR "パス名展開 (pathname expansion)" 。
.PP
.\"O The order of expansions is: brace expansion, tilde expansion,
.\"O parameter, variable and arithmetic expansion and
.\"O command substitution
.\"O (done in a left-to-right fashion), word splitting, and pathname
.\"O expansion.
展開の順序は次のようになります: ブレース展開、チルダ展開、パラメータ・
変数・算術式展開、コマンド置換 (左から右へ)、単語分割、パス名展開。
.PP
.\"O On systems that can support it, there is an additional expansion
.\"O available: \fIprocess substitution\fP.
これらに加えて \fIプロセス置換 (process substitution)\fP
をサポートできるシステムもあります。
.PP
.\"O Only brace expansion, word splitting, and pathname expansion
.\"O can change the number of words of the expansion; other expansions
.\"O expand a single word to a single word.
.\"O The only exceptions to this are the expansions of
.\"O "\fB$@\fP" and "\fB${\fP\fIname\fP\fB[@]}\fP"
.\"O as explained above (see
.\"O .SM
.\"O .BR PARAMETERS ).
展開した部分の単語の数が変化することがあるのは、ブレース展開、
単語の分割、パス名展開だけです。ほかの展開では、
1 つの単語は 1 つの単語に展開されます。
この規則の唯一の例外は先に説明した
"\fB$@\fP" と "\fB${\fP\fIname\fP\fB[@]}\fP" の展開 (
.SM
.B パラメータ
を参照) だけです。
.\"O .SS Brace Expansion
.SS ブレース展開
.PP
.\"O .I "Brace expansion"
.\"O is a mechanism by which arbitrary strings
.\"O may be generated.  This mechanism is similar to
.\"O \fIpathname expansion\fP, but the filenames generated
.\"O need not exist.  Patterns to be brace expanded take
.\"O the form of an optional
.\"O .IR preamble ,
.\"O followed by either a series of comma-separated strings or
.\"O a sequence expression between a pair of braces, followed by
.\"O an optional
.\"O .IR postscript .
.\"O The preamble is prefixed to each string contained
.\"O within the braces, and the postscript is then appended
.\"O to each resulting string, expanding left to right.
.I "ブレース展開 (brace expansion)"
を使うと、任意の文字列を生成できます。この仕組みは
\fIパス名展開\fPに似ていますが、
生成されたファイル名が実在する必要はありません。
ブレース展開されるパターンは、
.IR "前置部分 (preamble: 省略可能)" 、
対になるブレースで囲んだコンマ区切りの文字列またはシーケンス式、
.I 後置部分 (postscript: 省略可能)
を順に並べたものです。
前置部分はブレース内にある文字列それぞれの先頭部分に追加され、
後置部分は左から右に順に展開されて得られた
それぞれの文字列の末尾に追加されます。
.PP
.\"O Brace expansions may be nested.  The results of each expanded
.\"O string are not sorted; left to right order is preserved.
.\"O For example, a\fB{\fPd,c,b\fB}\fPe expands into `ade ace abe'.
ブレース展開は入れ子にできます。
展開して得られた文字列はソートされず、
左から右への順番がそのまま残ります。
例えば a\fB{\fPd,c,b\fB}\fPe は `ade ace abe' と展開されます。
.PP
.\"O A sequence expression takes the form
.\"O \fB{\fP\fIx\fP\fB..\fP\fIy\fP\fB[..\fP\fIincr\fP\fB]}\fP,
.\"O where \fIx\fP and \fIy\fP are either integers or single characters,
.\"O and \fIincr\fP, an optional increment, is an integer.
.\"O When integers are supplied, the expression expands to each number between
.\"O \fIx\fP and \fIy\fP, inclusive.
.\"O Supplied integers may be prefixed with \fI0\fP to force each term to have the
.\"O same width.  When either \fIx\fP or \fPy\fP begins with a zero, the shell
.\"O attempts to force all generated terms to contain the same number of digits,
.\"O zero-padding where necessary.
.\"O When characters are supplied, the expression expands to each character
.\"O lexicographically between \fIx\fP and \fIy\fP, inclusive.  Note that
.\"O both \fIx\fP and \fIy\fP must be of the same type.
.\"O When the increment is supplied, it is used as the difference between
.\"O each term.  The default increment is 1 or -1 as appropriate.
シーケンス式は
\fB{\fP\fIx\fP\fB..\fP\fIy\fP\fB[..\fP\fIincr\fP\fB]}\fP
の形になります。\fIx\fP と \fIy\fP は整数または 1 つの文字で、
省略可能な \fIincr\fP は増減分の整数です。
整数が与えられると、
\fIx\fP と \fIy\fP の間の両端を含む数を全て列挙した形に展開されます。
与る整数の前に \fI0\fP を付けると、全ての項が同じ幅に揃えられます。
つまり、\fIx\fP か \fPy\fP のどちらかが 0 で始まる場合、生成される全ての項が
同じ文字数になるように、必要であれば前に 0 が付けられます。
文字が与えられると
辞書順で \fIx\fP と \fIy\fP の間の両端を含む文字を全て列挙した形に展開されます。
\fIx\fP と \fIy\fP は同じ型である必要があります。
incr が与えられると、その値が各項の間の差となります。
incr のデフォルトは、1 または -1 のうち適切な方です。
.\" emasaka: "increment"は"incr"のことと思われるため変更
.PP
.\"O Brace expansion is performed before any other expansions,
.\"O and any characters special to other expansions are preserved
.\"O in the result.  It is strictly textual.
.\"O .B Bash
.\"O does not apply any syntactic interpretation to the context of the
.\"O expansion or the text between the braces.
ブレース展開はほかのどの展開よりも前に実行されます。
また、ほかの展開において特殊な意味を持つ文字もそのまま結果に残ります。
つまり、厳密にテキスト操作だけを行います。
.B bash
は、展開の文脈やブレースの間のテキストに対して
文法的な解釈を適用することは一切ありません。
.PP
.\"O A correctly-formed brace expansion must contain unquoted opening
.\"O and closing braces, and at least one unquoted comma or a valid
.\"O sequence expression.
.\"O Any incorrectly formed brace expansion is left unchanged.
.\"O A \fB{\fP or \fB,\fP may be quoted with a backslash to prevent its
.\"O being considered part of a brace expression.
.\"O To avoid conflicts with parameter expansion, the string \fB${\fP
.\"O is not considered eligible for brace expansion.
正しい形のブレース展開には、クォートされていない開きブレースと
閉じブレース、そしてシーケンス式か少なくとも 1
つのクォートされていないコンマが
含まれていなければなりません。正しい形でないブレース展開は全て、
変更されないでそのまま残ります。
\fB{\fP や \fB,\fP をバックスラッシュでクォートすれば、
ブレース展開の一部と解釈されないようにできます。
パラメータ展開との衝突を避けるため、文字列 \fB${\fP
はブレース展開の対象とは解釈されません。
.PP
.\"O This construct is typically used as shorthand when the common
.\"O prefix of the strings to be generated is longer than in the
.\"O above example:
この仕組みは、
生成される文字列の共通先頭部分が上記の例より長い場合に、
短縮表現としてよく使用されます:
.RS
.PP
mkdir /usr/local/src/bash/{old,new,dist,bugs}
.RE
.\"O .RE
.\"O or
あるいは
.RS
chown root /usr/{ucb/{ex,edit},lib/{ex?.?*,how_ex}}
.RE
.PP
.\"O Brace expansion introduces a slight incompatibility with
.\"O historical versions of
.\"O .BR sh .
ブレース展開の導入によって、伝統的な
.B sh
とは少し非互換になった部分があります。
.\"O .B sh
.\"O does not treat opening or closing braces specially when they
.\"O appear as part of a word, and preserves them in the output.
.\"O .B Bash
.\"O removes braces from words as a consequence of brace
.\"O expansion.  For example, a word entered to
.\"O .B sh
.\"O as \fIfile{1,2}\fP
.\"O appears identically in the output.  The same word is
.\"O output as
.\"O .I file1 file2
.\"O after expansion by
.\"O .BR bash .
.B sh
は単語の一部として開きブレースや閉じブレースが現われても特別扱いはせず、
そのまま出力に残します。
.B bash
はブレース展開の結果として単語からブレースを取り除きます。例えば
.B sh
に \fIfile{1,2}\fP のように入力された単語はそのままの形で出力されますが、
.B bash
ではこの同じ単語は展開されて
.I file1 file2
のように出力されます。
.\"O If strict compatibility with
.\"O .B sh
.\"O is desired, start
.\"O .B bash
.\"O with the
.\"O .B +B 
.\"O option or disable brace expansion with the
.\"O .B +B
.\"O option to the
.\"O .B set
.\"O command (see
.\"O .SM
.\"O .B SHELL BUILTIN COMMANDS
.\"O below).
厳密に
.B sh
と互換にしたければ、
.B bash
を
.B +B 
オプションを付けて起動するか、
.B set
コマンドに
.B +B
オプションを与えてブレース展開を無効にしてください
(後述する
.SM
.B シェル組み込みコマンド
を参照)。
.\"O .SS Tilde Expansion
.SS チルダ展開
.PP
.\"O If a word begins with an unquoted tilde character (`\fB~\fP'), all of
.\"O the characters preceding the first unquoted slash (or all characters,
.\"O if there is no unquoted slash) are considered a \fItilde-prefix\fP.
.\"O If none of the characters in the tilde-prefix are quoted, the
.\"O characters in the tilde-prefix following the tilde are treated as a
.\"O possible \fIlogin name\fP.
.\"O If this login name is the null string, the tilde is replaced with the
.\"O value of the shell parameter
.\"O .SM
.\"O .BR HOME .
クォートされていないチルダ (`\fB~\fP') で単語が始まった場合、
クォートされていないスラッシュよりも前にある文字全て
(クォートされていないスラッシュが無ければ全ての文字)
はチルダプレフィックス (\fItilde-prefix\fP) と解釈されます。
クォートされている文字がチルダプレフィックス中に無ければ、
チルダプレフィックス中のチルダ以降の文字は、
\fIログイン名 (login name)\fP になるかもしれない文字列として扱われます。
このログイン名が空文字列ならば、チルダはシェルパラメータ
.SM
.\"O If
.B HOME
の値に置き換えられます。
.\"O .B HOME
.\"O is unset, the home directory of the user executing the shell is
.\"O substituted instead.
.\"O Otherwise, the tilde-prefix is replaced with the home directory
.\"O associated with the specified login name.
.SM
.B HOME
が設定されていない場合は、代わりにシェルを実行しているユーザの
ホームディレクトリに置き換えられます。
ログイン名が空でなければ、
チルダプレフィックスは指定されたログイン名に対応する
ホームディレクトリに置き換えられます。
.PP
.\"O If the tilde-prefix is a `~+', the value of the shell variable
.\"O .SM
.\"O .B PWD
.\"O replaces the tilde-prefix.
.\"O If the tilde-prefix is a `~\-', the value of the shell variable
.\"O .SM
.\"O .BR OLDPWD ,
.\"O if it is set, is substituted.
チルダプレフィックスが `~+' ならば、チルダプレフィックスはシェル変数
.SM
.B PWD
の値に置き換えられます。
チルダプレフィックスが `~\-' ならば、シェル変数
.SM
.B OLDPWD
の値に置き換えられます (値が設定されていれば)。
.\"O If the characters following the tilde in the tilde-prefix consist
.\"O of a number \fIN\fP, optionally prefixed
.\"O by a `+' or a `\-', the tilde-prefix is replaced with the corresponding
.\"O element from the directory stack, as it would be displayed by the
.\"O .B dirs
.\"O builtin invoked with the tilde-prefix as an argument.
チルダプレフィックス中のチルダより後の文字が数値 \fIN\fP であれば
(数値の前に `+' や `\-' を置くこともできます)、
チルダプレフィックスはディレクトリスタック内の対応する要素に置換されます。
置換される要素は、チルダプレフィックスを引き数として組み込みコマンド
.B dirs
を実行したときに表示されるものです。
.\"O If the characters following the tilde in the tilde-prefix consist of a
.\"O number without a leading `+' or `\-', `+' is assumed.
チルダプレフィックスにおけるチルダ以降の文字が、
先行する `+' や `-' のない数値である場合は、`+' であるとみなされます。
.PP
.\"O If the login name is invalid, or the tilde expansion fails, the word
.\"O is unchanged.
ログイン名が有効でない場合や、チルダ展開が失敗した場合には、
単語は置き換えられません。
.PP
.\"O Each variable assignment is checked for unquoted tilde-prefixes immediately
.\"O following a
全ての変数代入において、
.\"O .B :
.\"O or the first
.\"O .BR = .
.\"O In these cases, tilde expansion is also performed.
.B :
や
.B =
の直後にクォートされていないチルダプレフィックスがないかチェックが行われます。
もし見つかった場合にはこれらもチルダ展開されます。
.\"O Consequently, one may use file names with tildes in assignments to
.\"O .SM
.\"O .BR PATH ,
.\"O .SM
.\"O .BR MAILPATH ,
.\"O and
.\"O .SM
.\"O .BR CDPATH ,
.\"O and the shell assigns the expanded value.
したがって、
.SM
.BR PATH ,
.SM
.BR MAILPATH ,
.SM
.BR CDPATH
への代入にチルダを含むファイル名を使えば、
シェルは展開された値を代入します。
.\"O .SS Parameter Expansion
.SS パラメータの展開
.PP
.\"O The `\fB$\fP' character introduces parameter expansion,
.\"O command substitution, or arithmetic expansion.  The parameter name
.\"O or symbol to be expanded may be enclosed in braces, which
.\"O are optional but serve to protect the variable to be expanded from
.\"O characters immediately following it which could be
.\"O interpreted as part of the name.
`\fB$\fP' 文字があると、パラメータ展開、コマンド置換、
算術式展開が行われます。展開されるパラメータ名やシンボルは、
ブレースで括ることもできます。
ブレースは省略可能ですが、
変数の直後に変数名の一部と解釈できる文字が置かれた場合に、
その文字と共に変数が展開されてしまうのを防ぐために用意されています。
.PP
.\"O When braces are used, the matching ending brace is the first `\fB}\fP'
.\"O not escaped by a backslash or within a quoted string, and not within an
.\"O embedded arithmetic expansion, command substitution, or parameter
.\"O expansion.
ブレースを使った場合、対になるのは最初に表れる `\fB}\fP' です。
ただしバックスラッシュでエスケープされているものや
クォートされている文字列中のものは含まれませんし、ブレースの内側にある
算術式展開やコマンド置換、パラメータ展開に入っているものも含まれません。
.PP
.PD 0
.TP
${\fIparameter\fP}
.\"O The value of \fIparameter\fP is substituted.  The braces are required
.\"O when
.\"O .I parameter
.\"O is a positional parameter with more than one digit,
.\"O or when
.\"O .I parameter
.\"O is followed by a character which is not to be
.\"O interpreted as part of its name.
\fIparameter\fP の値に置換されます。ブレースが必要になるのは、
.I parameter
が 2 桁以上の数字を持つ位置パラメータの場合や、
.I parameter
の直後の文字を名前の一部として解釈させたくない場合です。
.PD
.PP
.\"O If the first character of \fIparameter\fP is an exclamation point (\fB!\fP),
.\"O a level of variable indirection is introduced.
.\"O \fBBash\fP uses the value of the variable formed from the rest of
.\"O \fIparameter\fP as the name of the variable; this variable is then
.\"O expanded and that value is used in the rest of the substitution, rather
.\"O than the value of \fIparameter\fP itself.
.\"O This is known as \fIindirect expansion\fP.
.\"O The exceptions to this are the expansions of ${\fB!\fP\fIprefix\fP\fB*\fP} and
.\"O ${\fB!\fP\fIname\fP[\fI@\fP]} described below.
.\"O The exclamation point must immediately follow the left brace in order to
.\"O introduce indirection.
\fIparameter\fP の最初の文字が感嘆符ならば、変数間接展開が行われます。
\fBbash\fP は残りの \fIparameter\fP からなる変数の値を変数の名前と見なします。
そしてそこで得られた名前の変数を展開した値を、置換処理の続きで使います。
これが \fI間接展開\fP です。
ただし ${!\fIprefix\fP*} や ${\fB!\fP\fIname\fP[\fI@\fP]} の展開は例外です。
これは以下で説明します。
間接展開を表すには、感嘆符は左ブレースの直後に続ける必要があります。
.PP
.\"O In each of the cases below, \fIword\fP is subject to tilde expansion,
.\"O parameter expansion, command substitution, and arithmetic expansion.
以下に示すそれぞれの場合、\fIword\fP に対してチルダ展開、
パラメータ展開、コマンド置換、算術式展開が行われます。
.PP
.\"O When not performing substring expansion, using the forms documented below,
.\"O \fBbash\fP tests for a parameter that is unset or null.  Omitting the colon
.\"O results in a test only for a parameter that is unset.
部分文字列展開以外の場合、以下の形式で、
\fBbash\fP はパラメータが設定されているか、空ではないかを調べます。
コロンを省略した場合には設定されているかどうかのみを調べます。
.PP
.PD 0
.TP
${\fIparameter\fP\fB:\-\fP\fIword\fP}
.\"O \fBUse Default Values\fP.  If
.\"O .I parameter
.\"O is unset or null, the expansion of
.\"O .I word
.\"O is substituted.  Otherwise, the value of
.\"O .I parameter
.\"O is substituted.
\fBデフォルトの値を使います\fP。
.I parameter
が設定されていないか空文字列であれば、
.I word
を展開したものに置換されます。そうでなければ、
.I parameter
の値に置換されます。
.TP
${\fIparameter\fP\fB:=\fP\fIword\fP}
.\"O \fBAssign Default Values\fP.
.\"O If
.\"O .I parameter
.\"O is unset or null, the expansion of
.\"O .I word
.\"O is assigned to
.\"O .IR parameter .
.\"O The value of
.\"O .I parameter
.\"O is then substituted.  Positional parameters and special parameters may
.\"O not be assigned to in this way.
\fBデフォルトの値を代入します\fP。
.I parameter
が設定されていないか空文字列であれば、
.I word
を展開したものが
.I parameter
に代入されます。それから
.I parameter
の値への置換が行われます。
位置パラメータや特殊パラメータへの代入をこのように行うことはできません。
.TP
${\fIparameter\fP\fB:?\fP\fIword\fP}
.\"O \fBDisplay Error if Null or Unset\fP.
.\"O If
.\"O .I parameter
.\"O is null or unset, the expansion of \fIword\fP (or a message to that effect
.\"O if
.\"O .I word
.\"O is not present) is written to the standard error and the shell, if it
.\"O is not interactive, exits.  Otherwise, the value of \fIparameter\fP is
.\"O substituted.
\fB空文字列または設定されていない場合にエラーを表示します\fP。
.I parameter
が空文字列または設定されていない場合、\fIword\fP を展開したもの
.RI ( word
がなければ
パラメータが空文字列または設定されていないことを示すメッセージ)
が標準エラー出力に出力されます。シェルが対話的でなければ、
シェルは終了します。パラメータに空文字列以外が設定されていれば、
\fIparameter\fP の値への置換が行われます。
.TP
${\fIparameter\fP\fB:+\fP\fIword\fP}
.\"O \fBUse Alternate Value\fP.
.\"O If
.\"O .I parameter
.\"O is null or unset, nothing is substituted, otherwise the expansion of
.\"O .I word
.\"O is substituted.
\fB別の値を使用します\fP。
.I parameter
が空文字列または設定されていなければ、空文字列に置換されます。
そうでなければ
.I word
を展開したものに置換されます。
.TP
${\fIparameter\fP\fB:\fP\fIoffset\fP}
.PD 0
.TP
${\fIparameter\fP\fB:\fP\fIoffset\fP\fB:\fP\fIlength\fP}
.PD
.\"O \fBSubstring Expansion\fP.
.\"O Expands to up to \fIlength\fP characters of \fIparameter\fP
.\"O starting at the character specified by \fIoffset\fP.
.\"O If \fIlength\fP is omitted, expands to the substring of
.\"O \fIparameter\fP starting at the character specified by \fIoffset\fP.
.\"O \fIlength\fP and \fIoffset\fP are arithmetic expressions (see
.\"O .SM
.\"O .B
.\"O ARITHMETIC EVALUATION
.\"O below).
\fB部分文字列展開\fP。
\fIparameter\fP を展開したものから最大 \fIlength\fP 文字を取り出します。
先頭の文字は \fIoffset\fP で指定します。\fIlength\fP を省略すると、
\fIoffset\fP で指定した文字を先頭にして、
\fIparameter\fP の残り全部が含まれる部分文字列に展開します。
\fIlength\fP と \fIoffset\fP は算術式です (後述の
.SM
.B 算術式評価
を参照)。
.\"O If \fIoffset\fP evaluates to a number less than zero, the value
.\"O is used as an offset from the end of the value of \fIparameter\fP.
.\"O If \fIlength\fP evaluates to a number less than zero, and \fIparameter\fP
.\"O is not \fB@\fP and not an indexed or associative array, it is interpreted
.\"O as an offset from the end of the value of \fIparameter\fP rather than
.\"O a number of characters, and the expansion is the characters between the
.\"O two offsets.
.\"O If \fIparameter\fP is \fB@\fP, the result is \fIlength\fP positional
.\"O parameters beginning at \fIoffset\fP.
.\"O If \fIparameter\fP is an indexed array name subscripted by @ or *,
.\"O the result is the \fIlength\fP
.\"O members of the array beginning with ${\fIparameter\fP[\fIoffset\fP]}.
.\"O A negative \fIoffset\fP is taken relative to one greater than the maximum
.\"O index of the specified array.
.\"O Substring expansion applied to an associative array produces undefined
.\"O results.
.\"O Note that a negative offset must be separated from the colon by at least
.\"O one space to avoid being confused with the :- expansion.
.\"O Substring indexing is zero-based unless the positional parameters 
.\"O are used, in which case the indexing starts at 1 by default.
.\"O If \fIoffset\fP is 0, and the positional parameters are used, \fB$0\fP is
.\"O prefixed to the list.
\fIoffset\fP を評価すると 0 未満の数になる場合、この値は
\fIparameter\fP の値の末尾からのオフセットとして使われます。
\fIlength\fP を評価すると 0 未満の数になる場合、
\fIparameter\fP が \fB@\fP ではなく、配列でも連想配列でもなければ、
この値は文字数ではなく \fIparameter\fP の値の末尾からのオフセットとして使われ、
展開結果は 2 つのオフセットの間の部分文字列となります。
\fIparameter\fP が \fB@\fP ならば、結果は \fIoffset\fP から始まる
\fIlength\fP 個の位置パラメータになります。
\fIparameter\fP が @ または * のインデックスが付いている配列名ならば、
結果は配列の ${\fIparameter\fP[\fIoffset\fP]} を先頭とする要素
\fIlength\fP 個となります。
負の \fIoffset\fP は、指定された配列の最大のインデックス + 1
からの相対値と解釈されます。
連想配列に部分文字列展開した場合の結果は決められていません。
負のオフセットを指定するときには、:- 式と混同されないよう、
1 つ以上の空白でコロンと離す必要があることに注意してください。
位置パラメータを使う場合以外は、
部分文字列のインデックスは 0 から始まります。位置パラメータの場合には、
インデックスは 1 から始まります。
位置パラメータが使われて \fIoffset\fP が 0 の場合、
\fB$0\fP の値が先頭に置かれます。
.TP
${\fB!\fP\fIprefix\fP\fB*\fP}
.PD 0
.TP
${\fB!\fP\fIprefix\fP\fB@\fP}
.PD
.\"O \fBNames matching prefix\fP.
.\"O Expands to the names of variables whose names begin with \fIprefix\fP,
.\"O separated by the first character of the
.\"O .SM
.\"O .B IFS
.\"O special variable.
.\"O When \fI@\fP is used and the expansion appears within double quotes, each
.\"O variable name expands to a separate word.
\fB前方一致する変数名\fP。
\fIprefix\fP で始まる全ての変数の名前に展開して、
.SM
.B IFS
特殊変数の最初の文字によって区切ります。
ダブルクォートの中で \fI@\fP が使われた場合、それぞれの変数の名前は
別々の単語に展開されます。
.TP
${\fB!\fP\fIname\fP[\fI@\fP]}
.PD 0
.TP
${\fB!\fP\fIname\fP[\fI*\fP]}
.PD
.\"O \fBList of array keys\fP.
.\"O If \fIname\fP is an array variable, expands to the list of array indices
.\"O (keys) assigned in \fIname\fP.
.\"O If \fIname\fP is not an array, expands to 0 if \fIname\fP is set and null
.\"O otherwise.
.\"O When \fI@\fP is used and the expansion appears within double quotes, each
.\"O key expands to a separate word.
\fB配列のキーのリスト\fP。
\fIname\fP が配列変数であれば、配列 \fIname\fP の
インデックス (キー) のリストに展開されます。
\fIname\fP が配列でない場合は、\fIname\fP が設定されていれば 0 に、
そうでなければ空に展開されます。
ダブルクォートの中で \fI@\fP が使われた場合、それぞれのキーは
別々の単語に展開されます。
.TP
${\fB#\fP\fIparameter\fP}
.\"O \fBParameter length\fP.
.\"O The length in characters of the value of \fIparameter\fP is substituted.
.\"O If
.\"O .I parameter
.\"O is
.\"O .B *
.\"O or 
.\"O .BR @ ,
.\"O the value substituted is the number of positional parameters.
\fBパラメータの長さ\fP。
\fIparameter\fP の値に含まれる文字数に置換されます。
.I parameter
が
.B *
または
.B @
ならば、位置パラメータの数に置換されます。
.\"O If
.\"O .I parameter
.\"O is an array name subscripted by
.\"O .B *
.\"O or
.\"O .BR @ ,
.\"O the value substituted is the number of elements in the array.
.I parameter
が
.B *
または
.B @
が添字になっている配列名ならば、配列中の要素数に置換されます。
.TP
${\fIparameter\fP\fB#\fP\fIword\fP}
.PD 0
.TP
${\fIparameter\fP\fB##\fP\fIword\fP}
.PD
.\"O \fBRemove matching prefix pattern\fP.
.\"O The 
.\"O .I word
.\"O is expanded to produce a pattern just as in pathname
.\"O expansion.  If the pattern matches the beginning of
.\"O the value of
.\"O .IR parameter ,
.\"O then the result of the expansion is the expanded value of
.\"O .I parameter
.\"O with the shortest matching pattern (the ``\fB#\fP'' case) or the
.\"O longest matching pattern (the ``\fB##\fP'' case) deleted.
\fBパターンに前方一致した部分を取り除く\fP。
.I word
が展開され、パス名展開の場合と同じようなパターンを作ります。
このパターンが
.I parameter
の値の先頭部分とマッチする場合、展開して得られる値は
.I parameter
を展開した値から最短一致パターン (``\fB#\fP''の場合)
または最長一致パターン (``\fB##\fP'' の場合)
を取り除いたものになります。
.\"O If
.\"O .I parameter
.\"O is
.\"O .B @
.\"O or
.\"O .BR * ,
.\"O the pattern removal operation is applied to each positional
.\"O parameter in turn, and the expansion is the resultant list.
.I parameter
が
.B @
または
.BR *
である場合、
パターンを削除する操作は全ての位置パラメータに順番に適用され、
展開結果はリストとして得られます。
.\"O If
.\"O .I parameter
.\"O is an array variable subscripted with
.\"O .B @
.\"O or
.\"O .BR * ,
.\"O the pattern removal operation is applied to each member of the
.\"O array in turn, and the expansion is the resultant list.
.I parameter
が
.B @
または
.B *
が添字になっている配列変数である場合、
パターンを削除する操作は配列の全ての要素に順番に適用され、
展開結果はリストとして得られます。
.TP
${\fIparameter\fP\fB%\fP\fIword\fP}
.PD 0
.TP
${\fIparameter\fP\fB%%\fP\fIword\fP}
.PD
.\"O \fBRemove matching suffix pattern\fP.
.\"O The \fIword\fP is expanded to produce a pattern just as in
.\"O pathname expansion.
.\"O If the pattern matches a trailing portion of the expanded value of
.\"O .IR parameter ,
.\"O then the result of the expansion is the expanded value of
.\"O .I parameter
.\"O with the shortest matching pattern (the ``\fB%\fP'' case) or the
.\"O longest matching pattern (the ``\fB%%\fP'' case) deleted.
.\"O If
.\"O .I parameter
.\"O is
.\"O .B @
.\"O or
.\"O .BR * ,
.\"O the pattern removal operation is applied to each positional
.\"O parameter in turn, and the expansion is the resultant list.
.\"O If
.\"O .I parameter
.\"O is an array variable subscripted with
.\"O .B @
.\"O or
.\"O .BR * ,
.\"O the pattern removal operation is applied to each member of the
.\"O array in turn, and the expansion is the resultant list.
\fBパターンに後方一致した部分を取り除く\fP。
.I word
が展開され、パス名展開の場合と同じようなパターンを作ります。
このパターンが
.I parameter
を展開した値の末尾の部分とマッチする場合、展開結果は
.I parameter
を展開した値から最短一致パターン (``\fB%\fP'' の場合)
または最長一致パターン (``\fB%%\fP'' の場合)
を取り除いたものになります。
.I parameter
が
.B @
または
.B *
である場合、
パターンを削除する操作は全ての位置パラメータに順番に適用され、
展開結果はリストとして得られます。
.I parameter
が
.B @
または
.B *
が添字になっている配列変数である場合、
パターンを削除する操作は配列の全ての要素に順番に適用され、
展開結果はリストとして得られます。
.TP
${\fIparameter\fP\fB/\fP\fIpattern\fP\fB/\fP\fIstring\fP}
.\"O \fBPattern substitution\fP.
.\"O The \fIpattern\fP is expanded to produce a pattern just as in
.\"O pathname expansion.
.\"O \fIParameter\fP is expanded and the longest match of \fIpattern\fP
.\"O against its value is replaced with \fIstring\fP.
.\"O If \fIpattern\fP begins with \fB/\fP, all matches of \fIpattern\fP are
.\"O replaced with \fIstring\fP.  Normally only the first match is replaced.
.\"O If \fIpattern\fP begins with \fB#\fP, it must match at the beginning
.\"O of the expanded value of \fIparameter\fP.
.\"O If \fIpattern\fP begins with \fB%\fP, it must match at the end
.\"O of the expanded value of \fIparameter\fP.
.\"O If \fIstring\fP is null, matches of \fIpattern\fP are deleted
.\"O and the \fB/\fP following \fIpattern\fP may be omitted.
\fBパターンの置換\fP。
\fIpattern\fP が展開され、
パス名展開の場合と同じようなパターンを作ります。
\fIparameter\fP の展開が行われ、
その値のうち \fIpattern\fP に最長一致する部分が
\fIstring\fP に置換されます。
\fIpattern\fP が \fB/\fP で始まる場合には、\fIpattern\fP に
マッチした部分は全て \fIstring\fP に置換されます。
そうでない場合には、最初にマッチした部分だけが置換されます。
\fIpattern\fP が \fB#\fP で始まる場合には、パターンは \fIparameter\fP 
を展開した値の先頭にマッチしなければなりません。
\fIpattern\fP が \fB%\fP で始まる場合には、パターンは \fIparameter\fP 
を展開した値の末尾にマッチしなければなりません。
\fIstring\fP が空の場合には \fIpattern\fP にマッチした部分は削除されます。
またこの場合には、\fIpattern\fP の後に続く \fB/\fP は省略可能です。
.\"O If
.\"O .I parameter
.\"O is
.\"O .B @
.\"O or
.\"O .BR * ,
.\"O the substitution operation is applied to each positional
.\"O parameter in turn, and the expansion is the resultant list.
.I parameter
が
.B @
または
.B *
である場合、置換操作は全ての位置パラメータに順番に適用され、
展開結果はリストとして得られます。
.\"O If
.\"O .I parameter
.\"O is an array variable subscripted with
.\"O .B @
.\"O or
.\"O .BR * ,
.\"O the substitution operation is applied to each member of the
.\"O array in turn, and the expansion is the resultant list.
.I parameter
が
.B @
または
.B *
が添字になっている配列変数である場合、
置換操作は配列の全ての要素に順番に適用され、
展開結果はリストとして得られます。
.TP
${\fIparameter\fP\fB^\fP\fIpattern\fP}
.PD 0
.TP
${\fIparameter\fP\fB^^\fP\fIpattern\fP}
.TP
${\fIparameter\fP\fB,\fP\fIpattern\fP}
.TP
${\fIparameter\fP\fB,,\fP\fIpattern\fP}
.PD
.\"O \fBCase modification\fP.
.\"O This expansion modifies the case of alphabetic characters in \fIparameter\fP.
.\"O The \fIpattern\fP is expanded to produce a pattern just as in
.\"O pathname expansion.
.\"O The \fB^\fP operator converts lowercase letters matching \fIpattern\fP
.\"O to uppercase; the \fB,\fP operator converts matching uppercase letters
.\"O to lowercase.
.\"O The \fB^^\fP and \fB,,\fP expansions convert each matched character in the
.\"O expanded value; the \fB^\fP and \fB,\fP expansions match and convert only
.\"O the first character in the expanded value.
.\"O If \fIpattern\fP is omitted, it is treated like a \fB?\fP, which matches
.\"O every character.
\fB大文字小文字の変換\fP。
\fIparameter\fP に含まれるアルファベットの大文字小文字を変換します。
\fIpattern\fP が展開され、
パス名展開の場合と同じようなパターンを作ります。
\fB^\fP 演算子は \fIpattern\fP にマッチした小文字を大文字に変換します。
\fB,\fP 演算子は \fIpattern\fP にマッチした大文字を小文字に変換します。
\fB^^\fP 演算子と \fB,,\fP 演算子は、マッチした全ての文字を変換します。
\fB^\fP 演算子と \fB,\fP 演算子の場合は、マッチした最初の文字だけ変換します。
\fIpattern\fP を省略した場合、\fB?\fP を指定したものとして扱われ、
全ての文字にマッチします。
.\"O If
.\"O .I parameter
.\"O is
.\"O .B @
.\"O or
.\"O .BR * ,
.\"O the case modification operation is applied to each positional
.\"O parameter in turn, and the expansion is the resultant list.
.I parameter
が
.B @
または
.BR *
である場合、大文字小文字の変換は全ての位置パラメータに順番に適用され、
展開結果はリストとして得られます。
.\"O If
.\"O .I parameter
.\"O is an array variable subscripted with
.\"O .B @
.\"O or
.\"O .BR * ,
.\"O the case modification operation is applied to each member of the
.\"O array in turn, and the expansion is the resultant list.
.I parameter
が添字に
.B @
または
.BR *
の付いた配列変数の場合は、配列の要素のそれぞれに大文字小文字の変換が適用され、
結果はリストに展開されます。
.\"O .SS Command Substitution
.SS コマンド置換
.PP
.\"O \fICommand substitution\fP allows the output of a command to replace
.\"O the command name.  There are two forms:
\fIコマンド置換 (command substitution)\fP を用いると、
コマンド名をコマンドの出力で置き換えられます。
コマンド置換には以下の 2 つの形式があります:
.RS
.PP
\fB$(\fP\fIcommand\fP\|\fB)\fP
.RE
.\"O or
または
.RS
\fB\`\fP\fIcommand\fP\fB\`\fP
.RE
.PP
.\"O .B Bash
.\"O performs the expansion by executing \fIcommand\fP and
.\"O replacing the command substitution with the standard output of the
.\"O command, with any trailing newlines deleted.
.\"O Embedded newlines are not deleted, but they may be removed during
.\"O word splitting.
.\"O The command substitution \fB$(cat \fIfile\fP)\fR can be replaced by
.\"O the equivalent but faster \fB$(< \fIfile\fP)\fR.
.B bash
は \fIcommand\fP を実行し、
command の標準出力でコマンド置換の部分を置き換えます。
この際、末尾の改行文字は削除されます。
文字列の途中にある改行文字は削除されませんが、
単語分割の際に削除されることがあります。
コマンド置換 \fB$(cat \fIfile\fP)\fR は、同じ意味を持ち、
しかも高速な \fB$(< \fIfile\fP)\fR に置き換え可能です。
.PP
.\"O When the old-style backquote form of substitution is used,
.\"O backslash retains its literal meaning except when followed by
.\"O .BR $ ,
.\"O .BR \` ,
.\"O or
.\"O .BR \e .
.\"O The first backquote not preceded by a backslash terminates the
.\"O command substitution.
.\"O When using the $(\^\fIcommand\fP\|) form, all characters between the
.\"O parentheses make up the command; none are treated specially.
バッククォートを使う古い形式の置換を用いたとき、
バックスラッシュは文字通りの意味を保ちますが、
.BR $ ,
.BR ` ,
.B \e
の前にある場合は例外となります。
コマンド置換は、バックスラッシュが前置されていない
バッククォートまでの部分です。
$(\^\fIcommand\fP\|) という形式を用いたときは、
括弧の間にある全ての文字がコマンドとなります。
特別扱いされる文字はありません。
.PP
.\"O Command substitutions may be nested.  To nest when using the backquoted form,
.\"O escape the inner backquotes with backslashes.
コマンド置換は入れ子にできます。
バッククォート形式のときに入れ子を行うには、
内側のバッククォートをバックスラッシュでエスケープします。
.PP
.\"O If the substitution appears within double quotes, word splitting and
.\"O pathname expansion are not performed on the results.
置換がダブルクォート内部にある場合には、
置換の結果に対する単語分割とパス名展開は行われません。
.\"O .SS Arithmetic Expansion
.SS 算術式展開
.PP
.\"O Arithmetic expansion allows the evaluation of an arithmetic expression
.\"O and the substitution of the result.  The format for arithmetic expansion is:
算術式展開を使うと、算術式を評価して、その結果に置換できます。
算術式展開のフォーマットを次に示します:
.RS
.PP
\fB$((\fP\fIexpression\fP\fB))\fP
.RE
.PP
.\"O The
.\"O .I expression
.\"O is treated as if it were within double quotes, but a double quote
.\"O inside the parentheses is not treated specially.
.\"O All tokens in the expression undergo parameter expansion, string
.\"O expansion, command substitution, and quote removal.
.\"O Arithmetic expansions may be nested.
.I expression
はダブルクォート内部にある場合と同様に扱われますが、
括弧の内側のダブルクォートが特別扱いされることはありません。
式に含まれる全てのトークンに対して、
パラメータ展開・文字列展開・コマンド置換・クォートの削除が行われます。
算術式置換は入れ子にできます。
.PP
.\"O The evaluation is performed according to the rules listed below under
.\"O .SM
.\"O .BR "ARITHMETIC EVALUATION" .
.\"O If
.\"O .I expression
.\"O is invalid,
.\"O .B bash
.\"O prints a message indicating failure and no substitution occurs.
評価は後述の
.SM
.B "算術式評価"
で示す規則に基づいて行われます。
.I expression
が不正であれば、
.B bash
は評価の失敗を示すメッセージを出力し、置換を全く行いません。
.\"O .SS Process Substitution
.SS プロセス置換
.PP
.\"O \fIProcess substitution\fP is supported on systems that support named
.\"O pipes (\fIFIFOs\fP) or the \fB/dev/fd\fP method of naming open files.
.\"O It takes the form of
.\"O \fB<(\fP\fIlist\^\fP\fB)\fP
.\"O or
.\"O \fB>(\fP\fIlist\^\fP\fB)\fP.
.\"O The process \fIlist\fP is run with its input or output connected to a
.\"O \fIFIFO\fP or some file in \fB/dev/fd\fP.  The name of this file is
.\"O passed as an argument to the current command as the result of the
.\"O expansion.  If the \fB>(\fP\fIlist\^\fP\fB)\fP form is used, writing to
.\"O the file will provide input for \fIlist\fP.  If the
.\"O \fB<(\fP\fIlist\^\fP\fB)\fP form is used, the file passed as an
.\"O argument should be read to obtain the output of \fIlist\fP.
\fIプロセス置換 (process substitution)\fP がサポートされるのは、
名前付きパイプ (\fIFIFO\fP) または
ファイル・ディスクリプターの \fB/dev/fd\fP 形式での指定
をサポートしているシステムです。これは
\fB<(\fP\fIlist\^\fP\fB)\fP
または
\fB>(\fP\fIlist\^\fP\fB)\fP
の形になります。
プロセス \fIlist\fP は、その入力や出力が
\fIFIFO\fP または \fB/dev/fd\fP 中の
何らかのファイルに接続された状態で実行されます。
このファイルの名前は、展開の結果として、
引き数の形で現在のコマンドに渡されます。
\fB>(\fP\fIlist\^\fP\fB)\fP の形式を使った場合、
ファイルへの書き込みは \fIlist\fP への入力となります。
\fB<(\fP\fIlist\^\fP\fB)\fP の形式を使った場合、
引き数として渡されたファイルは
\fIlist\fP の出力を得るために読み込まれます。
.PP
.\"O When available, process substitution is performed
.\"O simultaneously with parameter and variable expansion, 
.\"O command substitution,
.\"O and arithmetic expansion.
利用可能であれば、プロセス置換 (process substitution) は、
パラメータ展開、変数展開、コマンド置換、算術式展開と同時に行われます。
.\"O .SS Word Splitting
.SS 単語の分割
.PP
.\"O The shell scans the results of
.\"O parameter expansion,
.\"O command substitution,
.\"O and
.\"O arithmetic expansion
.\"O that did not occur within double quotes for
.\"O .IR "word splitting" .
パラメータ展開、コマンド置換、算術式展開が行われたのが、ダブル
クォートの内側ではない場合、シェルは展開の結果をスキャンして、
.I "単語分割"
を行います。
.PP
.\"O The shell treats each character of
.\"O .SM
.\"O .B IFS
.\"O as a delimiter, and splits the results of the other
.\"O expansions into words on these characters.  If
.\"O .B IFS
.\"O is unset, or its
.\"O value is exactly
.\"O .BR <space><tab><newline> ,
.\"O the default, then
.\"O sequences of
.\"O .BR <tab> ,
.\"O and
.\"O .B <newline>
.\"O at the beginning and end of the results of the previous
.\"O expansions are ignored, and
.\"O any sequence of
.\"O .B IFS
.\"O characters not at the beginning or end serves to delimit words.
シェルは
.SM
.B IFS
のそれぞれの文字を区切り文字として扱い、
ほかの展開の結果をこれらの文字によって単語に分割します。
.SM
.B IFS
が設定されていないか、その値がデフォルト値の
.BR <スペース><タブ><改行>
と全く同じならば、前段の展開の結果の先頭や末尾の
.BR <スペース> ,
.BR <タブ> ,
.B <改行>
の並びは無視され、
先頭と末尾以外の
.SM
.B IFS
文字の並びで単語が区切られます。
.\"O If
.\"O .SM
.\"O .B IFS
.\"O has a value other than the default, then sequences of
.\"O the whitespace characters
.\"O .B space
.\"O and
.\"O .B tab
.\"O are ignored at the beginning and end of the
.\"O word, as long as the whitespace character is in the
.\"O value of
.\"O .SM
.\"O .BR IFS
.\"O (an
.\"O .SM
.\"O .B IFS
.\"O whitespace character).
.SM
.B IFS
の値がデフォルト以外のときに、
.BR スペース
や
.RB タブ
という空白文字の並びが単語の先頭と末尾で無視されるのは、
その空白文字が
.SM
.BR IFS
の値に含まれるとき (
.SM
.B IFS
の空白文字の一つであるとき) だけです。
.\"O Any character in
.\"O .SM
.\"O .B IFS
.\"O that is not
.\"O .SM
.\"O .B IFS
.\"O whitespace, along with any adjacent
.\"O .SM
.\"O .B IFS
.\"O whitespace characters, delimits a field.
.SM
.B IFS
に含まれ、
.SM
.B IFS
空白文字ではない文字は全て、隣接する任意の
.SM
.B IFS
空白文字と一緒になってフィールドの区切りとなります。
.\"O A sequence of
.\"O .SM
.\"O .B IFS
.\"O whitespace characters is also treated as a delimiter.
.\"O If the value of
.\"O .SM
.\"O .B IFS
.\"O is null, no word splitting occurs.
.SM
.B IFS
空白文字の列も区切り文字として扱われます。
.SM
.B IFS
の値が空文字列であれば、単語分割は全く行われません。
.PP
.\"O Explicit null arguments (\^\f3"\^"\fP or \^\f3\(aq\^\(aq\fP\^) are retained.
.\"O Unquoted implicit null arguments, resulting from the expansion of
.\"O parameters that have no values, are removed.
.\"O If a parameter with no value is expanded within double quotes, a
.\"O null argument results and is retained.
明示的に指定した空の引き数 (\^\f3"\^"\fP または \^\f3\(aq\^\(aq\fP\^)
は削除されずに残ります。
クォートされていない暗黙的な空の引き数が、
値を持たないパラメータを展開した結果として得られますが、
これらは削除されます。
値を持たないパラメータがダブルクォート内部で展開されると、
空である引き数となり、消されずに残ります。
.PP
.\"O Note that if no expansion occurs, no splitting
.\"O is performed.
展開が行われなければ単語分割も行われない点に注意してください。
.\"O .SS Pathname Expansion
.SS パス名展開
.PP
.\"O After word splitting,
.\"O unless the
.\"O .B \-f
.\"O option has been set,
.\"O .B bash
.\"O scans each word for the characters
.\"O .BR * ,
.\"O .BR ? ,
.\"O and
.\"O .BR [ .
.B \-f
オプションが指定されていなければ、単語分割を行った後に
.B bash
はそれぞれの単語が
.BR * ,
.BR ? ,
.B [
を含んでいるかどうか調べます。
.\"O If one of these characters appears, then the word is
.\"O regarded as a
.\"O .IR pattern ,
.\"O and replaced with an alphabetically sorted list of
.\"O file names matching the pattern.
これらの文字のいずれかが見つかると、その単語は
.I パターン
とみなされ、
パターンにマッチするファイル名を
アルファベット順にソートしたリストに置換されます。
.\"O If no matching file names are found,
.\"O and the shell option
.\"O .B nullglob
.\"O is not enabled, the word is left unchanged.
マッチするファイル名が見つからず、かつシェルのオプション
.B nullglob
が無効ならば、その単語は変更されずにそのまま残ります。
.\"O If the 
.\"O .B nullglob
.\"O option is set, and no matches are found,
.\"O the word is removed.
.B nullglob
オプションが設定されていて、かつマッチするファイル名が見つからなければ、
その単語は削除されます。
.\"O If the
.\"O .B failglob
.\"O shell option is set, and no matches are found, an error message
.\"O is printed and the command is not executed.
.B failglob
オプションが設定されていて、かつマッチするファイル名が見つからなければ、
エラーメッセージが表示されコマンドは実行されません。
.\"O If the shell option
シェルのオプション
.\"O .B nocaseglob
.\"O is enabled, the match is performed without regard to the case
.\"O of alphabetic characters.
.B nocaseglob
が有効ならば、マッチングにおいてアルファベットの大文字と小文字は区別さ
れません。
.\"O When a pattern is used for pathname expansion,
.\"O the character
.\"O .B ``.''
.\"O at the start of a name or immediately following a slash
.\"O must be matched explicitly, unless the shell option
.\"O .B dotglob
.\"O is set.
パターンをパス名展開に使うとき、名前の先頭やスラッシュの直後の
.B ``.''
は明示的にマッチさせなければなりません。ただしシェルのオプション
.B dotglob
が設定されている場合は例外です。
.\"O When matching a pathname, the slash character must always be
.\"O matched explicitly.
.\"O In other cases, the
.\"O .B ``.''
.\"O character is not treated specially.
パス名のマッチングを行うとき、
スラッシュ文字は必ず明示的にマッチさせなければなりません。
これ以外の場合には、
.B ``.''
が特別扱いされることはありません。
.\"O See the description of
.\"O .B shopt
.\"O below under
.\"O .SM
.\"O .B SHELL BUILTIN COMMANDS
.\"O for a description of the
.\"O .BR failglob ,
.\"O and
.\"O .B dotglob
.\"O shell options.
シェルのオプション
.BR nocaseglob ,
.BR nullglob ,
.BR failglob ,
.B dotglob
の詳しい説明については、後述の
.SM
.B シェルの組み込みコマンド
に書かれている
.B shopt
の説明を参照してください。
.PP
.\"O The
.\"O .SM
.\"O .B GLOBIGNORE
.\"O shell variable may be used to restrict the set of file names matching a
.\"O .IR pattern .
シェル変数
.SM
.B GLOBIGNORE
を使って、
.I パターン
にマッチするファイル名の集合を制限できます。
.\"O If
.\"O .SM
.\"O .B GLOBIGNORE
.\"O is set, each matching file name that also matches one of the patterns in
.\"O .SM
.\"O .B GLOBIGNORE
.\"O is removed from the list of matches.
.SM
.B GLOBIGNORE
が設定されていれば、マッチするファイル名のうち
.SM
.B GLOBIGNORE
中のパターンにもマッチしたものは、
マッチしたもののリストから取り除かれます。
.\"O The file names
.\"O .B ``.''
.\"O and
.\"O .B ``..''
.\"O are always ignored when
.\"O .B GLOBIGNORE
.\"O is set and not null.  However, setting
.\"O .SM
.\"O .B GLOBIGNORE
.\"O to a non-null value has the effect of enabling the
.\"O .B dotglob
.\"O shell option, so all other file names beginning with a
.\"O .B ``.''
.\"O will match.
ファイル名
.B ``.''
と
.B ``..''
は
.SM
.B GLOBIGNORE
に空でない値が設定されていても必ず無視されます。しかし、
.SM
.B GLOBIGNORE
に空でない値を設定するとシェルオプションの
.B dotglob
が有効になるので、
.B ``.''
で始まるほかのファイル名は全てマッチします。
.\"O To get the old behavior of ignoring file names beginning with a
.\"O .BR ``.'' ,
.\"O make
.\"O .B ``.*''
.\"O one of the patterns in
.B ``.''
で始めるファイル名を無視する古い動作をさせるには、
.B ``.*''
を
.SM
.B GLOBIGNORE
のパターンに含めてください。
.SM
.B GLOBIGNORE
を unset すると、
.B dotglob
オプションは無効になります。
.\"O .SM
.\"O .BR GLOBIGNORE .
.\"O The
.\"O .B dotglob
.\"O option is disabled when
.\"O .B GLOBIGNORE
.\"O is unset.
.PP
.\"O \fBPattern Matching\fP
\fBパターンマッチング\fP
.PP
.\"O Any character that appears in a pattern, other than the special pattern
.\"O characters described below, matches itself.  The NUL character may not
.\"O occur in a pattern.  A backslash escapes the following character; the
.\"O escaping backslash is discarded when matching.
.\"O The special pattern characters must be quoted if
.\"O they are to be matched literally.
パターンに含まれる文字のうち、以下の特殊パターン文字以外の文字は、
自分自身にマッチします。NUL 文字がパターン中に現われてはいけません。
バックスラッシュは直後の文字をエスケープします。
このバックスラッシュは、マッチングでは無視されます
特殊パターン文字をその文字そのものにマッチさせるためには、
クォートしなければなりません。
.PP
.\"O The special pattern characters have the following meanings:
特殊パターン文字は以下の意味を持っています:
.PP
.PD 0
.RS
.TP
.B *
.\"O Matches any string, including the null string.
.\"O When the \fBglobstar\fP shell option is enabled, and \fB*\fP is used in
.\"O a pathname expansion context, two adjacent \fB*\fPs used as a single
.\"O pattern will match all files and zero or more directories and
.\"O subdirectories.
.\"O If followed by a \fB/\fP, two adjacent \fB*\fPs will match only directories
.\"O and subdirectories.
空文字列を含む、任意の文字列にマッチします。
シェルオプション \fBglobstar\fP が有効で、
\fB*\fP がパス名展開に用いられる場面では、
連続する 2 つの \fB*\fP だけのパターンが使われると、
その階層以下のディレクトリとそのサブディレクトリ、
そこにある全てのファイルにマッチします。
2 つ連続した \fB*\fP の後に \fB/\fP が続く場合には、
ディレクトリとそのサブディレクトリのみにマッチします。
.TP
.B ?
.\"O Matches any single character.
任意の 1 文字にマッチします。
.TP
.B [...]
.\"O Matches any one of the enclosed characters.  A pair of characters
.\"O separated by a hyphen denotes a
.\"O \fIrange expression\fP;
.\"O any character that sorts between those two characters, inclusive,
.\"O using the current locale's collating sequence and character set,
.\"O is matched.  If the first character following the
括られた文字のうち任意の 1 文字にマッチします。
2 つの文字の間にハイフンを入れたものは、
.I 範囲表現 (range expression)
を表します。
ソート順で両端を含む 2 つの文字の間にある任意の 1 文字と
マッチします。
ソートには現在のロケールの照合順序 (collating sequence)
と文字セットが用いられます。
.B [
.\"O is a
.\"O .B !
.\"O or a
.\"O .B ^
.\"O then any character not enclosed is matched.
の次の文字が
.B !
または
.B ^
ならば、括られた文字に含まれない任意の 1 文字にマッチします。
.\"O The sorting order of characters in range expressions is determined by
.\"O the current locale and the value of the
.\"O .SM
.\"O .B LC_COLLATE
.\"O shell variable,
.\"O if set.
範囲表現における文字のソート順は、
現在のロケール (およびシェル変数
.SM
.B LC_COLLATE
.\"O A 
が指定されていればその値)
によって決定されます。
.\"O .B \-
.\"O may be matched by including it as the first or last character
.\"O in the set.
.\"O A
.B \-
は、文字集合の最初または最後の文字として含めると
マッチングの対象にできます。
.\"O .B ]
.\"O may be matched by including it as the first character
.\"O in the set.
.B ]
は、文字集合の最初の文字として含めるとマッチングの対象にできます。
.br
.if t .sp 0.5
.if n .sp 1
.\"O Within
.\"O .B [
.\"O and
.\"O .BR ] ,
.\"O \fIcharacter classes\fP can be specified using the syntax
.\"O \fB[:\fP\fIclass\fP\fB:]\fP, where \fIclass\fP is one of the
.\"O following classes defined in the POSIX standard:
.B [
と
.B ]
の間では、\fI文字クラス (character classes)\fP を指定できます。
指定には \fB[:\fP\fIclass\fP\fB:]\fP という記法を使います。ここで
\fIclass\fP は POSIX 標準で定義されている以下のクラスのいずれかです:
.PP
.RS
.B
.if n alnum alpha ascii blank cntrl digit graph lower print punct space upper word xdigit
.if t alnum   alpha   ascii   blank   cntrl   digit   graph   lower   print   punct   space   upper   word   xdigit
.br
.\"O A character class matches any character belonging to that class.
.\"O The \fBword\fP character class matches letters, digits, and the character _.
文字クラスは、そのクラスの属する任意の文字にマッチします。
文字クラス \fBword\fP は、文字、数字、_ にマッチします。
.br
.if t .sp 0.5
.if n .sp 1
.\"O Within
.\"O .B [
.\"O and 
.\"O .BR ] ,
.\"O an \fIequivalence class\fP can be specified using the syntax
.\"O \fB[=\fP\fIc\fP\fB=]\fP, which matches all characters with the
.\"O same collation weight (as defined by the current locale) as
.\"O the character \fIc\fP.
.B [
と
.B ]
の間では、\fI等値クラス (equivalence class)\fP を指定できます。
指定には \fB[=\fP\fIc\fP\fB=]\fP という記法を使います。
これは現在のロケールにおける定義において \fIc\fP と同じ 
照合重み (collation weight) を持つ全ての文字にマッチします。
.br
.if t .sp 0.5
.if n .sp 1
.\"O Within
.\"O .B [
.\"O and 
.\"O .BR ] ,
.\"O the syntax \fB[.\fP\fIsymbol\fP\fB.]\fP matches the collating symbol
.\"O \fIsymbol\fP.
.B [
と
.B ]
の間では、\fB[.\fP\fIsymbol\fP\fB.]\fP という記述は照合シンボル
\fIsymbol\fP にマッチします。
.RE
.RE
.PD
.PP
.\"O If the \fBextglob\fP shell option is enabled using the \fBshopt\fP
.\"O builtin, several extended pattern matching operators are recognized.
.\"O In the following description, a \fIpattern-list\fP is a list of one
.\"O or more patterns separated by a \fB|\fP.
.\"O Composite patterns may be formed using one or more of the following
.\"O sub-patterns:
組み込みコマンドの \fBshopt\fP を使ってシェルのオプション
\fBextglob\fP が有効にされていると、
拡張パターンマッチング演算子がいくつか認識されるようになります。
以下の説明では、\fIpattern-list\fP は
\fB|\fP で区切られた 1 つ以上のパターンのリストであるものとします。
以下のサブパターンを 1 つあるいは複数使うことにより、
複合パターンを作れます。
.sp 1
.PD 0
.RS
.TP
\fB?(\fP\^\fIpattern-list\^\fP\fB)\fP
.\"O Matches zero or one occurrence of the given patterns
与えられたパターンが 0 回または 1 回現われるとマッチします。
.TP
\fB*(\fP\^\fIpattern-list\^\fP\fB)\fP
.\"O Matches zero or more occurrences of the given patterns
与えられたパターンが 0 回以上現われるとマッチします。
.TP
\fB+(\fP\^\fIpattern-list\^\fP\fB)\fP
.\"O Matches one or more occurrences of the given patterns
与えられたパターンが 1 回以上現われるとマッチします。
.TP
\fB@(\fP\^\fIpattern-list\^\fP\fB)\fP
.\"O Matches one of the given patterns
与えられたパターンに 1 回だけマッチします。
.TP
\fB!(\fP\^\fIpattern-list\^\fP\fB)\fP
.\"O Matches anything except one of the given patterns
与えられたパターンのどれでもないものにマッチします。
.RE
.PD
.\"O .SS Quote Removal
.SS クォートの削除
.PP
.\"O After the preceding expansions, all unquoted occurrences of the
.\"O characters
.\"O .BR \e ,
.\"O .BR \(aq ,
.\"O and \^\f3"\fP\^ that did not result from one of the above
.\"O expansions are removed.
先に処理される展開の後、クォートされていない
.BR \e ,
.BR ' ,
\^\f3"\fP\^ 
のうち、先の展開の結果でないものは全て削除されます。
.\"O motoki: (この行は Emacs の色付けが直前の " でおかしくなるので、元に戻すためのトリックです)
.\"O .SH REDIRECTION
.SH リダイレクト
.\"O Before a command is executed, its input and output
.\"O may be
.\"O .I redirected
.\"O using a special notation interpreted by the shell.
.\"O Redirection may also be used to open and close files for the
.\"O current shell execution environment.  The following redirection
.\"O operators may precede or appear anywhere within a
.\"O .I simple command
.\"O or may follow a
.\"O .IR command .
.\"O Redirections are processed in the order they appear, from
.\"O left to right.
シェルが解釈する特別な記法を用いると、コマンドの実行前に入出力を
.I リダイレクト
できます。またリダイレクトを使うと、
現在のシェル実行環境に対してファイルをオープンしたり
クローズしたりできます。以下に示すリダイレクト演算子は、
.I 単純なコマンド
の前や途中に置くことができ、また
.I コマンド
の後に置けます。
リダイレクトは左から右へと、現われた順に処理されます。
.PP
.\"O Each redirection that may be preceded by a file descriptor number
.\"O may instead be preceded by a word of the form {\fIvarname\fP}.
.\"O In this case, for each redirection operator except
.\"O >&- and <&-, the shell will allocate a file descriptor greater
.\"O than 10 and assign it to \fIvarname\fP.  If >&- or <&- is preceded
.\"O by {\fIvarname\fP}, the value of \fIvarname\fP defines the file
.\"O descriptor to close.
ファイル・ディスクリプター番号で始まるリダイレクトでは、
代わりに {\fIvarname\fP} という形式の単語で始めることもできます。
この場合、>&- と <&- 以外のリダイレクト演算子では、
シェルは 10 より大きいファイル・ディスクリプターを割り当て、
\fIvarname\fP に代入します。
{\fIvarname\fP} で始まる >&- や <&- の場合には、\fIvarname\fP の値は
クローズするファイル・ディスクリプターを示します。
.PP
.\"O In the following descriptions, if the file descriptor number is
.\"O omitted, and the first character of the redirection operator is
.\"O .BR < ,
.\"O the redirection refers to the standard input (file descriptor
.\"O 0).  If the first character of the redirection operator is
.\"O .BR > ,
.\"O the redirection refers to the standard output (file descriptor
.\"O 1).
以下の説明においては、ファイル・ディスクリプター番号が省略され、
かつリダイレクト演算子の最初の文字が
.B <
ならば、リダイレクトは標準入力 (ファイル・ディスクリプター 0) を参照します。
リダイレクト演算子の最初の文字が
.BR >
ならば、リダイレクトは標準出力 (ファイル・ディスクリプター 1) を参照します。
.PP
.\"O The word following the redirection operator in the following
.\"O descriptions, unless otherwise noted, is subjected to brace expansion,
.\"O tilde expansion, parameter expansion, command substitution, arithmetic
.\"O expansion, quote removal, pathname expansion, and word splitting.
.\"O If it expands to more than one word,
.\"O .B bash
.\"O reports an error.
以下の説明では、リダイレクト演算子の次の単語に対しては、
特に説明しない限り、
ブレース展開・チルダ展開・パラメータ展開・コマンド置換・
算術式展開・クォート削除・パス名展開・単語分割が行われます。
その単語が複数の単語に展開された場合はエラーになります。
.PP
.\"O Note that the order of redirections is significant.  For example, 
.\"O the command
リダイレクトの順番には意味がある点に注意してください。
例えば、次のコマンド
.RS
.PP
ls \fB>\fP dirlist 2\fB>&\fP1
.RE
.PP
.\"O directs both standard output and standard error to the file 
.\"O .IR dirlist ,
.\"O while the command
は標準出力と標準エラー出力を両方ともファイル
.I dirlist
に書き込みますが、次のコマンド
.RS
.PP
ls 2\fB>&\fP1 \fB>\fP dirlist
.RE
.PP
.\"O directs only the standard output to file
.\"O .IR dirlist ,
.\"O because the standard error was duplicated from the standard output
.\"O before the standard output was redirected to
.\"O .IR dirlist .
では標準出力だけがファイル
.I dirlist
に書き込まれます。なぜなら後者の場合には、標準エラー出力は
.I dirlist
にリダイレクトされる前の標準出力の複製となるからです。
.PP
.\"O \fBBash\fP handles several filenames specially when they are used in
.\"O redirections, as described in the following table:
\fBbash\fP は、
以下の表にあるようなファイル名がリダイレクトに使用されると、
それらを特別に扱います。
.RS
.PP
.PD 0
.TP
.B /dev/fd/\fIfd\fP
.\"O If \fIfd\fP is a valid integer, file descriptor \fIfd\fP is duplicated.
\fIfd\fP が有効な整数ならばファイル・ディスクリプター \fIfd\fP が複製されます。
.TP
.B /dev/stdin
.\"O File descriptor 0 is duplicated.
ファイル・ディスクリプター 0 が複製されます。
.TP
.B /dev/stdout
.\"O File descriptor 1 is duplicated.
ファイル・ディスクリプター 1 が複製されます。
.TP
.B /dev/stderr
.\"O File descriptor 2 is duplicated.
ファイル・ディスクリプター 2 が複製されます。
.TP
.B /dev/tcp/\fIhost\fP/\fIport\fP
.\"O If \fIhost\fP is a valid hostname or Internet address, and \fIport\fP
.\"O is an integer port number or service name, \fBbash\fP attempts to open
.\"O a TCP connection to the corresponding socket.
\fIhost\fP が有効なホスト名またはインターネットアドレスで
\fIport\fP が整数のポート番号ならば、
\fBbash\fP は対応するソケットに対して TCP 接続のオープンを試みます。
.TP
.B /dev/udp/\fIhost\fP/\fIport\fP
.\"O If \fIhost\fP is a valid hostname or Internet address, and \fIport\fP
.\"O is an integer port number or service name, \fBbash\fP attempts to open
.\"O a UDP connection to the corresponding socket.
\fIhost\fP が有効なホスト名またはインターネットアドレスで
\fIport\fP が整数のポート番号ならば、
\fBbash\fP は対応するソケットに対して UDP 接続のオープンを試みます。
.\"O 訳注 UDP connection というのはナンセンス?!?
.\"O motoki: これは誰が書いた訳注なのでしょう？
.\"O motoki: connection less 型なので、接続をオープンするのが変ということかなぁ。
.\"O motoki: 強いて書くなら「UDP で接続します」くらいでしょうが、
.\"O motoki: そのままで意味は通じるのでそのままでもよいかと。
.PD
.RE
.PP
.\"O A failure to open or create a file causes the redirection to fail.
ファイルのオープンや作成に失敗すると、リダイレクトも失敗します。
.PP
.\"O Redirections using file descriptors greater than 9 should be used with
.\"O care, as they may conflict with file descriptors the shell uses
.\"O internally.
9 より大きいファイル・ディスクリプターを使ったリダイレクトには注意が
必要です。シェルが内部的に使うファイル・ディスクリプターと競合する場合が
あるからです。
.\"O .SS Redirecting Input
.SS 入力のリダイレクト
.PP
.\"O Redirection of input causes the file whose name results from
.\"O the expansion of
.\"O .I word
.\"O to be opened for reading on file descriptor
.\"O .IR n ,
.\"O or the standard input (file descriptor 0) if
.\"O .I n
.\"O is not specified.
入力をリダイレクトすると、
.I word
を展開した結果の名前を持つファイルがオープンされ、
ファイル・ディスクリプター
.I n
で読み込めるようになります。
.I n
が指定されていなければ、読み込みは標準入力
(ファイル・ディスクリプター 0) で行われます。
.PP
.\"O The general format for redirecting input is:
入力のリダイレクトは、一般的には以下の形式です:
.RS
.PP
[\fIn\fP]\fB<\fP\fIword\fP
.RE
.\"O .SS Redirecting Output
.SS 出力のリダイレクト
.PP
.\"O Redirection of output causes the file whose name results from
.\"O the expansion of
.\"O .I word
.\"O to be opened for writing on file descriptor
.\"O .IR n ,
.\"O or the standard output (file descriptor 1) if
.\"O .I n
.\"O is not specified.  If the file does not exist it is created;
.\"O if it does exist it is truncated to zero size.
出力をリダイレクトすると、
.I word
の展開した結果の名前を持つファイルがオープンされ、
ファイル・ディスクリプター
.I n
で書き込めるようになります。
.I n
が指定されていなければ、書き込みは標準出力
(ファイル・ディスクリプター 1) に行われます。
ファイルが存在しなかった場合は作成されます。
ファイルが存在した場合はサイズ 0 に切り詰められます。
.PP
.\"O The general format for redirecting output is:
出力のリダイレクトは、一般的には以下の形式です:
.RS
.PP
[\fIn\fP]\fB>\fP\fIword\fP
.RE
.PP
.\"O If the redirection operator is
.\"O .BR > ,
.\"O and the
.\"O .B noclobber
.\"O option to the
.\"O .B set
.\"O builtin has been enabled, the redirection will fail if the file
.\"O whose name results from the expansion of \fIword\fP exists and is
.\"O a regular file.
リダイレクト演算子が
.BR >
であり、かつ
組み込みコマンド
.B set
で
.B noclobber
オプションが有効になっている場合、
\fIword\fP の展開で得たファイルが存在し、
かつそれが通常ファイルならば、リダイレクトは失敗します。
.\"O If the redirection operator is
.\"O .BR >| ,
.\"O or the redirection operator is
.\"O .B >
.\"O and the
.\"O .B noclobber
.\"O option to the
.\"O .B set
.\"O builtin command is not enabled, the redirection is attempted even
.\"O if the file named by \fIword\fP exists.
リダイレクト演算子が
.BR >|
の場合、もしくは
リダイレクト演算子が
.B >
で組み込みコマンド
.B set
で
.B noclobber
オプションが有効になっていない場合、
\fIword\fP という名前のファイルが存在していてもリダイレクトが試みられます。
.\"O .SS Appending Redirected Output
.SS リダイレクトによる追加出力
.PP
.\"O Redirection of output in this fashion
.\"O causes the file whose name results from
.\"O the expansion of
.\"O .I word
.\"O to be opened for appending on file descriptor
.\"O .IR n ,
.\"O or the standard output (file descriptor 1) if
.\"O .I n
.\"O is not specified.  If the file does not exist it is created.
この形式を使って出力のリダイレクトを行うと、
.I word
を展開した結果の名前を持つファイルがオープンされ、
ファイル・ディスクリプター
.I n
に対する出力がこのファイルに追加されるようになります。
.I n
を指定しなければ、標準出力 (ファイル・ディスクリプター 1) で追加されます。
ファイルが存在しなければ、新しく作られます。
.PP
.\"O The general format for appending output is:
追加出力は一般的には以下の形式です:
.RS
.PP
[\fIn\fP]\fB>>\fP\fIword\fP
.RE
.PP
.\"O .SS Redirecting Standard Output and Standard Error
.SS 標準出力と標準エラー出力のリダイレクト
.PP
.\"O This construct allows both the
.\"O standard output (file descriptor 1) and
.\"O the standard error output (file descriptor 2)
.\"O to be redirected to the file whose name is the
.\"O expansion of
.\"O .IR word .
この構造を使うと、
標準出力 (ファイル・ディスクリプター 1) と標準エラー出力
(ファイル・ディスクリプター 2) の両方を、
.I word
を展開した結果の名前を持つファイルにリダイレクトできます。
.PP
.\"O There are two formats for redirecting standard output and
.\"O standard error:
標準出力と標準エラー出力に対する形式は 2 つあります:
.RS
.PP
\fB&>\fP\fIword\fP
.RE
.\"O and
と
.RS
\fB>&\fP\fIword\fP
.RE
.PP
.\"O Of the two forms, the first is preferred.
.\"O This is semantically equivalent to
両者のうち望ましいのは前者の方です。
上記は以下と同じ意味です:
.RS
.PP
\fB>\fP\fIword\fP 2\fB>&\fP1
.RE
.PP
.\"O .SS Appending Standard Output and Standard Error
.SS 標準出力と標準エラー出力の追加出力
.PP
.\"O This construct allows both the
.\"O standard output (file descriptor 1) and
.\"O the standard error output (file descriptor 2)
.\"O to be appended to the file whose name is the
.\"O expansion of
.\"O .IR word .
この構造を使うと、
標準出力 (ファイル・ディスクリプター 1) と標準エラー出力
(ファイル・ディスクリプター 2) の両方を、
.I word
を展開した結果の名前を持つファイルに追加できます。
.PP
.\"O The format for appending standard output and standard error is:
標準出力と標準エラー出力の追加出力は以下の形式です:
.RS
.PP
\fB&>>\fP\fIword\fP
.RE
.PP
.\"O This is semantically equivalent to
これは次のものと同じ意味です:
.RS
.PP
\fB>>\fP\fIword\fP 2\fB>&\fP1
.RE
.\"O .SS Here Documents
.SS ヒアドキュメント(Here Documents)
.PP
.\"O This type of redirection instructs the shell to read input from the
.\"O current source until a line containing only
.\"O .I delimiter
.\"O (with no trailing blanks)
.\"O is seen.  All of
.\"O the lines read up to that point are then used as the standard
.\"O input for a command.
この形式のリダイレクトを用いると、
シェルは現在のソースから入力を読み込みます。
この読み込みは
.I word
を単独で含む行 (末尾にブランク文字があってはいけません)
が現われるまで続きます。
その行までに読み込んだ行は、
コマンドの標準入力として扱われます。
.PP
.\"O The format of here-documents is:
ヒアドキュメントの形式を以下に示します:
.RS
.PP
.nf
\fB<<\fP[\fB\-\fP]\fIword\fP
        \fIhere-document\fP
\fIdelimiter\fP
.fi
.RE
.PP
.\"O No parameter expansion, command substitution, arithmetic expansion,
.\"O or pathname expansion is performed on
.\"O .IR word .
.I word
に対するパラメータ展開・コマンド置換・算術式展開・
パス名展開は全く行われません。
.\"O If any characters in
.\"O .I word
.\"O are quoted, the
.\"O .I delimiter
.\"O is the result of quote removal on
.\"O .IR word ,
.\"O and the lines in the here-document are not expanded.
.\"O If \fIword\fP is unquoted,
.\"O all lines of the here-document are subjected to parameter expansion,
.\"O command substitution, and arithmetic expansion.  In the latter
.\"O case, the character sequence
.\"O .B \e<newline>
.\"O is ignored, and
.\"O .B \e
.\"O must be used to quote the characters
.\"O .BR \e ,
.\"O .BR $ ,
.\"O and
.\"O .BR \` .
.I word
が一部でもクォートされている場合は、
.I delimiter
は
.I word
のクォートをほどいた結果 (クォート文字を削除した結果) となり、
ヒアドキュメントに含まれる行では展開が行われなくなります。
\fIword\fP がクォートされていなければ、
ヒアドキュメント中の全ての行に対して
パラメータ展開・コマンド置換・算術式展開が行われます。
.I word
がクォートされていない場合には、
.B \e<newline>
という文字列は無視され、
.BR \e ,
.BR $ ,
.B `
といった文字は
.B \e
を用いてクォートしなければなりません。
.PP
.\"O If the redirection operator is
.\"O .BR <<\- ,
.\"O then all leading tab characters are stripped from input lines and the
.\"O line containing
.\"O .IR delimiter .
.\"O This allows
.\"O here-documents within shell scripts to be indented in a
.\"O natural fashion.
リダイレクト演算子が
.BR <<\-
ならば、行頭にあるタブ文字は全て入力行および
.I delimiter
を含む行から取り除かれます。
これにより、シェルスクリプト中のヒアドキュメントを
自然な形でインデントさせることができます。
.\"O .SS "Here Strings"
.SS ヒアストリング(Here Strings)
.\"O A variant of here documents, the format is:
ヒアドキュメントの変形で、以下の形式です:
.RS
.PP
.nf
\fB<<<\fP\fIword\fP
.fi
.RE
.PP
.\"O The \fIword\fP is expanded and supplied to the command on its standard
.\"O input.
\fIword\fP は展開されてコマンドの標準入力に与えられます。
.\"O .SS "Duplicating File Descriptors"
.SS ファイル・ディスクリプターの複製
.PP
.\"O The redirection operator
リダイレクト演算子
.RS
.PP
[\fIn\fP]\fB<&\fP\fIword\fP
.RE
.PP
.\"O is used to duplicate input file descriptors.
を使うと入力ファイル・ディスクリプターを複製できます。
.\"O If
.\"O .I word
.\"O expands to one or more digits, the file descriptor denoted by
.\"O .I n
.\"O is made to be a copy of that file descriptor.
.\"O If the digits in
.I word
が 1 桁以上の数値に展開された場合、
.I n
で示されるファイル・ディスクリプターが生成され、
.I word
で指定された数値のファイル・ディスクリプターのコピーとなります。
.\"O .I word
.\"O do not specify a file descriptor open for input, a redirection error occurs.
.I word
に含まれる数値が入力用にオープンされたファイル・ディスクリプターを
指していない場合、リダイレクト・エラーが起きます。
.\"O If
.\"O .I word
.\"O evaluates to
.\"O .BR \- ,
.\"O file descriptor
.\"O .I n
.\"O is closed.  If
.\"O .I n
.\"O is not specified, the standard input (file descriptor 0) is used.
.I word
を評価した結果が
.BR \-
となった場合、ファイル・ディスクリプター
.I n
はクローズされます。
.I n
が指定されていない場合、標準入力
(ファイル・ディスクリプター 0) が使われます。
.PP
.\"O The operator
同様に、演算子
.RS
.PP
[\fIn\fP]\fB>&\fP\fIword\fP
.RE
.PP
.\"O is used similarly to duplicate output file descriptors.  If
.\"O .I n
.\"O is not specified, the standard output (file descriptor 1) is used.
を使って出力ファイル・ディスクリプターを複製できます。
.I n
が指定されていない場合は、標準出力
(ファイル・ディスクリプター 1) が使われます。
.\"O If the digits in
.\"O .I word
.\"O do not specify a file descriptor open for output, a redirection error occurs.
.\"O As a special case, if \fIn\fP is omitted, and \fIword\fP does not
.\"O expand to one or more digits, the standard output and standard
.\"O error are redirected as described previously.
.I word
に含まれる数値が、出力用にオープンされた
ファイル・ディスクリプターを指していない場合、
リダイレクト・エラーが起きます。特別な場合ですが、
\fIn\fP が省略され、かつ \fIword\fP が
1 桁以上の数字には展開されなかった場合、
前に説明したように標準出力と標準エラー出力がリダイレクトされます。
.\"O .SS "Moving File Descriptors"
.SS ファイル・ディスクリプターの変更
.PP
.\"O The redirection operator
リダイレクト演算子
.RS
.PP
[\fIn\fP]\fB<&\fP\fIdigit\fP\fB\-\fP
.RE
.PP
.\"O moves the file descriptor \fIdigit\fP to file descriptor
.\"O .IR n ,
.\"O or the standard input (file descriptor 0) if \fIn\fP is not specified.
.\"O \fIdigit\fP is closed after being duplicated to \fIn\fP.
を使うと、ファイル・ディスクリプターの \fIdigit\fP を
.I n
に変更します。
\fIn\fP が指定されていない場合は、標準入力
(ファイル・ディスクリプター 0) が使われます。
\fIdigit\fP は \fIn\fP に複製された後にクローズされます。
.PP
.\"O Similarly, the redirection operator
同様に、演算子
.RS
.PP
[\fIn\fP]\fB>&\fP\fIdigit\fP\fB\-\fP
.RE
.PP
.\"O moves the file descriptor \fIdigit\fP to file descriptor
.\"O .IR n ,
.\"O or the standard output (file descriptor 1) if \fIn\fP is not specified.
を使うと、ファイル・ディスクリプターの \fIdigit\fP を
.I n
に変更します。
\fIn\fP が指定されていない場合は、標準出力
(ファイル・ディスクリプター 1) が使われます。
.\"O .SS "Opening File Descriptors for Reading and Writing"
.SS 読み書きのためのファイル・ディスクリプターのオープン
.PP
.\"O The redirection operator
リダイレクト演算子が
.RS
.PP
[\fIn\fP]\fB<>\fP\fIword\fP
.RE
.PP
.\"O causes the file whose name is the expansion of
.\"O .I word
.\"O to be opened for both reading and writing on file descriptor
.\"O .IR n ,
.\"O or on file descriptor 0 if
.\"O .I n
.\"O is not specified.  If the file does not exist, it is created.
ならば、
.I word
を展開した結果の名前を持つファイルがファイル・ディスクリプター
.I n
での読み書きのためにオープンされます。
.I n
が指定されていなければ、
ファイル・ディスクリプター 0 で読み書きが行われます。
ファイルが存在しなければ、新しく生成されます。
.\"O .SH ALIASES
.SH エイリアス
.\"O \fIAliases\fP allow a string to be substituted for a word when it is used
.\"O as the first word of a simple command.
.\"O The shell maintains a list of aliases that may be set and unset with the
.\"O .B alias
.\"O and
.\"O .B unalias
.\"O builtin commands (see
.\"O .SM
.\"O .B SHELL BUILTIN COMMANDS
.\"O below).
\fIエイリアス(alias)\fP を使うと、
ある単語が単純なコマンドの先頭の単語として使われた場合に、
この文字列を別の単語に置換できます。
シェルはエイリアスのリストを管理しています。
このリストは組み込みコマンドの
.B alias
と
.B unalias
を使って設定および削除できます (後述の
.SM
.B シェルの組み込みコマンド
を参照)。
.\"O The first word of each simple command, if unquoted,
.\"O is checked to see if it has an
.\"O alias.  If so, that word is replaced by the text of the alias.
.\"O The characters \fB/\fP, \fB$\fP, \fB\`\fP, and \fB=\fP and
.\"O any of the shell \fImetacharacters\fP or quoting characters
.\"O listed above may not appear in an alias name.
.\"O The replacement text may contain any valid shell input,
.\"O including shell metacharacters.
.\"O The first word of the replacement text is tested
.\"O for aliases, but a word that is identical to an alias being expanded
.\"O is not expanded a second time.
.\"O This means that one may alias
.\"O .B ls
.\"O to
.\"O .BR "ls \-F" ,
.\"O for instance, and
.\"O .B bash
.\"O does not try to recursively expand the replacement text.
各コマンドの最初の単語がクォートされていない場合、
エイリアスかどうかが確認され、
エイリアスならばその単語はそのエイリアスのテキストと置換されます。
\fB/\fP、\fB$\fP、\fB\`\fP、\fB=\fP、シェルの \fIメタ文字 (metacharacters)\fP
やクォート文字はエイリアス名には使えません。
エイリアス名と置換されるテキストには、
シェルの入力として有効なものは何でも含めることができます。
これには先に挙げた
.I メタ文字
も含まれます。
置換されたテキストの最初の単語に対しても
エイリアスかどうかの評価がされますが、
最初の単語が展開されるエイリアスと同じ場合には
展開は一度しか行われません。つまり
.B ls
が
.BR "ls \-F"
のエイリアスとなっているような場合には、
.B bash
は置換される文字列を再帰的に展開することはありません。
.\"O If the last character of the alias value is a
.\"O .IR blank ,
.\"O then the next command
.\"O word following the alias is also checked for alias expansion.
エイリアスの値の最後の文字が
.I ブランク文字
の場合、エイリアスに続く次のコマンドの単語に対しても
エイリアス展開が試みられます。
.PP
.\"O Aliases are created and listed with the
.\"O .B alias
.\"O command, and removed with the
.\"O .B unalias
.\"O command.
エイリアスは
.B alias
コマンドで作成とリスト表示を行い、
.B unalias
コマンドで削除します。
.PP
.\"O There is no mechanism for using arguments in the replacement text.
.\"O If arguments are needed, a shell function should be used (see
.\"O .SM
.\"O .B FUNCTIONS
.\"O below).
置換されるテキストに引き数を入れる仕組みはありません。
引き数が必要ならば、シェル関数を使わなければなりません (後述の
.SM
.B 関数
を参照)
.PP
.\"O Aliases are not expanded when the shell is not interactive, unless
.\"O the
.\"O .B expand_aliases
.\"O shell option is set using
.\"O .B shopt
.\"O (see the description of
.\"O .B shopt
.\"O under
.\"O .SM
.\"O \fBSHELL BUILTIN COMMANDS\fP
.\"O below).
シェルが対話的でないときには、
.B shopt
コマンドによって
.B expand_aliases
オプションが設定されていない場合に限り、
エイリアスの展開は行われません (後述の
.SM
\fBシェルの組み込みコマンド\fP
における
.B shopt
の説明を参照)。
.PP
.\"O The rules concerning the definition and use of aliases are
.\"O somewhat confusing.
.\"O .B Bash
.\"O always reads at least one complete line
.\"O of input before executing any
.\"O of the commands on that line.  Aliases are expanded when a
.\"O command is read, not when it is executed.  Therefore, an
.\"O alias definition appearing on the same line as another
.\"O command does not take effect until the next line of input is read.
.\"O The commands following the alias definition
.\"O on that line are not affected by the new alias.
.\"O This behavior is also an issue when functions are executed.
.\"O Aliases are expanded when a function definition is read,
.\"O not when the function is executed, because a function definition
.\"O is itself a compound command.  As a consequence, aliases
.\"O defined in a function are not available until after that
.\"O function is executed.  To be safe, always put
.\"O alias definitions on a separate line, and do not use
.\"O .B alias
.\"O in compound commands.
エイリアスの定義や利用に関係する規則には、紛らわしい点があります。
.B bash
は、ある行に書かれているコマンドを実行する前に必ず、
少なくとも 1 回は行全体を読み込みます。
エイリアスが展開されるのはコマンドを読み込んだときであり、
実行するときではありません。
したがって、別のコマンドと同じ行でエイリアス定義を行った場合には、
次の入力行が読み込まれるまではエイリアスの効果は現われません。
同じ行にあるエイリアス定義の後のコマンドは、
新しいエイリアスの影響を受けません。
この動作は関数を実行する場合にも問題になります。
エイリアスが展開されるのは関数定義が読み込まれるときであり、
関数が実行されるときではありません。
なぜなら、関数定義自身も複合コマンドだからです。
その結果として、関数内で定義されたエイリアスは、
その関数が実行されるまでは利用できません。
安全のため、エイリアス定義は独立した行で行うべきです。
複合コマンド内で
.B alias
を使ってはいけません。
.PP
.\"O For almost every purpose, aliases are superseded by
.\"O shell functions.
ほとんど全ての用途において、
シェル関数でエイリアスを代用できます。
.\"O .SH FUNCTIONS
.SH 関数
.\"O A shell function, defined as described above under
.\"O .SM
.\"O .BR "SHELL GRAMMAR" ,
.\"O stores a series of commands for later execution.
シェル関数は、後で使うために一連のコマンドを保存するものです。
シェル関数の定義は既に
.SM
.BR シェルの文法
で説明しています。
.\"O When the name of a shell function is used as a simple command name,
.\"O the list of commands associated with that function name is executed.
.\"O Functions are executed in the context of the
.\"O current shell; no new process is created to interpret
.\"O them (contrast this with the execution of a shell script).
.\"O When a function is executed, the arguments to the
.\"O function become the positional parameters
.\"O during its execution.
シェル関数名が単純なコマンド名として使われた場合、
関数名に対応するコマンド群が実行されます。
関数は現在のシェルのコンテキスト内で実行されます。
つまり、新しいプロセスを生成して関数を処理することはありません
(これはシェルスクリプトと対照的な点です)。
関数の実行時には、関数に与えた引き数が位置パラメータとなります。
.\"O The special parameter
.\"O .B #
.\"O is updated to reflect the change.  Special parameter \fB0\fP
.\"O is unchanged.
特殊パラメータ
.B #
は更新され、この変更が反映されます。
特殊パラメータ \fB0\fP は変わりません。
.\"O The first element of the
.\"O .SM
.\"O .B FUNCNAME
.\"O variable is set to the name of the function while the function
.\"O is executing.
関数の実行中は
.SM
.B FUNCNAME
変数の最初の要素に関数の名前が設定されます。
.PP
.\"O All other aspects of the shell execution
.\"O environment are identical between a function and its caller
.\"O with these exceptions:  the
.\"O .SM
.\"O .B DEBUG
.\"O and
.\"O .B RETURN
.\"O traps (see the description of the
.\"O .B trap
.\"O builtin under
.\"O .SM
.\"O .B SHELL BUILTIN COMMANDS
.\"O below) are not inherited unless the function has been given the
.\"O \fBtrace\fP attribute (see the description of the
.\"O .SM
.\"O .B declare
.\"O builtin below) or the
.\"O \fB\-o functrace\fP shell option has been enabled with
.\"O the \fBset\fP builtin
.\"O (in which case all functions inherit the \fBDEBUG\fP and \fBRETURN\fP traps),
.\"O and the
.\"O .SM
.\"O .B ERR
.\"O trap is not inherited unless the \fB\-o errtrace\fP shell option has
.\"O been enabled.
上記以外は、シェル実行環境の状態は全て、関数とその呼び出し側で同じになります。
ただし、以下の例外があります:
.SM
.B DEBUG
と
.B RETURN
のトラップ (後述の
.SM
.B シェルの組み込みコマンド
の項で、組み込みコマンド
.B trap
の説明を参照) は、
関数に \fBtrace\fP 属性 (後述の組み込みコマンド
.SM
.B declare
の説明を参照) が与えられている場合や、\fB\-o functrace\fP シェルオプションが
組み込みコマンド \fBset\fP によって有効になっている (つまり、全ての関数が
\fBDEBUG\fP と \fBRETURN\fP のトラップを継承している) 場合を除いて
継承されません。
.SM
.B ERR
トラップは、\fB\-o errtrace\fP シェルオプションが有効になっていない限り
継承されません。
.PP
.\"O Variables local to the function may be declared with the
.\"O .B local
.\"O builtin command.  Ordinarily, variables and their values
.\"O are shared between the function and its caller.
関数ローカルの変数は、組み込みコマンド
.B local
で宣言できます。
普通は、変数とその値は関数とその呼び出し側で共有されます。
.PP
.\"O The \fBFUNCNEST\fP variable, if set to a numeric value greater
.\"O than 0, defines a maximum function nesting level.  Function
.\"O invocations that exceed the limit cause the entire command to
.\"O abort.
\fBFUNCNEST\fP 変数に 0 より大きい数値をセットすると、
関数呼び出しを何重まで許すかの最大レベルを決めます。
このレベルを超えて関数を呼び出すと、コマンドが異常終了します。
.PP
.\"O If the builtin command
.\"O .B return
.\"O is executed in a function, the function completes and
.\"O execution resumes with the next command after the function
.\"O call.
組み込みコマンド
.B return
が関数中で実行された場合、関数は完了し、
関数呼び出しの次のコマンドから実行が再開されます。
.\"O Any command associated with the \fBRETURN\fP trap is executed
.\"O before execution resumes.
.\"O When a function completes, the values of the
.\"O positional parameters and the special parameter
.\"O .B #
.\"O are restored to the values they had prior to the function's
.\"O execution.
再開される前に、\fBRETURN\fP トラップに設定されたコマンドが実行されます。
関数の完了時には、位置パラメータの値と特殊パラメータ
.B #
の値は、関数の実行前の値に戻ります。
.PP
.\"O Function names and definitions may be listed with the
.\"O .B \-f
.\"O option to the
.\"O .B declare
.\"O or
.\"O .B typeset
.\"O builtin commands.  The
.\"O .B \-F
.\"O option to
.\"O .B declare
.\"O or
.\"O .B typeset
.\"O will list the function names only
.\"O (and optionally the source file and line number, if the \fBextdebug\fP
.\"O shell option is enabled).
関数の名前と定義をリスト表示するには、組み込みコマンドの
.B declare
や
.B typeset
を、オプション
.B \-f
を付けて実行します。
.B declare
や
.B typeset
をオプション
.B \-F
で実行すると、関数名だけがリスト表示されます。
また、\fBextdebug\fP シェルオプションが有効になっていると、
ソースファイルと行番号も表示されます。
.\"O Functions may be exported so that subshells
.\"O automatically have them defined with the
.\"O .B \-f
.\"O option to the 
.\"O .B export
.\"O builtin.
関数をエクスポートして、
サブシェルでその関数が自動的に定義されている状態にできます。
これを行うには、組み込みコマンドの
.B export
に
.B \-f
オプションを付けて実行します。
.\"O A function definition may be deleted using the \fB\-f\fP option to
.\"O the
.\"O .B unset
.\"O builtin.
組み込みコマンドの
.B unset
に \fB\-f\fP オプションを付けて実行することで、
関数定義を削除することもできます。
.\"O Note that shell functions and variables with the same name may result
.\"O in multiple identically-named entries in the environment passed to the
.\"O shell's children.
.\"O Care should be taken in cases where this may cause a problem.
同じ名前のシェル関数と変数がシェルの子プロセスにエクスポートされると、
同じ環境の中に全く同じ名前のエントリが複数できてしまうことに
注意してください。これが問題を起こす場合には注意が必要です。
.PP
.\"O Functions may be recursive.
.\"O The \fBFUNCNEST\fP variable may be used to limit the depth of the
.\"O function call stack and restrict the number of function invocations.
.\"O By default, no limit is imposed on the number of recursive calls.
関数は再帰させることができます。\fBFUNCNEST\fP 変数を使うと、
関数の呼び出しスタックの深さを制限し、関数の呼び出し回数を制限する
ことができます。
デフォルトでは再帰呼び出し回数に制限は課せられていません。
.\"O .SH "ARITHMETIC EVALUATION"
.SH 算術式評価
.\"O The shell allows arithmetic expressions to be evaluated, under
.\"O certain circumstances (see the \fBlet\fP and \fBdeclare\fP builtin
.\"O commands and \fBArithmetic Expansion\fP).
.\"O Evaluation is done in fixed-width integers with no check for overflow,
.\"O though division by 0 is trapped and flagged as an error.
.\"O The operators and their precedence, associativity, and values
.\"O are the same as in the C language.
.\"O The following list of operators is grouped into levels of
.\"O equal-precedence operators.
.\"O The levels are listed in order of decreasing precedence.
シェルにおいては、特定の状況下で算術式を評価させることができます
(組み込みコマンドの \fBlet\fP と \fB算術式展開\fP を参照)。
評価は固定長の整数として行われ、
オーバーフローのチェックは行われません。
ただし、0 での除算はトラップされ、エラーとしてのフラグが立てられます。
演算子とその優先度、結合規則は C 言語と同じです。
以下のリストは、
同じ優先度を持つ演算子をグループとしてまとめて列挙したものです。
優先度の高いものから順に列挙しています。
.PP
.PD 0
.TP
.B \fIid\fP++ \fIid\fP\-\-
.\"O variable post-increment and post-decrement
変数を評価し、その後 increment (加算)/ decrement (減算) する。
.TP
.B ++\fIid\fP \-\-\fIid\fP
.\"O variable pre-increment and pre-decrement
変数を increment (加算) / decrement (減算) してから評価する。
.TP
.B \- +
.\"O unary minus and plus
単項式の負と正
.TP
.B ! ~
.\"O logical and bitwise negation
論理的否定とビット単位の否定
.TP
.B **
.\"O exponentiation
指数 (累乗)
.TP
.B * / %
.\"O multiplication, division, remainder
乗算、除算、剰余
.TP
.B + \-
.\"O addition, subtraction
加算と減算
.TP
.B << >>
.\"O left and right bitwise shifts
左ビットシフトと右ビットシフト
.TP
.B <= >= < >
.\"O comparison
比較
.TP
.B == !=
.\"O equality and inequality
等値と非等値
.TP
.B &
.\"O bitwise AND
ビット単位の AND
.TP
.B ^
.\"O bitwise exclusive OR
ビット単位の排他的 OR
.TP
.B |
.\"O bitwise OR
ビット単位の OR
.TP
.B &&
.\"O logical AND
論理的 AND
.TP
.B ||
.\"O logical OR
論理的 OR
.TP
.B \fIexpr\fP?\fIexpr\fP:\fIexpr\fP
.\"O conditional operator
条件付き実行
.TP
.B = *= /= %= += \-= <<= >>= &= ^= |=
.\"O assignment
代入
.TP
.B \fIexpr1\fP , \fIexpr2\fP
.\"O comma
コンマ
.PD
.PP
.\"O Shell variables are allowed as operands; parameter expansion is
.\"O performed before the expression is evaluated.
.\"O Within an expression, shell variables may also be referenced by name
.\"O without using the parameter expansion syntax.
.\"O A shell variable that is null or unset evaluates to 0 when referenced
.\"O by name without using the parameter expansion syntax.
.\"O The value of a variable is evaluated as an arithmetic expression
.\"O when it is referenced, or when a variable which has been given the
.\"O \fIinteger\fP attribute using \fBdeclare -i\fP is assigned a value.
.\"O A null value evaluates to 0.
.\"O A shell variable need not have its \fIinteger\fP attribute
.\"O turned on to be used in an expression.
シェル変数をオペランドにすることもできます。
パラメータ展開は式の評価より前に行われます。
式の中では、シェル変数を (パラメータ展開規則を用いずに)
変数名で参照できます。
値が空のシェル変数や宣言されていないシェル変数は、
パラメータの展開の文法を使わずに名前を参照されると、
0 として評価されます。
変数の値は、変数が参照されたときや、\fBdeclare -i\fP によって
\fI整数\fP 属性が設定された変数に値が代入されるときに、
算術式として評価されます。
空の値は 0 として評価されます。
式で用いるためにシェル変数の \fI整数属性\fP を有効にする必要はありません。
.PP
.\"O Constants with a leading 0 are interpreted as octal numbers.
.\"O A leading 0x or 0X denotes hexadecimal.
.\"O Otherwise, numbers take the form [\fIbase#\fP]n, where the optional \fIbase\fP
.\"O is a decimal number between 2 and 64 representing the arithmetic
.\"O base, and \fIn\fP is a number in that base.
.\"O If \fIbase#\fP is omitted, then base 10 is used.
.\"O The digits greater than 9 are represented by the lowercase letters,
.\"O the uppercase letters, @, and _, in that order.
.\"O If \fIbase\fP is less than or equal to 36, lowercase and uppercase
.\"O letters may be used interchangeably to represent numbers between 10
.\"O and 35.
先頭が 0 である定数は 8 進数として解釈されます。
先頭が 0x または 0X ならば 16 進数として解釈されます。
それ以外の場合には、数値は
[\fIbase#\fP]n の形式で表します。ここで \fIbase\fP は 2 から 64 の間の
10 進数であり、算術的な意味での基数を表します。
\fIn\fP はその基数における数を表します。
\fIbase#\fP が省略されると 10 進数となります。
ある桁において 9 より大きい数字を表すには文字を使います。
文字を使う場合には、アルファベット小文字、大文字、@, _ をこの順番で使います。
\fIbase\fP が 36 以下の場合には、大文字と小文字は区別されず、
大文字と小文字のどちらを使っても
10 から 35 までの数字を表現できます。
.PP
.\"O Operators are evaluated in order of precedence.  Sub-expressions in
.\"O parentheses are evaluated first and may override the precedence
.\"O rules above.
演算子は優先度の順に評価されます。括弧内にある部分式は最初に評価され、
前述の優先規則よりも優先させることができます。
.\"O .SH "CONDITIONAL EXPRESSIONS"
.SH 条件式
.\"O Conditional expressions are used by the \fB[[\fP compound command and
.\"O the \fBtest\fP and \fB[\fP builtin commands to test file attributes
.\"O and perform string and arithmetic comparisons.
.\"O Expressions are formed from the following unary or binary primaries.
.\"O If any \fIfile\fP argument to one of the primaries is of the form
.\"O \fI/dev/fd/n\fP, then file descriptor \fIn\fP is checked.
.\"O If the \fIfile\fP argument to one of the primaries is one of
.\"O \fI/dev/stdin\fP, \fI/dev/stdout\fP, or \fI/dev/stderr\fP, file
.\"O descriptor 0, 1, or 2, respectively, is checked.
条件式は複合コマンド \fB[[\fP と組み込みコマンドの \fBtest\fP および
\fB[\fP によって使用でき、ファイルの属性を調べたり、
文字列比較や算術式比較を行ったりできます。
式は以下に示す単項のプライマリや二値のプライマリから構成されます。
プライマリのいずれかの
\fIfile\fP 引き数が \fI/dev/fd/n\fP という形式ならば、
ファイル・ディスクリプター \fIn\fP が調べられます。
プライマリのいずれかの \fIfile\fP 引き数が
\fI/dev/stdin\fP、\fI/dev/stdout\fP、\fI/dev/stderr\fP
のいずれかであれば、 対応するファイル・ディスクリプター
0、1、2 が調べられます。
.PP
.\"O Unless otherwise specified, primaries that operate on files follow symbolic
.\"O links and operate on the target of the link, rather than the link itself.
ほかに指定されていなければ、ファイルに対するプライマリはシンボリックリンク
を辿り、リンク自身ではなくリンク先を対象とします。
.if t .sp 0.5
.if n .sp 1
.\"O When used with \fB[[\fP, the \fB<\fP and \fB>\fP operators sort
.\"O lexicographically using the current locale.
.\"O The \fBtest\fP command sorts using ASCII ordering.
\fB[[\fP では \fB<\fP と \fB>\fP の演算子は現在のロケールでの辞書順で
比較します。\fBtest\fP コマンドは ASCII 順で比較します。
.sp 1
.PD 0
.TP
.B \-a \fIfile\fP
.\"O True if \fIfile\fP exists.
\fIfile\fP が存在すれば真となります。
.TP
.B \-b \fIfile\fP
.\"O True if \fIfile\fP exists and is a block special file.
\fIfile\fP が存在し、かつブロック特殊ファイルならば真となります。
.TP
.B \-c \fIfile\fP
.\"O True if \fIfile\fP exists and is a character special file.
\fIfile\fP が存在し、かつキャラクター特殊ファイルならば真となります。
.TP
.B \-d \fIfile\fP
.\"O True if \fIfile\fP exists and is a directory.
\fIfile\fP が存在し、かつディレクトリならば真となります。
.TP
.B \-e \fIfile\fP
.\"O True if \fIfile\fP exists.
\fIfile\fP が存在すれば真となります。
.TP
.B \-f \fIfile\fP
.\"O True if \fIfile\fP exists and is a regular file.
\fIfile\fP が存在し、かつ通常ファイルならば真となります。
.TP
.B \-g \fIfile\fP
.\"O True if \fIfile\fP exists and is set-group-id.
\fIfile\fP が存在し、かつ set-group-id されていれば真となります。
.TP
.B \-h \fIfile\fP
.\"O True if \fIfile\fP exists and is a symbolic link.
\fIfile\fP が存在し、かつシンボリックリンクならば真となります。
.TP
.B \-k \fIfile\fP
.\"O True if \fIfile\fP exists and its ``sticky'' bit is set.
\fIfile\fP が存在し、かつ ``sticky''
ビットが設定されていれば真となります。
.TP
.B \-p \fIfile\fP
.\"O True if \fIfile\fP exists and is a named pipe (FIFO).
\fIfile\fP が存在し、かつ名前付きパイプ (FIFO) ならば真となります。
.TP
.B \-r \fIfile\fP
.\"O True if \fIfile\fP exists and is readable.
\fIfile\fP が存在し、かつ読み込み可能ならば真となります。
.TP
.B \-s \fIfile\fP
.\"O True if \fIfile\fP exists and has a size greater than zero.
\fIfile\fP が存在し、かつそのサイズが 0 より大きければ真となります。
.TP
.B \-t \fIfd\fP
.\"O True if file descriptor
.\"O .I fd
.\"O is open and refers to a terminal.
ファイル・ディスクリプター
.I fd
がオープンされており、かつ端末を参照していれば真となります。
.TP
.B \-u \fIfile\fP
.\"O True if \fIfile\fP exists and its set-user-id bit is set.
\fIfile\fP が存在し、
かつ set-user-id ビットが設定されていれば真となります。
.TP
.B \-w \fIfile\fP
.\"O True if \fIfile\fP exists and is writable.
\fIfile\fP が存在し、かつ書き込み可能ならば真となります。
.TP
.B \-x \fIfile\fP
.\"O True if \fIfile\fP exists and is executable.
\fIfile\fP が存在し、かつ実行可能ならば真となります。
.TP
.B \-G \fIfile\fP
.\"O True if \fIfile\fP exists and is owned by the effective group id.
\fIfile\fP が存在し、かつ (実行中のシェルの)
実効グループ ID に所有されていれば真となります。
.TP
.B \-L \fIfile\fP
.\"O True if \fIfile\fP exists and is a symbolic link.
\fIfile\fP が存在し、かつシンボリックリンクならば真となります。
.TP
.B \-N \fIfile\fP
.\"O True if \fIfile\fP exists and has been modified since it was last read.
\fIfile\fP が存在し、
かつ前回読み込まれた以降に修正されていれば真となります。
.TP
.B \-O \fIfile\fP
.\"O True if \fIfile\fP exists and is owned by the effective user id.
\fIfile\fP が存在し、かつ (実行中のシェルの)
実効ユーザ ID に所有されていれば真となります。
.TP
.B \-S \fIfile\fP
.\"O True if \fIfile\fP exists and is a socket.
\fIfile\fP が存在し、かつソケットならば真となります。
.TP
\fIfile1\fP \fB\-ef\fP \fIfile2\fP
.\"O True if \fIfile1\fP and \fIfile2\fP refer to the same device and
.\"O inode numbers.
\fIfile1\fP と \fIfile2\fP とで
デバイス番号と i-ノード番号が同じならば真となります。
.TP
\fIfile1\fP \-\fBnt\fP \fIfile2\fP
.\"O True if \fIfile1\fP is newer (according to modification date) than \fIfile2\fP,
.\"O or if \fIfile1\fP exists and \fPfile2\fP does not.
\fIfile1\fP が (変更日時に関して) \fIfile2\fP より新しいか、
\fIfile1\fP が存在するが \fPfile2\fP が存在しなければ、真となります。
.TP
\fIfile1\fP \-\fBot\fP \fIfile2\fP
.\"O True if \fIfile1\fP is older than \fIfile2\fP, or if \fIfile2\fP exists
.\"O and \fIfile1\fP does not.
\fIfile1\fP が \fIfile2\fP より古いか、
\fIfile2\fP が存在するのに \fIfile1\fP が存在しなければ、真となります。
.TP
.B \-o \fIoptname\fP
.\"O True if the shell option
.\"O .I optname
.\"O is enabled.
.\"O See the list of options under the description of the
.\"O .B \-o
.\"O option to the
.\"O .B set
.\"O builtin below.
シェルオプション
.I optname
が有効ならば真となります。後述する組み込みコマンド
.B set
に対するオプションの説明中にある
.B \-o
オプションを参照してください。
.TP
.B \-v \fIvarname\fP
.\"O True if the shell variable
.\"O .I varname
.\"O is set (has been assigned a value).
シェル変数
.I varname
がセットされている (値が代入されている) ならば真となります。
.TP
.B \-z \fIstring\fP
.\"O True if the length of \fIstring\fP is zero.
\fIstring\fP の長さが 0 ならば真となります。
.TP
\fIstring\fP
.PD 0
.TP
.B \-n \fIstring\fP
.PD
.\"O True if the length of
.\"O .I string
.\"O is non-zero.
.I string
の長さが 0 でなければ真となります。
.TP
\fIstring1\fP \fB==\fP \fIstring2\fP
.PD 0
.TP
\fIstring1\fP \fB=\fP \fIstring2\fP
.PD
.\"O True if the strings are equal.  \fB=\fP should be used
.\"O with the \fBtest\fP command for POSIX conformance.
文字列が同じならば真となります。
POSIX に準拠する形で \fBtest\fP コマンドを使う場合には
\fB=\fP を使う必要があります。
.TP
\fIstring1\fP \fB!=\fP \fIstring2\fP
.\"O True if the strings are not equal.
2 つの文字列が異なれば真となります。
.TP
\fIstring1\fP \fB<\fP \fIstring2\fP
.\"O True if \fIstring1\fP sorts before \fIstring2\fP lexicographically.
現在のロケールにおいて、\fIstring1\fP が \fIstring2\fP よりも
辞書順で前にある場合に真となります。
.TP
\fIstring1\fP \fB>\fP \fIstring2\fP
.\"O True if \fIstring1\fP sorts after \fIstring2\fP lexicographically.
現在のロケールにおいて、\fIstring1\fP が \fIstring2\fP よりも
辞書順で後にある場合に真となります。
.TP
.I \fIarg1\fP \fBOP\fP \fIarg2\fP
.\"O .SM
.\"O .B OP
.\"O is one of
.\"O .BR \-eq ,
.\"O .BR \-ne ,
.\"O .BR \-lt ,
.\"O .BR \-le ,
.\"O .BR \-gt ,
.\"O or
.\"O .BR \-ge .
.SM
.B OP
は
.BR \-eq ,
.BR \-ne ,
.BR \-lt ,
.BR \-le ,
.BR \-gt ,
.BR \-ge .
のいずれかです。
.\"O These arithmetic binary operators return true if \fIarg1\fP
.\"O is equal to, not equal to, less than, less than or equal to,
.\"O greater than, or greater than or equal to \fIarg2\fP, respectively.
これらの算術二値演算子が真を返すのはそれぞれ、
\fIarg1\fP が \fIarg2\fP に対して等しい場合、
等しくない場合、小さい場合、小さいか等しい場合、大きい場合、
大きいか等しい場合です。
.\"O .I Arg1
.\"O and
.\"O .I arg2
.\"O may be positive or negative integers.
.I arg1
や
.I arg2
には、正または負の整数を使用できます。
.PD
.\"O .SH "SIMPLE COMMAND EXPANSION"
.SH 単純なコマンドの展開
.\"O When a simple command is executed, the shell performs the following
.\"O expansions, assignments, and redirections, from left to right.
単純なコマンドを実行すると、シェルは以下に示す展開、代入、
リダイレクションを左から右の順で実行します。
.IP 1.
.\"O The words that the parser has marked as variable assignments (those
.\"O preceding the command name) and redirections are saved for later
.\"O processing.
パーザが変数代入 (コマンド名の前にあるもの)
またはリダイレクションと判断した単語は、
保存されて後で処理されます。
.IP 2.
.\"O The words that are not variable assignments or redirections are
.\"O expanded.  If any words remain after expansion, the first word
.\"O is taken to be the name of the command and the remaining words are
.\"O the arguments.
変数代入でもリダイレクションでもない単語が展開されます。
もし展開の後に残っている単語があれば、
その最初の単語がコマンド名となり、残りが引き数となります。
.IP 3.
.\"O Redirections are performed as described above under
.\"O .SM
.\"O .BR REDIRECTION .
リダイレクションが前述の
.SM
.BR リダイレクト
で説明したように実行されます。
.IP 4.
.\"O The text after the \fB=\fP in each variable assignment undergoes tilde
.\"O expansion, parameter expansion, command substitution, arithmetic expansion,
.\"O and quote removal before being assigned to the variable.
変数代入の \fB=\fP の後にあるテキストに対して、チルダ展開、
パラメータ展開、コマンド置換、算術式展開、クォート削除が行われます。
この処理は変数を代入する前に行われます。
.PP
.\"O If no command name results, the variable assignments affect the current
.\"O shell environment.  Otherwise, the variables are added to the environment
.\"O of the executed command and do not affect the current shell environment.
.\"O If any of the assignments attempts to assign a value to a readonly variable,
.\"O an error occurs, and the command exits with a non-zero status.
コマンド名が残らなかった場合には、
変数を代入した結果が現在のシェル環境に効果を及ぼします。
それ以外の場合、変数は実行されるコマンドの環境に追加されるだけで、
現在のシェル環境には影響を与えません。
読み込み専用の変数に対して代入をしようとするとエラーが発生し、
そのコマンドは 0 でないステータスで終了します。
.PP
.\"O If no command name results, redirections are performed, but do not
.\"O affect the current shell environment.  A redirection error causes the
.\"O command to exit with a non-zero status.
コマンド名が残らなかった場合、リダイレクションは行われますが、
現在のシェル環境は影響を受けません。
リダイレクションのエラーが起きると、
コマンドは 0 でないステータスで終了します。
.PP
.\"O If there is a command name left after expansion, execution proceeds as
.\"O described below.  Otherwise, the command exits.  If one of the expansions
.\"O contained a command substitution, the exit status of the command is
.\"O the exit status of the last command substitution performed.  If there
.\"O were no command substitutions, the command exits with a status of zero.
展開の後にコマンド名が残っている場合、後述するように実行が進行します。
そうでない場合はコマンドは終了します。
展開のいずれかがコマンド置換である場合には、
コマンドの終了ステータスは
最後に実行されたコマンド置換の終了ステータスになります。
コマンド置換が行われなかった場合には、
コマンドはステータス 0 で終了します。
.\"O .SH "COMMAND EXECUTION"
.SH コマンドの実行
.\"O After a command has been split into words, if it results in a
.\"O simple command and an optional list of arguments, the following
.\"O actions are taken.
コマンドが単語に分割された後に、
単純なコマンドとそれに対する引き数リスト
(引き数リストは省略可能) となった場合、以下の動作が行われます。
.PP
.\"O If the command name contains no slashes, the shell attempts to
.\"O locate it.  If there exists a shell function by that name, that
.\"O function is invoked as described above in
.\"O .SM
.\"O .BR FUNCTIONS .
コマンド名にスラッシュが含まれない場合、
シェルはコマンドの位置を特定しようとします。
その名前のシェル関数が存在すれば、前に
.SM
.BR 関数
で説明したようにその関数が呼び出されます。
.\"O If the name does not match a function, the shell searches for
.\"O it in the list of shell builtins.  If a match is found, that
.\"O builtin is invoked.
名前が関数にマッチしない場合には、
シェルはシェルの組み込みコマンドのリストを探します。
マッチするものがあった場合、その組み込みコマンドが呼び出されます。
.PP
.\"O If the name is neither a shell function nor a builtin,
.\"O and contains no slashes,
.\"O .B bash
.\"O searches each element of the
.\"O .SM
.\"O .B PATH
.\"O for a directory containing an executable file by that name.
名前がシェル関数も組み込みコマンドでなく、
かつスラッシュを含まない場合には、
.B bash
は
.SM
.B PATH
の各要素を検索し、その名前の実行ファイルを含むディレクトリを探します。
.\"O .B Bash
.\"O uses a hash table to remember the full pathnames of executable
.\"O files (see
.\"O .B hash
.\"O under
.\"O .SM
.\"O .B "SHELL BUILTIN COMMANDS"
.\"O below).
.B bash
はハッシュ表を使って実行ファイルの完全なパス名を記憶します (後述の
.SM
.B シェルの組み込みコマンド
の
.B hash
の項を参照)。
.\"O A full search of the directories in
.\"O .SM
.\"O .B PATH
.\"O is performed only if the command is not found in the hash table.
.\"O If the search is unsuccessful, the shell searches for a defined shell
.\"O function named \fBcommand_not_found_handle\fP.
.\"O If that function exists, it is invoked with the original command and
.\"O the original command's arguments as its arguments, and the function's
.\"O exit status becomes the exit status of the shell.
.\"O If that function is not defined, the shell prints an error
.\"O message and returns an exit status of 127.
.SM
.B PATH
に含まれるディレクトリの完全な探索は、
そのコマンドがハッシュ表の中にない場合にのみ行われます。
探索に失敗すると、シェルは \fBcommand_not_found_handle\fP
という名前のシェル関数の定義を探します。
存在する場合には、元のコマンドと元のコマンドの引き数を引き数として、
この関数を呼び出します。この関数の終了ステータスがシェルの
終了ステータスとなります。
この関数が定義されていない場合には、シェルはエラーメッセージを
表示して終了ステータス 127 を返します。
.PP
.\"O If the search is successful, or if the command name contains
.\"O one or more slashes, the shell executes the named program in a
.\"O separate execution environment.
.\"O Argument 0 is set to the name given, and the remaining arguments
.\"O to the command are set to the arguments given, if any.
検索に成功したか、コマンド名に 1 つ以上のスラッシュが含まれる場合には、
シェルは指定されたプログラムを独立した実行環境で実行します。
引き数 0 には指定された名前が設定され、
コマンドに対する残りの引き数には
(もしあれば) 指定された引き数が設定されます。
.PP
.\"O If this execution fails because the file is not in executable
.\"O format, and the file is not a directory, it is assumed to be
.\"O a \fIshell script\fP, a file
.\"O containing shell commands.  A subshell is spawned to execute
.\"O it.  This subshell reinitializes itself, so
.\"O that the effect is as if a new shell had been invoked
.\"O to handle the script, with the exception that the locations of
.\"O commands remembered by the parent (see
.\"O .B hash
.\"O below under
.\"O .SM
.\"O \fBSHELL BUILTIN COMMANDS\fP)
.\"O are retained by the child.
このファイルが実行可能フォーマットでないために実行が失敗し、
かつディレクトリでもない場合には、
このファイルは \fIシェルスクリプト(shell script)\fPであるとみなされます。
シェルスクリプトとは、シェルのコマンドが書かれているファイルのことです。
シェルスクリプトを実行するためにサブシェルが呼び出されます。
このサブシェルは自分自身を再初期化し、
シェルスクリプトを処理するために
新しいシェルが起動されたかのような結果になります。ただし、
親が記憶しているコマンドの位置 (後述の
.SM
\fBシェルの組み込みコマンド\fP
における
.B hash
の項を参照) は子にも引き継がれます。
.PP
.\"O If the program is a file beginning with
.\"O .BR #! ,
.\"O the remainder of the first line specifies an interpreter
.\"O for the program.  The shell executes the
.\"O specified interpreter on operating systems that do not
.\"O handle this executable format themselves.  The arguments to the 
.\"O interpreter consist of a single optional argument following the
.\"O interpreter name on the first line of the program, followed
.\"O by the name of the program, followed by the command
.\"O arguments, if any.
プログラムが
.BR #!
で始まるファイルである場合、
最初の行の残りの部分はこのプログラムのインタプリタを指定します。
シェルは指定されたインタプリタをオペレーティングシステム上で実行します。
オペレーティングシステムは、この実行可能フォーマットを直接処理しません。
インタプリタに対する引き数は、
プログラムの先頭の行のインタプリタ名の後の省略可能な引き数 1 つと、
その後のプログラム名、さらに
(もしあれば) その後のコマンドへの引き数から構成されます。
.\"O .SH COMMAND EXECUTION ENVIRONMENT
.SH コマンド実行環境
.\"O The shell has an \fIexecution environment\fP, which consists of the
.\"O following:
シェルは以下の要素からなる\fI実行環境(execution environment)\fPを持ちます:
.IP \(bu
.\"O open files inherited by the shell at invocation, as modified by
.\"O redirections supplied to the \fBexec\fP builtin
起動時にそのシェルが継承したオープンされているファイル。
これは組み込みコマンド \fBexec\fP に与えられている
リダイレクション機能で変更されます。
.IP \(bu
.\"O the current working directory as set by \fBcd\fP, \fBpushd\fP, or
.\"O \fBpopd\fP, or inherited by the shell at invocation
現在の作業ディレクトリ (current working directory)。これは \fBcd\fP,
\fBpushd\fP, \fBpopd\fP で設定するか、
あるいは起動時にそのシェルが継承します。
.IP \(bu
.\"O the file creation mode mask as set by \fBumask\fP or inherited from
.\"O the shell's parent
ファイル作成モードのマスク。
これは \fBumask\fP で設定するか、あるいはそのシェルの親から継承します。
.IP \(bu
.\"O current traps set by \fBtrap\fP
\fBtrap\fP で設定された現在のトラップ。
.IP \(bu
.\"O shell parameters that are set by variable assignment or with \fBset\fP
.\"O or inherited from the shell's parent in the environment
シェルのパラメータ。これは変数の代入か \fBset\fP で設定されるか、
あるいはその環境内にある親シェルから継承します。
.IP \(bu
.\"O shell functions defined during execution or inherited from the shell's
.\"O parent in the environment
実行中に定義されるか、その環境内にある親シェルから継承したシェル関数。
.IP \(bu
.\"O options enabled at invocation (either by default or with command-line
.\"O arguments) or by \fBset\fP
起動時に有効にしたか
(デフォルト値あるいはコマンドライン引き数で設定した値)、
\fBset\fP で有効にしたオプション。
.IP \(bu
.\"O options enabled by \fBshopt\fP
\fBshopt\fP で有効にしたオプション。
.IP \(bu
.\"O shell aliases defined with \fBalias\fP
\fBalias\fP で定義したシェルエイリアス。
.IP \(bu
.\"O various process IDs, including those of background jobs, the value
.\"O of \fB$$\fP, and the value of
.\"O .SM
.\"O .B PPID
各種プロセスID。これにはバックグラウンドジョブや \fB$$\fP の値、
.SM
.B PPID
の値が含まれます。
.PP
.\"O When a simple command other than a builtin or shell function
.\"O is to be executed, it
.\"O is invoked in a separate execution environment that consists of
.\"O the following.  Unless otherwise noted, the values are inherited
.\"O from the shell.
組み込みコマンドやシェル関数以外の単純なコマンドを実行するとき、
このコマンドは独立した実行環境内で呼び出されます。
この環境は以下の要素から成り立っています。
特に断らない限り、この値はシェルから引き継がれます。
.if n .sp 1
.IP \(bu
.\"O the shell's open files, plus any modifications and additions specified
.\"O by redirections to the command
シェルのオープンしているファイルと、
コマンドに対するリダイレクションで指定した変更・追加を加えたもの。
.IP \(bu
.\"O the current working directory
現在の作業ディレクトリ
.IP \(bu
.\"O the file creation mode mask
ファイル作成モードのマスク
.IP \(bu
.\"O shell variables and functions marked for export, along with variables
.\"O exported for the command, passed in the environment
エクスポートするシェル変数や関数と、
そのコマンドに対してエクスポートされた変数。
これらは環境で渡されます。
.IP \(bu
.\"O traps caught by the shell are reset to the values inherited from the
.\"O shell's parent, and traps ignored by the shell are ignored
シェルに捕捉されるトラップは、
そのシェルの親から継承された値に再設定されます。
そのシェルにより無視されるトラップは無視されます。
.PP
.\"O A command invoked in this separate environment cannot affect the
.\"O shell's execution environment. 
この独立の環境内で呼び出されたコマンドが、
(親である) シェルの実行環境に影響を及ぼすことはできません。
.PP
.\"O Command substitution, commands grouped with parentheses,
.\"O and asynchronous commands are invoked in a
.\"O subshell environment that is a duplicate of the shell environment,
.\"O except that traps caught by the shell are reset to the values
.\"O that the shell inherited from its parent at invocation.  Builtin
.\"O commands that are invoked as part of a pipeline are also executed in a
.\"O subshell environment.  Changes made to the subshell environment
.\"O cannot affect the shell's execution environment.
コマンド置換や括弧でグループ化されたコマンド、非同期コマンドは、
サブシェル環境内で呼び出されます。
このサブシェル環境はシェル環境を複製したものです。
ただし、シェルにより捕捉されるトラップは、
そのシェルの起動時に親から継承した値に再設定されます。
パイプラインの一部として起動された組み込みコマンドは、
サブシェル環境で実行されます。サブシェル環境に対して行われた変更は、
元のシェル実行環境に影響を及ぼすことはできません。
.PP
.\"O Subshells spawned to execute command substitutions inherit the value of
.\"O the \fB\-e\fP option from the parent shell.  When not in \fIposix\fP mode,
.\"O \fBbash\fP clears the \fB\-e\fP option in such subshells.
コマンド置換を実行するために起動されたサブシェルは、
\fB\-e\fP オプションの値を親シェルから継承します。
\fIposix\fP モードでない場合、\fBbash\fP はそのサブシェルでは
\fB\-e\fP オプションをクリアします。
.PP
.\"O If a command is followed by a \fB&\fP and job control is not active, the
.\"O default standard input for the command is the empty file \fI/dev/null\fP.
.\"O Otherwise, the invoked command inherits the file descriptors of the calling
.\"O shell as modified by redirections.
コマンドの後に \fB&\fP が付けられたときに、ジョブ制御が有効でなければ、
コマンドのデフォルトの標準入力は空ファイル \fI/dev/null\fP となります。
そうでなければ、呼び出されたコマンドは、呼び出したシェルの
ファイル・ディスクリプターを、リダイレクトも含めて継承します。
.\"O .SH ENVIRONMENT
.SH 環境
.\"O When a program is invoked it is given an array of strings
.\"O called the
.\"O .IR environment .
.\"O This is a list of 
.\"O \fIname\fP\-\fIvalue\fP pairs, of the form
.\"O .IR "name\fR=\fPvalue" .
プログラムの起動時には、
.I 環境 (environment)
と呼ばれる文字列の配列が渡されます。
これは \fI変数名\fP\-\fI値\fP のペアからなるリストで、
.I "変数名\fR=\fP値"
という形になります。
.PP
.\"O The shell provides several ways to manipulate the environment.
.\"O On invocation, the shell scans its own environment and
.\"O creates a parameter for each name found, automatically marking
.\"O it for
.\"O .I export
.\"O to child processes.  Executed commands inherit the environment.
.\"O The
.\"O .B export
.\"O and
.\"O .B declare \-x
.\"O commands allow parameters and functions to be added to and
.\"O deleted from the environment.  If the value of a parameter
.\"O in the environment is modified, the new value becomes part
.\"O of the environment, replacing the old.  The environment
.\"O inherited by any executed command consists of the shell's
.\"O initial environment, whose values may be modified in the shell,
.\"O less any pairs removed by the
.\"O .B unset
.\"O command, plus any additions via the
.\"O .B export
.\"O and
.\"O .B declare \-x
.\"O commands.
シェルは、環境を操作する様々な方法を提供しています。
起動時には、シェルは自分自身の環境を調べ、
見つかった名前それぞれに対してパラメータを生成し、
それに自動的に子プロセスへの
.I エクスポート (export)
の印を付けます。実行されたコマンドは環境を継承します。
.B export
コマンドまたは
.B declare \-x
コマンドを用いると、
パラメータや関数の追加と削除を環境に対して行えます。
環境内のパラメータの値が変更されると、
新しい値は環境の一部となり、古い値と置き換わります。
実行されたコマンドが継承する環境は、
シェルの最初の環境から、
変数の値がシェル中で変更されたり、
一部のペアが
.B unset
コマンドで削除されたり、
.B export
コマンドや
.B declare \-x
コマンドで追加されたりしたものになります。
.PP
.\"O The environment for any
.\"O .I simple command
.\"O or function may be augmented temporarily by prefixing it with
.\"O parameter assignments, as described above in
.\"O .SM
.\"O .BR PARAMETERS .
.I 単純なコマンド
や関数に対する環境は、一時的に修正できます。
これは、既に
.SM
.BR パラメータ
の項で説明したように、パラメータ代入を前に置くことで行います。
.\"O These assignment statements affect only the environment seen
.\"O by that command.
このような代入が影響を与えるのは、
そのコマンドが参照する環境だけです。
.PP
.\"O If the 
.\"O .B \-k
.\"O option is set (see the
.\"O .B set
.\"O builtin command below), then
.\"O .I all
.\"O parameter assignments are placed in the environment for a command,
.\"O not just those that precede the command name.
.B \-k
オプションを設定 (後述の組み込みコマンド
.B set
を参照) すると、コマンド名の前に置いたものだけではなく、
.I 全ての
パラメータ代入がそのコマンドの環境に影響を与えます。
.PP
.\"O When
.\"O .B bash
.\"O invokes an external command, the variable
.\"O .B _
.\"O is set to the full file name of the command and passed to that
.\"O command in its environment.
.B bash
が外部コマンドを起動したときには、変数
.B _
にはコマンドの完全なファイル名が設定され、
環境変数としてそのコマンドに渡されます。
.\"O .SH "EXIT STATUS"
.SH 終了ステータス
.PP
.\"O The exit status of an executed command is the value returned by the
.\"O \fIwaitpid\fP system call or equivalent function.  Exit statuses
.\"O fall between 0 and 255, though, as explained below, the shell may
.\"O use values above 125 specially.  Exit statuses from shell builtins and
.\"O compound commands are also limited to this range. Under certain
.\"O circumstances, the shell will use special values to indicate specific
.\"O failure modes.
実行したコマンドの終了ステータスは、\fIwaitpid\fP
システムコールまたはそれに相当する関数が返した値です。
終了ステータスは 0 から 255 の値を取りますが、後述するように、
125 より大きい値は特別にシェルによって使われることがあります。
シェルの組み込みコマンドや複合コマンドの終了ステータスも、
同じ範囲に限定されています。
環境によっては、シェルは仕様で決められた失敗のモードを表す
特別の値を使います。
.PP
.\"O For the shell's purposes, a command which exits with a 
.\"O zero exit status has succeeded.  An exit status of zero
.\"O indicates success.  A non-zero exit status indicates failure.
.\"O When a command terminates on a fatal signal \fIN\fP, \fBbash\fP uses
.\"O the value of 128+\fIN\fP as the exit status.
シェルは、終了コード 0 で終了したコマンドは正常終了したとみなします。
終了コード 0 は成功を示します。
0 以外の終了コードは失敗を示します。
あるコマンドが致命的なシグナル \fIN\fP で終了したときには、
\fBbash\fP は「128+\fIN\fP」の値を終了ステータスに使います。
.PP
.\"O If a command is not found, the child process created to
.\"O execute it returns a status of 127.  If a command is found
.\"O but is not executable, the return status is 126.
コマンドが見つからなかった場合には、
そのコマンドを実行するために生成された子プロセスが
ステータス 127 を返します。
コマンドが見つかったけれど実行できなかった場合には、
.\"O motoki: ここだけ返却ステータスになっていました。
.\"O emasaka: 原文でも exit status と return status が混在しているので、
.\"O emasaka: 単なる「ステータス」にしておきます。
ステータスは 126 です。
.PP
.\"O If a command fails because of an error during expansion or redirection,
.\"O the exit status is greater than zero.
展開やリダイレクションの際にエラーが発生し
コマンドが失敗した場合には、
0 より大きい終了ステータスが返されます。
.PP
.\"O Shell builtin commands return a status of 0 (\fItrue\fP) if
.\"O successful, and non-zero (\fIfalse\fP) if an error occurs
.\"O while they execute. 
.\"O All builtins return an exit status of 2 to indicate incorrect usage.
シェルの組み込みコマンドは、
成功した場合にはステータス 0 (\fI真\fP) を返し、
実行中にエラーが起こった場合には 0 でない値 (\fI偽\fP) を返します。
組み込みコマンドは全て、正しくない使い方であることを示すのに
終了ステータス 2 を返します。
.PP
.\"O \fBBash\fP itself returns the exit status of the last command
.\"O executed, unless a syntax error occurs, in which case it exits
.\"O with a non-zero value.  See also the \fBexit\fP builtin
.\"O command below.
\fBbash\fP 自身が返す終了ステータスは、文法エラーが起きた場合を除き、
実行した最後のコマンドの終了ステータスです。
文法エラーの場合には 0 でない値が終了ステータスとなります。
後述の組み込みコマンド \fBexit\fP も参照してください。
.\"O .SH SIGNALS
.SH シグナル
.\"O When \fBbash\fP is interactive, in the absence of any traps, it ignores
.\"O .SM
.\"O .B SIGTERM
.\"O (so that \fBkill 0\fP does not kill an interactive shell),
.\"O and
.\"O .SM
.\"O .B SIGINT
.\"O is caught and handled (so that the \fBwait\fP builtin is interruptible).
\fBbash\fP が対話的であり、トラップが全くないとき、\fBbash\fP は
.SM
.B SIGTERM
を無視し (したがって \fBkill 0\fP では対話シェルは kill されません)、
.SM
.B SIGINT
を捕捉し処理します
(したがって組み込みコマンド \fBwait\fP は割り込み可能です)。
.\"O In all cases, \fBbash\fP ignores
.\"O .SM
.\"O .BR SIGQUIT .
どんな場合でも、\fBbash\fP は
.SM
.BR SIGQUIT
を無視します。
.\"O If job control is in effect,
.\"O .B bash
.\"O ignores
.\"O .SM
.\"O .BR SIGTTIN ,
.\"O .SM
.\"O .BR SIGTTOU ,
.\"O and
.\"O .SM
.\"O .BR SIGTSTP .
ジョブ制御が有効な状態ならば、
.B bash
は
.SM
.BR SIGTTIN ,
.SM
.BR SIGTTOU ,
.SM
.BR SIGTSTP
を無視します。
.PP
.\"O Non-builtin commands run by \fBbash\fP have signal handlers
.\"O set to the values inherited by the shell from its parent.
.\"O When job control is not in effect, asynchronous commands
.\"O ignore
.\"O .SM
.\"O .B SIGINT
.\"O and
.\"O .SM
.\"O .B SIGQUIT
.\"O in addition to these inherited handlers.
\fBbash\fP が起動した外部コマンドは、
シェルが自分の親から継承した値をシグナルハンドラに設定します。
ジョブ制御が有効でないときには、非同期コマンドは、
継承したシグナルハンドラに加えて
.SM
.B SIGINT
と
.SM
.B SIGQUIT
も無視します。
.\"O Commands run as a result of command substitution ignore the
.\"O keyboard-generated job control signals
.\"O .SM
.\"O .BR SIGTTIN ,
.\"O .SM
.\"O .BR SIGTTOU ,
.\"O and
.\"O .SM
.\"O .BR SIGTSTP .
コマンド置換の結果として実行されたコマンドは、
キーボードで生成されたジョブ制御シグナルを無視します。
無視されるシグナルは
.SM
.BR SIGTTIN ,
.SM
.BR SIGTTOU ,
.SM
.BR SIGTSTP
です。
.PP
.\"O The shell exits by default upon receipt of a
.\"O .SM
.\"O .BR SIGHUP .
デフォルトでは、シェルは
.SM
.BR SIGHUP
を受け取ると終了します。
.\"O Before exiting, an interactive shell resends the
.\"O .SM
.\"O .B SIGHUP
.\"O to all jobs, running or stopped.
.\"O Stopped jobs are sent
.\"O .B SIGCONT
.\"O to ensure that they receive the
.\"O .SM
.\"O .BR SIGHUP .
終了する前には、シェルは実行中・停止中の全てのジョブに対して
.B SIGHUP
を再送信します。停止中のジョブには
.SM
.B SIGCONT
が送られ、このジョブが
.SM
.BR SIGHUP
を受け取るようにします。
.\"O To prevent the shell from
.\"O sending the signal to a particular job, it should be removed from the
.\"O jobs table with the 
.\"O .B disown
.\"O builtin (see
.\"O .SM
.\"O .B "SHELL BUILTIN COMMANDS"
.\"O below) or marked 
.\"O to not receive
.\"O .SM
.\"O .B SIGHUP
.\"O using
.\"O .BR "disown \-h" .
特定のジョブに対してシェルからシグナルが送られないようにするためには、
組み込みコマンド
.B disown
(後述の
.SM
.B シェルの組み込みコマンド
を参照) を使って、そのジョブをジョブテーブルから削除するか、あるいは
.B "disown \-h"
を使って、
.SM
.B SIGHUP
を受け取らないようにマークを付けます。
.PP
.\"O If the
.\"O .B huponexit
.\"O shell option has been set with
.\"O .BR shopt ,
.\"O .B bash
.\"O sends a 
.\"O .SM
.\"O .B SIGHUP
.\"O to all jobs when an interactive login shell exits.
シェルオプションの
.B huponexit
が
.BR shopt
を使って設定されていた場合、対話的なログインシェルが終了するときに、
.B bash
は
.SM
.B SIGHUP
を全てのジョブに送ります。
.PP
.\"O If \fBbash\fP is waiting for a command to complete and receives a signal
.\"O for which a trap has been set, the trap will not be executed until
.\"O the command completes. 
.\"O When \fBbash\fP is waiting for an asynchronous command via the \fBwait\fP
.\"O builtin, the reception of a signal for which a trap has been set will
.\"O cause the \fBwait\fP builtin to return immediately with an exit status
.\"O greater than 128, immediately after which the trap is executed.
コマンドの完了を待っている間に、トラップが設定されたシグナルを
\fBbash\fP が受け取ったとき、
そのトラップはコマンドが完了するまで実行されません。
\fBbash\fP が組み込みコマンドの
\fBwait\fP を使って非同期コマンドを待っているときに、
トラップが設定されているシグナルを受け取ると、
組み込みコマンド \fBwait\fP は即座に復帰させられます。
この際の終了ステータスは 128 より大きい値になります。
また復帰するのはトラップが実行された直後です。
.\"O .SH "JOB CONTROL"
.SH ジョブ制御
.\"O .I Job control
.\"O refers to the ability to selectively stop (\fIsuspend\fP)
.\"O the execution of processes and continue (\fIresume\fP)
.\"O their execution at a later point.  A user typically employs
.\"O this facility via an interactive interface supplied jointly
.\"O by the operating system kernel's terminal driver and
.\"O .BR bash .
.I ジョブ制御 (job control)
とは、プロセスの実行を選択的に停止 (\fIサスペンド/suspend\fP) させ、
後で実行を再開させる (\fIリジューム/resume\fP) 機能のことです。
ユーザは通常、対話的インタフェースを通してこの機能を利用します。
対話的インタフェースは、オペレーティングシステムのカーネルの端末ドライバと
.B bash
の組み合わせで提供されます。
.PP
.\"O The shell associates a
.\"O .I job
.\"O with each pipeline.  It keeps a table of currently executing
.\"O jobs, which may be listed with the
.\"O .B jobs
.\"O command.  When
.\"O .B bash
.\"O starts a job asynchronously (in the
.\"O .IR background ),
.\"O it prints a line that looks like:
シェルはパイプラインごとに
.I ジョブ(job)
を構成します。シェルは現在実行中のジョブのテーブルを保存しています。
このテーブルは
.B jobs
コマンドを使ってリスト表示できます。
.B bash
がジョブを非同期的に
.RI ( バックグラウンド
で) 起動したときには、
.B bash
は以下のような行を出力します:
.RS
.PP
[1] 25647
.RE
.PP
.\"O indicating that this job is job number 1 and that the process ID
.\"O of the last process in the pipeline associated with this job is 25647.
.\"O All of the processes in a single pipeline are members of the same job.
.\"O .B Bash
.\"O uses the
.\"O .I job
.\"O abstraction as the basis for job control.
これは、このジョブのジョブ番号は 1 であり、
このジョブを構成するパイプライン中の最後のプロセスの ID が
25647 であることを示しています。
1 つのパイプラインに含まれる全てのプロセスは同じジョブのメンバです。
.B bash
は、ジョブ制御の基礎として
.I ジョブ
という抽象化機構を使います。
.PP
.\"O To facilitate the implementation of the user interface to job
.\"O control, the operating system maintains the notion of a \fIcurrent terminal
.\"O process group ID\fP.  Members of this process group (processes whose
.\"O process group ID is equal to the current terminal process group ID)
.\"O receive keyboard-generated signals such as
.\"O .SM
.\"O .BR SIGINT .
ジョブ制御のためのユーザインタフェースの実装を容易にするために
オペレーティングシステムは
\fI現在の端末プロセスのグループ ID (current terminal process group ID)\fP
という情報を管理しています。
このプロセスグループのメンバ
(プロセスグループ ID が現在の端末プロセスのグループ ID と等しいプロセス) は、
.SM
.BR SIGINT
のような、キーボードで生成されたシグナルを受け取ります。
.\"O These processes are said to be in the
.\"O .IR foreground .
.\"O .I Background
.\"O processes are those whose process group ID differs from the terminal's;
.\"O such processes are immune to keyboard-generated signals.
.\"O Only foreground processes are allowed to read from or, if the
.\"O user so specifies with \f(CWstty tostop\fP, write to the
.\"O terminal.
.\"O Background processes which attempt to read from (write to when
.\"O \f(CWstty tostop\fP is in effect) the
.\"O terminal are sent a 
.\"O .B SIGTTIN (SIGTTOU)
.\"O signal by the kernel's terminal driver, 
.\"O which, unless caught, suspends the process.
このようなプロセスは
.I フォアグラウンド (foreground)
にあると言われます。
.I バックグラウンド (background)
プロセスは、
プロセスのグループ ID が端末のグループ ID と異なるプロセスです。
このようなプロセスは、キーボードで生成したシグナルの影響を受けません。
フォアグラウンドプロセスだけが端末からの読み込みが許され、
\f(CWstty tostop\fP で許可されている場合には出力も許されます。
バックグラウンドプロセスが端末からの読み込み
(\f(CWstty tostop\fP が有効なときには端末への書き込みも)
を行おうとすると、
このプロセスには端末ドライバから
.SM
.B SIGTTIN (SIGTTOU)
シグナルが送られます。
このシグナルを捕捉しなければ、プロセスは停止します。
.PP
.\"O If the operating system on which
.\"O .B bash
.\"O is running supports
.\"O job control,
.\"O .B bash
.\"O contains facilities to use it.
.B bash
が動作しているオペレーティングシステムがジョブ制御をサポートしているならば、
ユーザは
.B bash
を使ってジョブ制御を行えます。
.\"O Typing the
.\"O .I suspend
.\"O character (typically
.\"O .BR ^Z ,
.\"O Control-Z) while a process is running
.\"O causes that process to be stopped and returns control to 
.\"O .BR bash .
プロセスの動作中に
.I サスペンド
文字 (通常は
.BR ^Z , 
Control-Z) を打ち込むと、そのプロセスは停止させられ、
.B bash
に制御が戻ります。
.\"O Typing the
.\"O .I "delayed suspend"
.\"O character (typically
.\"O .BR ^Y ,
.\"O Control-Y) causes the process to be stopped when it
.\"O attempts to read input from the terminal, and control to
.\"O be returned to
.\"O .BR bash .
.\"O The user may then manipulate the state of this job, using the
.\"O .B bg
.\"O command to continue it in the background, the
.\"O .B fg
.\"O command to continue it in the foreground, or
.\"O the
.\"O .B kill
.\"O command to kill it.  A \fB^Z\fP takes effect immediately,
.\"O and has the additional side effect of causing pending output
.\"O and typeahead to be discarded.
.I "遅延サスペンド (delayed suspend)"
文字 (通常は
.BR ^Y , 
Control-Y) を打ち込むと、
そのプロセスは端末から入力を読み込もうとしたときに停止させられ、
制御が
.B bash
に戻ります。
この時点でユーザはこのジョブの状態を操作できます。
利用できるのは、バックグラウンドで実行を継続するならば
.B bg
コマンド、フォアグラウンドで実行を継続するならば
.B fg
コマンド、プロセスを kill するなら
.B kill
コマンドです。\fB^Z\fP の効果は即座に現われるので、
未出力の出力や先行入力した文字が破棄されるという副作用があります。
.PP
.\"O There are a number of ways to refer to a job in the shell.
シェル上でジョブを参照する方法はいろいろあります。
.\"O The character
.\"O .B %
.\"O introduces a job specification (\fIjobspec\fP).  Job number
.\"O .I n
.\"O may be referred to as
.\"O .BR %n .
文字
.B %
はジョブ名 (\fIjobspec\fP) の始まりを示します。
ジョブ番号
.I n
は
.B %n
として参照できます。
.\"O A job may also be referred to using a prefix of the name used to
.\"O start it, or using a substring that appears in its command line.
ジョブの参照には、
ジョブを起動するときに使った名前の先頭部分や
コマンドライン中に現われる部分文字列を使うこともできます。
.\"O For example,
.\"O .B %ce
.\"O refers to a stopped
.\"O .B ce
.\"O job.  If a prefix matches more than one job,
.\"O .B bash
.\"O reports an error.  Using
.\"O .BR %?ce ,
.\"O on the other hand, refers to any job containing the string
.\"O .B ce
.\"O in its command line.  If the substring matches more than one job,
.\"O .B bash
.\"O reports an error.  The symbols
.\"O .B %%
.\"O and
.\"O .B %+
.\"O refer to the shell's notion of the
.\"O .IR "current job" ,
.\"O which is the last job stopped while it was in
.\"O the foreground or started in the background.
例えば、
.B %ce
は停止中のジョブ
.B ce
を指します。
先頭の部分がマッチするジョブが複数個ある場合には、
.B bash
はエラーを報告します。一方、
.BR %?ce
を用いると、文字列
.B ce
をコマンドライン中に含む任意のジョブを参照できます。
部分文字列がマッチするジョブが複数個ある場合には、
.B bash
はエラーを報告します。
シンボル
.B %%
および
.B %+
は、シェルが覚えている
.IR "カレントジョブ (current job)"
を指します。これは、フォアグラウンドで起動されているときに停止されたか、
バックグラウンドで起動された最後のジョブです。
.\"O The 
.\"O .I "previous job"
.\"O may be referenced using
.\"O .BR %\- .
.\"O If there is only a single job, \fB%+\fP and \fB%\-\fP can both be used
.\"O to refer to that job.
.\"O In output pertaining to jobs (e.g., the output of the
.\"O .B jobs
.\"O command), the current job is always flagged with a
.\"O .BR + ,
.\"O and the previous job with a
.\"O .BR \- .
.\"O A single % (with no accompanying job specification) also refers to the
.\"O current job.
.I "前のジョブ (previous job)"
は
.BR %\-
を使って参照できます。
ジョブが一つしかない場合には、\fB%+\fP と \fB%\-\fP のどちらも使っても
そのジョブを参照することができます。
ジョブに関する出力 (
.B jobs
コマンドの出力など) では、カレントジョブには必ず
.BR +
というフラグが付き、前のジョブには
.BR \-
というフラグが付きます。
ジョブ名が付いていない単独の % もカレントジョブを示します。
.PP
.\"O Simply naming a job can be used to bring it into the
.\"O foreground:
.\"O .B %1
.\"O is a synonym for
.\"O \fB``fg %1''\fP,
.\"O bringing job 1 from the background into the foreground.
.\"O Similarly,
.\"O .B ``%1 &''
.\"O resumes job 1 in the background, equivalent to
.\"O \fB``bg %1''\fP.
ジョブの名前だけを指定すると、
そのジョブをフォアグラウンドに持ってきます。つまり、
.B %1
は
\fB``fg %1''\fP
と同義であり、
ジョブ 1 をバックグラウンドからフォアグラウンドに持ってきます。
同様に
.B ``%1 &''
はジョブ 1 をバックグラウンドで実行再開させます。これは
\fB``bg %1''\fP
と同じ意味です。
.PP
.\"O The shell learns immediately whenever a job changes state.
ジョブの状態が変わると、シェルはそれを即座に知ります。
.\"O Normally,
.\"O .B bash
.\"O waits until it is about to print a prompt before reporting
.\"O changes in a job's status so as to not interrupt
.\"O any other output.  If the 
.\"O .B \-b
.\"O option to the
.\"O .B set
.\"O builtin command
.\"O is enabled,
.\"O .B bash
.\"O reports such changes immediately.
通常、
.B bash
がジョブの状態変化を報告するのは、プロンプトを出力する直前です。
これは他の出力を妨害しないためです。
組み込みコマンド
.B set
で
.B \-b
オプションが指定されていると、
.B bash
はジョブの状態の変化を即座に報告します。
.\"O Any trap on
.\"O .B SIGCHLD
.\"O is executed for each child that exits.
子プロセスが終了するたびに
.SM
.B SIGCHLD
のトラップが実行されます。
.PP
.\"O If an attempt to exit
.\"O .B bash
.\"O is made while jobs are stopped (or, if the \fBcheckjobs\fP shell option has
.\"O been enabled using the \fBshopt\fP builtin, running), the shell prints a
.\"O warning message, and, if the \fBcheckjobs\fP option is enabled, lists the
.\"O jobs and their statuses.
.\"O The
.\"O .B jobs
.\"O command may then be used to inspect their status. 
ジョブを停止させたままで (\fBcheckjobs\fP シェルオプションが
組み込みコマンド \fBshopt\fP により有効になっているときには実行中でも)
.B bash
を終了 (exit) させようとすると、シェルは警告メッセージを出力します。
\fBcheckjobs\fP オプションが有効のときには、ジョブとその状態を一覧表示します。
このようなときには、
.B jobs
コマンドを使ってジョブの状態を調べられます。
.\"O If a second attempt to exit is made without an intervening command,
.\"O the shell does not print another warning, and any stopped
.\"O jobs are terminated.
間にコマンドを挟まずに
.B bash
を再び終了させようとすると、
シェルは警告を繰り返さないで、
停止中のジョブを終了させます。
.\"O .SH PROMPTING
.SH プロンプト
.\"O When executing interactively, 
.\"O .B bash
.\"O displays the primary prompt
.\"O .SM
.\"O .B PS1
.\"O when it is ready to read a command, and the secondary prompt
.\"O .SM
.\"O .B PS2
.\"O when it needs more input to complete a command.
対話的に動作している場合、
.B bash
はコマンドを読む込み準備ができたときにプライマリプロンプト
.SM
.B PS1
を表示し、コマンドを完成させるためにまだ入力が必要なときに
セカンダリプロンプト
.SM
.B PS2
を表示します。
.\"O .B Bash
.\"O allows these prompt strings to be customized by inserting a number of
.\"O backslash-escaped special characters that are decoded as follows:
.B bash
ではこれらのプロンプト文字列をカスタマイズできます。
この際にはバックスラッシュでエスケープされた
各種特殊文字を挿入でき、
これは以下のようにデコードされます:
.RS
.PD 0
.TP
.B \ea
.\"O an ASCII bell character (07)
ASCII のベル文字 (07)
.TP
.B \ed
.\"O the date in "Weekday Month Date" format (e.g., "Tue May 26")
"曜日 月 日" という形式の日付 (例: "Tue May 26")
.TP
.B \eD{\fIformat\fP}
.\"O the \fIformat\fP is passed to \fIstrftime\fP(3) and the result is inserted
.\"O into the prompt string; an empty \fIformat\fP results in a locale-specific
.\"O time representation.  The braces are required
\fIformat\fP が \fIstrftime\fP(3) に渡され、
その結果がプロンプト文字列に挿入されます。
\fIformat\fP が空の場合には (ブレースは必要)、
ロケールで指定された時刻表記になります。
.TP
.B \ee
.\"O an ASCII escape character (033)
ASCII のエスケープ文字 (033)
.TP
.B \eh
.\"O the hostname up to the first `.'
ホスト名のうち最初の `.' までの部分
.TP
.B \eH
.\"O the hostname
ホスト名
.TP
.B \ej
.\"O the number of jobs currently managed by the shell
シェルによって現在管理されているジョブの数
.TP
.B \el
.\"O the basename of the shell's terminal device name
シェルの端末デバイスのベース名 (basename)
.TP
.B \en
.\"O newline
改行
.TP
.B \er
.\"O carriage return
復帰
.TP
.B \es
.\"O the name of the shell, the basename of
.\"O .B $0
.\"O (the portion following the final slash)
シェルの名前。つまり
.B $0
のベース名 (最後のスラッシュ以降の部分)
.TP
.B \et
.\"O the current time in 24-hour HH:MM:SS format
24 時間制の HH:MM:SS 形式の現在の時刻
.TP
.B \eT
.\"O the current time in 12-hour HH:MM:SS format
12 時間制の HH:MM:SS 形式の現在の時刻
.TP
.B \e@
.\"O the current time in 12-hour am/pm format
12 時間制の am/pm 形式の現在の時刻
.TP
.B \eA
.\"O the current time in 24-hour HH:MM format
12 時間制の HH:MM 形式の現在の時刻
.TP
.B \eu
.\"O the username of the current user
現在のユーザのユーザ名
.TP
.B \ev
.\"O the version of \fBbash\fP (e.g., 2.00)
\fBbash\fP のバージョン (例: 2.00)
.TP
.B \eV
.\"O the release of \fBbash\fP, version + patch level (e.g., 2.00.0)
\fBbash\fP のリリース。バージョンにパッチレベルを加えたもの (例 : 2.00.0)
.TP
.B \ew
.\"O the current working directory, with
.\"O .B $HOME
.\"O abbreviated with a tilde
.\"O (uses the value of the
.\"O .SM
.\"O .B PROMPT_DIRTRIM
.\"O variable)
現在の作業ディレクトリ。
.SM
.B $HOME
の部分はチルダに短縮されます。
.SM
.B PROMPT_DIRTRIM
の値が適用されます。
.TP
.B \eW
.\"O the basename of the current working directory, with
.\"O .SM
.\"O .B $HOME
.\"O abbreviated with a tilde
現在の作業ディレクトリのベース名
.SM
.B $HOME
の部分はチルダに短縮されます。
.TP
.B \e!
.\"O the history number of this command
このコマンドの履歴番号
.TP
.B \e#
.\"O the command number of this command
このコマンドのコマンド番号
.TP
.B \e$
.\"O if the effective UID is 0, a
.\"O .BR # ,
.\"O otherwise a
.\"O .B $
実効 UID が 0 の場合に
.BR # 、
それ以外の場合は
.B $
.TP
.B \e\fInnn\fP
.\"O the character corresponding to the octal number \fInnn\fP
8進数 \fInnn\fP に対応する文字
.TP
.B \e\e
.\"O a backslash
バックスラッシュ
.TP
.B \e[
.\"O begin a sequence of non-printing characters, which could be used to
.\"O embed a terminal control sequence into the prompt
非表示文字のシーケンスの開始。
これを使うと、プロンプト中に端末の制御シーケンスを埋め込むことができます。
.TP
.B \e]
.\"O end a sequence of non-printing characters
非表示文字のシーケンスを終了します。
.PD
.RE
.PP
.\"O The command number and the history number are usually different:
.\"O the history number of a command is its position in the history
.\"O list, which may include commands restored from the history file
.\"O (see
.\"O .SM
.\"O .B HISTORY
.\"O below), while the command number is the position in the sequence
.\"O of commands executed during the current shell session.
.\"O After the string is decoded, it is expanded via
.\"O parameter expansion, command substitution, arithmetic
.\"O expansion, and quote removal, subject to the value of the
.\"O .B promptvars
.\"O shell option (see the description of the
.\"O .B shopt
.\"O command under
.\"O .SM
.\"O .B "SHELL BUILTIN COMMANDS"
.\"O below).
コマンド番号と履歴番号は異なるのが普通です:
コマンドの履歴番号とは履歴リスト内での位置です。
履歴リストは履歴ファイルから読み込めます
(後述の
.SM
.B 履歴
を参照)。
一方、コマンド番号は、
現在のシェルのセッション中に実行された一連のコマンドの列における位置です。
この文字列がデコードされた後、さらにパラメータ展開、コマンド置換、
算術式展開、クォート削除が適用されます。展開はシェルオプション
.B promptvars
(後述の
.SM
.B シェルの組み込みコマンド
の項にある
.B shopt
コマンドの説明を参照) の値に基づいて行われます。
.\"O .SH READLINE
.SH "READLINE ライブラリ"
.\"O This is the library that handles reading input when using an interactive
.\"O shell, unless the
.\"O .B \-\-noediting
.\"O option is given at shell invocation.
.\"O Line editing is also used when using the \fB\-e\fP option to the
.\"O \fBread\fP builtin.
.\"O By default, the line editing commands are similar to those of Emacs.
.\"O A vi-style line editing interface is also available.
.\"O Line editing can be enabled at any time using the
.\"O .B \-o emacs
.\"O or
.\"O .B \-o vi
.\"O options to the
.\"O .B set
.\"O builtin (see
.\"O .SM
.\"O .B SHELL BUILTIN COMMANDS
.\"O below).
readline は対話シェルを使うときに入力の読み込みを処理するライブラリです。
ただし、シェルの起動時に
.B \-\-noediting
オプションが指定された場合には使われません。
行編集は組み込みコマンド \fBread\fP に \fB\-e\fP オプションを
指定したときにも使われます。
デフォルトでは、行編集に使うコマンドは emacs のコマンドに似ています。
vi 形式の行編集インタフェースも使えます。
行編集は、組み込みコマンド
.B set
(後述の
.SM
.B シェルの組み込みコマンド
を参照) に
.B \-o emacs
や
.B \-o vi
オプションを指定することで、いつでも有効にできます。
.\"O To turn off line editing after the shell is running, use the
.\"O .B +o emacs
.\"O or
.\"O .B +o vi
.\"O options to the
.\"O .B set
.\"O builtin.
シェルを起動した後に行編集機能を無効にするには、組み込みコマンド
.B set
に対して
.B +o emacs
オプションまたは
.B +o vi
オプションを設定してください。
.\"O .SS "Readline Notation"
.SS "Readline の記法"
.PP
.\"O In this section, the Emacs-style notation is used to denote
.\"O keystrokes.  Control keys are denoted by C\-\fIkey\fR, e.g., C\-n
.\"O means Control\-N.  Similarly, 
.\"O .I meta
.\"O keys are denoted by M\-\fIkey\fR, so M\-x means Meta\-X.  (On keyboards
.\"O without a 
.\"O .I meta
.\"O key, M\-\fIx\fP means ESC \fIx\fP, i.e., press the Escape key
.\"O then the
.\"O .I x
.\"O key.  This makes ESC the \fImeta prefix\fP.
.\"O The combination M\-C\-\fIx\fP means ESC\-Control\-\fIx\fP,
.\"O or press the Escape key
.\"O then hold the Control key while pressing the
.\"O .I x
.\"O key.)
このセクションでは、emacs 形式の記法を使ってキーストロークを表します。
コントロールキーは C\-\fIkey\fR で表します
(例: C\-n は Control\-N の意味です)。同様に
.I メタ
キーは M\-\fIkey\fR で表すので、M\-x は Meta\-X を表すことになります。
.RI ( メタ
キーがないキーボードでは、M\-\fIx\fP は ESC \fIx\fP を表します。つまり、
エスケープキーを押した後に
.I x
キーを押します。これは ESC を
\fIメタプレフィックス (meta prefix)\fP にする操作です。
M\-C\-\fIx\fP の組み合わせは、ESC\-Control\-\fIx\fP
つまり、エスケープキーを押した後に、コントロールキーを押したまま
.I x
を押すことを意味します。)
.PP
.\"O Readline commands may be given numeric
.\"O .IR arguments ,
.\"O which normally act as a repeat count.
.\"O Sometimes, however, it is the sign of the argument that is significant.
.\"O Passing a negative argument to a command that acts in the forward
.\"O direction (e.g., \fBkill\-line\fP) causes that command to act in a
.\"O backward direction. 
.\"O Commands whose behavior with arguments deviates from this are noted
.\"O below.
Readline のコマンドには数値の
.I 引き数
を指定できます。通常これは繰り返しの回数として作用します。
ただし、場合によっては、引き数の符号が意味を持つこともあります。
順方向に作用するコマンド (例: \fBkill\-line\fP) に負の引き数を渡すと、
コマンドは逆方向に作用します。
引き数を指定した場合の動作がこの説明と異なるコマンドについては後で説明します。
.PP
.\"O When a command is described as \fIkilling\fP text, the text
.\"O deleted is saved for possible future retrieval
.\"O (\fIyanking\fP).  The killed text is saved in a
.\"O \fIkill ring\fP.  Consecutive kills cause the text to be
.\"O accumulated into one unit, which can be yanked all at once. 
.\"O Commands which do not kill text separate the chunks of text
.\"O on the kill ring.
コマンドがテキストを\fIキル (kill)\fP すると説明されているときは、
削除されたテキストは、
後で取り出せる (\fIヤンク (yank)\fP できる) ように保存されます。
キルされたテキストは、\fIキルリング (kill ring)\fP に保存されます。
連続してキルを行うと、テキストは 1 つのまとまりとして保存されるので、
全部を一度にヤンクできます。テキストをキルしないコマンドが挟まると、
キルリング上のテキストが分離されます。
.\"O .SS "Readline Initialization"
.SS "Readline の初期化"
.PP
.\"O Readline is customized by putting commands in an initialization
.\"O file (the \fIinputrc\fP file).
.\"O The name of this file is taken from the value of the
.\"O .SM
.\"O .B INPUTRC
.\"O variable.  If that variable is unset, the default is
.\"O .IR ~/.inputrc .
readline をカスタマイズするには、
コマンドを初期化ファイル (\fIinputrc\fP ファイル) に追加します。
このファイルの名前は、変数
.SM
.B INPUTRC
の値から決まります。
この変数が設定されていない場合のデフォルト値は
.I ~/.inputrc
です。
.\"O When a program which uses the readline library starts up, the
.\"O initialization file is read, and the key bindings and variables
.\"O are set.
.\"O There are only a few basic constructs allowed in the
.\"O readline initialization file.
.\"O Blank lines are ignored.
.\"O Lines beginning with a \fB#\fP are comments.
.\"O Lines beginning with a \fB$\fP indicate conditional constructs.
.\"O Other lines denote key bindings and variable settings.
readline ライブラリを使うプログラムが起動する際には、
この初期化ファイルが読み込まれ、キー割り当てと変数が設定されます。
readline の初期化ファイル中で使用できる基本的構文は、
以下のように少ししかありません。
空行は無視されます。
\fB#\fP で始まる行はコメントです。
\fB$\fP で始まる行は条件文です。
それ以外の行はキー割り当てと変数の設定です。
.PP
.\"O The default key-bindings may be changed with an
.\"O .I inputrc 
.\"O file.
.\"O Other programs that use this library may add their own commands
.\"O and bindings.
デフォルトのキー割り当ては
.I inputrc 
ファイルで変更できます。
このライブラリを使う他のプログラムからも、
独自のコマンドとキー割り当てを追加できます。
.PP
.\"O For example, placing
.\"O .RS
.\"O .PP
.\"O M\-Control\-u: universal\-argument
.\"O .RE
.\"O or
.\"O .RS
.\"O C\-Meta\-u: universal\-argument
.\"O .RE
.\"O into the
.\"O .I inputrc
.\"O would make M\-C\-u execute the readline command
.\"O .IR universal\-argument .
例えば、
.RS
.PP
M\-Control\-u: universal\-argument
.RE
や
.RS
C\-Meta\-u: universal\-argument
.RE
を
.I inputrc
ファイルに書くと、M\-C\-u で readline の
.I universal\-argument
コマンドが実行されるようになります。
.PP
.\"O The following symbolic character names are recognized:
以下に示すシンボル名を使うことができます:
.IR RUBOUT ,
.IR DEL ,
.IR ESC ,
.IR LFD ,
.IR NEWLINE ,
.IR RET ,
.IR RETURN ,
.IR SPC ,
.IR SPACE ,
.\"O and
.\"O .IR TAB .
.IR TAB 。
.PP
.\"O In addition to command names, readline allows keys to be bound
.\"O to a string that is inserted when the key is pressed (a \fImacro\fP).
readline では、キーにはコマンド名だけでなく文字列を割り当てることもでき、
その場合には、そのキーが押されると割り当てられた文字列が挿入されます
(\fIマクロ\fP)。
.\"O .SS "Readline Key Bindings"
.SS "Readline のキー割り当て"
.PP
.\"O The syntax for controlling key bindings in the
.\"O .I inputrc
.\"O file is simple.  All that is required is the name of the
.\"O command or the text of a macro and a key sequence to which
.\"O it should be bound. The name may be specified in one of two ways:
.\"O as a symbolic key name, possibly with \fIMeta\-\fP or \fIControl\-\fP
.\"O prefixes, or as a key sequence.
.I inputrc
ファイルにおける制御キーの割り当て方は単純です。
必要なものは、コマンド名あるいはマクロの文字列と、
これらが割り当てられるキーシーケンスだけです。
名前は 2 通りの方法で指定できます。
つまり、シンボリックなキーの名前
(たいていは、\fIMeta\-\fP や \fIControl\-\fP
プレフィックスと組み合わせて使われる) による指定と、
キーシーケンスによる指定です。
.PP
.\"O When using the form \fBkeyname\fP:\^\fIfunction\-name\fP or \fImacro\fP,
.\"O .I keyname
.\"O is the name of a key spelled out in English.  For example:
「\fBkeyname\fP:\^\fIfunction\-name\fP」あるいは
「\fBkeyname\fP:\^\fImacro\fP」の形式を使うときには、
.I keyname
は英語で書き下したキーの名前となります。例を以下に示します:
.sp
.RS
Control-u: universal\-argument
.br
Meta-Rubout: backward-kill-word
.br
Control-o: "> output"
.RE
.LP
.\"O In the above example,
.\"O .I C\-u
.\"O is bound to the function
.\"O .BR universal\-argument ,
.\"O .I M\-DEL
.\"O is bound to the function
.\"O .BR backward\-kill\-word ,
.\"O and
.\"O .I C\-o
.\"O is bound to run the macro
.\"O expressed on the right hand side (that is, to insert the text
.\"O .if t \f(CW> output\fP
.\"O .if n ``> output''
.\"O into the line).
この例では、
.I C\-u
が
.B universal\-argument
に、
.I M\-DEL
が
.B backward\-kill\-word
に割り当てられます。
また、
.I C\-o
はマクロの実行に割り当てられ、右辺値に展開されます (つまり、テキスト
.if t \f(CW> output\fP
.if n ``> output''
が編集行に挿入されます)。
.PP
.\"O In the second form, \fB"keyseq"\fP:\^\fIfunction\-name\fP or \fImacro\fP,
.\"O .B keyseq
.\"O differs from
.\"O .B keyname
.\"O above in that strings denoting
.\"O an entire key sequence may be specified by placing the sequence
.\"O within double quotes.  Some GNU Emacs style key escapes can be
.\"O used, as in the following example, but the symbolic character names
.\"O are not recognized.
後者の形式である「\fB"keyseq"\fP:\^\fIfunction\-name\fP」または
「\fB"keyseq"\fP:\^\fImacro\fP」においては、
.B keyseq
は先程の
.B keyname
とは異なり、
ダブルクォートで括ってキーシーケンス全体を示す文字列を表記しています。
以下の例で示すように、GNU Emacs 形式のキーエスケープの一部を使えます。
ただしシンボリックな文字名は認識されません。
.sp
.RS
"\eC\-u": universal\-argument
.br
"\eC\-x\eC\-r": re\-read\-init\-file
.br
"\ee[11~": "Function Key 1"
.RE
.PP
.\"O In this example,
.\"O .I C\-u
.\"O is again bound to the function
.\"O .BR universal\-argument .
.\"O .I "C\-x C\-r"
.\"O is bound to the function
.\"O .BR re\-read\-init\-file ,
.\"O and 
.\"O .I "ESC [ 1 1 ~"
.\"O is bound to insert the text
.\"O .if t \f(CWFunction Key 1\fP.
.\"O .if n ``Function Key 1''.
この例でも、
.I C\-u
が
.B universal\-argument
機能に割り当てられています。
.I "C\-x C\-r"
は
.B re\-read\-init\-file
機能に割り当てられ、
.I "ESC [ 1 1 ~"
は
.if t \f(CWFunction Key 1\fP
.if n ``Function Key 1''
という文字列の挿入に割り当てられています。
.PP
.\"O The full set of GNU Emacs style escape sequences is
GNU Emacs 形式のエスケープシーケンスを以下に全て示します:
.RS
.PD 0
.TP
.B \eC\-
.\"O control prefix
コントロールプレフィックス
.TP
.B \eM\-
.\"O meta prefix
メタプレフィックス
.TP
.B \ee
.\"O an escape character
エスケープ文字
.TP
.B \e\e
.\"O backslash
バックスラッシュ
.TP
.B \e"
.\"O literal "
" という文字
.TP
.B \e\(aq
.\"O literal \(aq
\(aq という文字
.RE
.PD
.PP
.\"O In addition to the GNU Emacs style escape sequences, a second
.\"O set of backslash escapes is available:
GNU Emacs 形式のエスケープシーケンスに加えて、
別形式のバックスラッシュエスケープも使えます:
.RS
.PD 0
.TP
.B \ea
.\"O alert (bell)
警告 (ベル)
.TP
.B \eb
.\"O backspace
バックスペース
.TP
.B \ed
.\"O delete
削除 (delete)
.TP
.B \ef
.\"O form feed
フォームフィード
.TP
.B \en
.\"O newline
改行 (newline)
.TP
.B \er
.\"O carriage return
復帰 (carriage return)
.TP
.B \et
.\"O horizontal tab
水平タブ
.TP
.B \ev
.\"O vertical tab
垂直タブ
.TP
.B \e\fInnn\fP
.\"O the eight-bit character whose value is the octal value \fInnn\fP
.\"O (one to three digits)
ASCII コードの 8 進値が \fInnn\fP である文字  (1 文字につき数字 1〜3 桁)
.TP
.B \ex\fIHH\fP
.\"O the eight-bit character whose value is the hexadecimal value \fIHH\fP
.\"O (one or two hex digits)
ASCII コードの 16 進値が \fIHH\fP である文字 (1 文字につき数字 1 または 2 桁)。
.RE
.PD
.PP
.\"O When entering the text of a macro, single or double quotes must
.\"O be used to indicate a macro definition.
.\"O Unquoted text is assumed to be a function name.
.\"O In the macro body, the backslash escapes described above are expanded.
.\"O Backslash will quote any other character in the macro text,
.\"O including " and \(aq.
マクロのテキストを入力する際には、マクロ定義を示すために
シングルクォートやダブルクォートを使わなければなりません。
クォートされていないテキストは関数名とみなされます。
マクロ本体では、前述のバックスラッシュによるエスケープは展開されます。
バックスラッシュはマクロのテキスト内の他の文字を全てエスケープします。
これには " や \(aq も含まれます。
.PP
.\"O .B Bash
.\"O allows the current readline key bindings to be displayed or modified
.\"O with the
.\"O .B bind
.\"O builtin command.  The editing mode may be switched during interactive
.\"O use by using the
.\"O .B \-o
.\"O option to the
.\"O .B set
.\"O builtin command (see
.\"O .SM
.\"O .B SHELL BUILTIN COMMANDS
.\"O below).
.B bash
では、組み込みコマンドの
.B bind
を使って、readline の現在の キー割り当ての表示と変更を行えます。
また、組み込みコマンド
.B set
に対して
.B \-o
オプションを使えば、編集モードを対話的利用の途中に切り替え可能です
(後述の
.SM
.B シェルの組み込みコマンド
を参照)。
.\"O .SS "Readline Variables"
.SS "Readline の変数"
.PP
.\"O Readline has variables that can be used to further customize its
.\"O behavior.  A variable may be set in the
.\"O .I inputrc
.\"O file with a statement of the form
.\"O .RS
.\"O .PP
.\"O \fBset\fP \fIvariable\-name\fP \fIvalue\fP
.\"O .RE
.\"O .PP
Readline には、動作を細かくカスタマイズするために変数があります。
変数は
.I inputrc
ファイル中に
.RS
.PP
\fBset\fP \fIvariable\-name\fP \fIvalue\fP
.RE
.PP
という形式の文で設定できます。
.\"O Except where noted, readline variables can take the values
.\"O .B On
.\"O or
.\"O .B Off
.\"O (without regard to case).
.\"O Unrecognized variable names are ignored.
特に断らない限り、readline の変数がとる値は
.B On
か
.B Off
のいずれかです。大文字と小文字の違いは考慮しません。
認識できない変数名は無視されます。
.\"O When a variable value is read, empty or null values, "on" (case-insensitive),
.\"O and "1" are equivalent to \fBOn\fP.  All other values are equivalent to
.\"O \fBOff\fP.
.\"O The variables and their default values are:
変数の値を読み取るとき、設定されてない場合や、空文字列、"on"
(大文字と小文字は区別しない)、"1" は
\fBOn\fP とみなされます。それ以外の値は \fBOff\fP とみなされます。
変数とそのデフォルト値を以下に示します:
.PP
.PD 0
.TP
.B bell\-style (audible)
.\"O Controls what happens when readline wants to ring the terminal bell.
.\"O If set to \fBnone\fP, readline never rings the bell.  If set to
.\"O \fBvisible\fP, readline uses a visible bell if one is available.
.\"O If set to \fBaudible\fP, readline attempts to ring the terminal's bell.
readline が端末のベルを鳴らそうとしたときの動作を制御します。
\fBnone\fP が設定されている場合は、readline はベルを鳴らしません。
\fBvisible\fP が設定されている場合には、可能であれば可視ベル
(visible bell) が用いられます。\fBaudible\fP が設定されている場合には、
readline は端末のベルを鳴らそうとします。
.TP
.B bind\-tty\-special\-chars (On)
.\"O If set to \fBOn\fP, readline attempts to bind the control characters
.\"O treated specially by the kernel's terminal driver to their readline
.\"O equivalents.
\fBOn\fP が設定されていると、
カーネルの端末ドライバによって特別扱いされるコントロール文字の機能の代わりに
readline の同等の機能を割り当てようとします。
.TP
.B comment\-begin (``#'')
.\"O The string that is inserted when the readline
.\"O .B insert\-comment
.\"O command is executed.
.\"O This command is bound to
.\"O .B M\-#
.\"O in emacs mode and to
.\"O .B #
.\"O in vi command mode.
readline の
.B insert\-comment
コマンドが実行されたときに挿入される文字列です。
このコマンドは emacs モードでは
.B M\-#
に割り当てられ、vi コマンドモードでは
.B #
に割り当てられます。
.TP
.B completion\-ignore\-case (Off)
.\"O If set to \fBOn\fP, readline performs filename matching and completion
.\"O in a case\-insensitive fashion.
\fBOn\fP が設定されていると、
readline がファイル名のマッチングと補完を行う際に
大文字と小文字が区別されません。
.TP
.B completion\-prefix\-display\-length (0)
.\"O The length in characters of the common prefix of a list of possible
.\"O completions that is displayed without modification.  When set to a
.\"O value greater than zero, common prefixes longer than this value are
.\"O replaced with an ellipsis when displaying possible completions.
補完候補のリストでそのまま表示される共通先頭部分の文字数。
0 より大きい値が設定されると、補完候補を表示するときに、
この値より長い共通先頭部分は省略記号で置き換えられます
.TP
.B completion\-query\-items (100)
.\"O This determines when the user is queried about viewing
.\"O the number of possible completions
.\"O generated by the \fBpossible\-completions\fP command.
.\"O It may be set to any integer value greater than or equal to
.\"O zero.  If the number of possible completions is greater than
.\"O or equal to the value of this variable, the user is asked whether
.\"O or not he wishes to view them; otherwise they are simply listed
.\"O on the terminal.
\fBpossible\-completions\fP コマンドが生成した補完候補の数が、
いくつを越えると表示の可否をユーザに問い合わせるのかを決めます。
この変数には 0 以上の任意の整数を設定できます。
補完の候補数がこの変数の値以上の場合には、
ユーザに対して候補を表示するかどうかの問い合わせがなされます。
そうでない場合には、単に端末に補完の候補がリスト表示されます。
.TP
.B convert\-meta (On)
.\"O If set to \fBOn\fP, readline will convert characters with the
.\"O eighth bit set to an ASCII key sequence
.\"O by stripping the eighth bit and prefixing an
.\"O escape character (in effect, using escape as the \fImeta prefix\fP).
\fBOn\fP を設定すると、readline は
8 番目のビットがセットされている文字を
ASCII のキーシーケンスに変換します。
変換は、8 番目のビットを落として、
エスケープ文字を前に追加することによって行います
(実際にはエスケープ文字を\fIメタプレフィックス\fPとして用います)。
.TP
.B disable\-completion (Off)
.\"O If set to \fBOn\fP, readline will inhibit word completion.  Completion
.\"O characters will be inserted into the line as if they had been
.\"O mapped to \fBself-insert\fP.
\fBOn\fP を設定すると、readline は単語の補完を行わなくなります。
補完される文字の編集行への挿入は、
その文字を \fBself-insert\fP に割り当てたかのように行われます。
.TP
.B editing\-mode (emacs)
.\"O Controls whether readline begins with a set of key bindings similar
.\"O to \fIEmacs\fP or \fIvi\fP.
.\"O .B editing\-mode
.\"O can be set to either
.\"O .B emacs
.\"O or
.\"O .BR vi .
readline の起動時に \fIemacs\fP と
\fIvi\fP のどちらに似たキー割り当てを使うのかを制御します。
.B editing\-mode
には
.B emacs
と
.BR vi
のいずれかを指定できます。
.TP
.B echo\-control\-characters (On)
.\"O When set to \fBOn\fP, on operating systems that indicate they support it,
.\"O readline echoes a character corresponding to a signal generated from the
.\"O keyboard.
\fBOn\fP が設定されていると、サポートしている OS では、
キーボード操作でシグナルが起こされたときに相当する文字を画面に出力します。
.TP
.B enable\-keypad (Off)
.\"O When set to \fBOn\fP, readline will try to enable the application
.\"O keypad when it is called.  Some systems need this to enable the
.\"O arrow keys.
\fBOn\fP を設定すると、
readline は呼び出されたときにアプリケーションキーパッドを有効にしようとします。
一部のシステムでは、矢印キーを使うためにこれを有効にする必要があります。
.TP
.B enable\-meta\-key (On)
.\"O When set to \fBOn\fP, readline will try to enable any meta modifier
.\"O key the terminal claims to support when it is called.  On many terminals,
.\"O the meta key is used to send eight-bit characters.
\fBOn\fP が設定されていると、
readline は端末がサポートを要求するメタ修飾キーを有効にしようとします。
多くの端末では、メタキーは 8 ビット文字を送信するのに使われます。
.TP
.B expand\-tilde (Off)
.\"O If set to \fBOn\fP, tilde expansion is performed when readline
.\"O attempts word completion.
\fBOn\fP を設定すると、
readline が単語の補完を試みるときにチルダ展開が行われます。
.TP
.B history\-preserve\-point (Off)
.\"O If set to \fBOn\fP, the history code attempts to place point at the
.\"O same location on each history line retrieved with \fBprevious-history\fP
.\"O or \fBnext-history\fP.
\fBOn\fP が設定されていると、
\fBprevious-history\fP や \fBnext-history\fP で履歴行を取り出したときに、
ポイントを行内の同じ位置に置こうとします。
.TP
.B history\-size (0)
.\"O Set the maximum number of history entries saved in the history list.  If
.\"O set to zero, the number of entries in the history list is not limited.
履歴リストに保存する履歴エントリの最大数を設定する。
0 が設定されていると、履歴リストのエントリの数は制限されません。
.TP
.B horizontal\-scroll\-mode (Off)
.\"O When set to \fBOn\fP, makes readline use a single line for display,
.\"O scrolling the input horizontally on a single screen line when it
.\"O becomes longer than the screen width rather than wrapping to a new line.
\fBOn\fP が設定されていると、readline は表示の際に 1 行しか
使わないようになります。つまり、行がスクリーンの幅より長くなると、
新しい行に折り返すのではなく、1 つの入力行の中で横にスクロールします。
.TP
.B input\-meta (Off)
.\"O If set to \fBOn\fP, readline will enable eight-bit input (that is,
.\"O it will not strip the high bit from the characters it reads),
.\"O regardless of what the terminal claims it can support.  The name
.\"O .B meta\-flag
.\"O is a synonym for this variable.
\fBOn\fP が設定されていると、readline は 8 ビットの入力が可能になりま
す(つまり、読み込んだ文字の再上位ビットを落としません)。この動作は、端
末のサポートとは無関係に行われます。
.B meta\-flag
という名前は、この変数の別名です。
.TP
.B isearch\-terminators (``C\-[C\-J'')
.\"O The string of characters that should terminate an incremental
.\"O search without subsequently executing the character as a command.
.\"O If this variable has not been given a value, the characters
.\"O \fIESC\fP and \fIC\-J\fP will terminate an incremental search.
インクリメンタル検索を終了させる文字からなる文字列です
(終了後にその文字がコマンドとして実行されることもありません)。
この変数に値が設定されていなければ、
\fIESC\fP と \fIC\-J\fP でインクリメンタル検索が終わります。
.TP
.B keymap (emacs)
.\"O Set the current readline keymap.  The set of valid keymap names is
.\"O \fIemacs, emacs\-standard, emacs\-meta, emacs\-ctlx, vi,
.\"O vi\-command\fP, and
.\"O .IR vi\-insert .
.\"O \fIvi\fP is equivalent to \fIvi\-command\fP; \fIemacs\fP is
.\"O equivalent to \fIemacs\-standard\fP.  The default value is
.\"O .IR emacs ;
.\"O the value of
.\"O .B editing\-mode
.\"O also affects the default keymap.
現在の readline のキーマップを設定します。
有効なキーマップ名は、
\fIemacs, emacs\-standard, emacs\-meta, emacs\-ctlx, vi,
vi\-command\fP, .IR vi\-insert です。\fIvi\fP は \fIvi\-command\fP
と等価で、\fIemacs\fP は \fIemacs\-standard\fP と等価です。
デフォルト値は
.I emacs
です。
.B editing\-mode
の値もデフォルトキーマップに影響を与えます。
.TP
.B mark\-directories (On)
.\"O If set to \fBOn\fP, completed directory names have a slash
.\"O appended.
\fBOn\fP が設定されていると、
補完されたディレクトリ名の末尾にスラッシュが追加されます。
.TP
.B mark\-modified\-lines (Off)
.\"O If set to \fBOn\fP, history lines that have been modified are displayed
.\"O with a preceding asterisk (\fB*\fP).
\fBOn\fP が設定されていると、履歴行を表示する際に、
以前に変更されたものの先頭にアスタリスク (\fB*\fP) を付けて表示します。
.TP
.B mark\-symlinked\-directories (Off)
.\"O If set to \fBOn\fP, completed names which are symbolic links to directories
.\"O have a slash appended (subject to the value of
.\"O \fBmark\-directories\fP).
\fBOn\fP が設定されていると、
ディレクトリへのシンボリックリンクが補完されたときに、
(\fBmark\-directories\fP が有効であれば)
名前の末尾にスラッシュが追加されます。
.TP
.B match\-hidden\-files (On)
.\"O This variable, when set to \fBOn\fP, causes readline to match files whose
.\"O names begin with a `.' (hidden files) when performing filename 
.\"O completion.
.\"O If set to \fBOff\fP, the leading `.' must be
.\"O supplied by the user in the filename to be completed.
\fBOn\fP が設定されていると、
ファイル名の補完で `.' で始まる名前のファイル
(隠しファイル) にもマッチします。
\fBOff\fP が設定されているときには、`.' で始まる名前のファイルを
補完するには先頭の `.' をユーザが入力する必要があります。
.TP
.B menu\-complete\-display\-prefix (Off)
.\"O If set to \fBOn\fP, menu completion displays the common prefix of the
.\"O list of possible completions (which may be empty) before cycling through
.\"O the list.
\fBOn\fP が設定されていると、
メニュー補完 (menu completion) で補完候補のリスト (空の場合も含む)
を順番に表示する前に、共通先頭部分を表示します。
.TP
.B output\-meta (Off)
.\"O If set to \fBOn\fP, readline will display characters with the
.\"O eighth bit set directly rather than as a meta-prefixed escape
.\"O sequence.
\fBOn\fP が設定されていると、
readline は 8 番目のビットが立っている文字を直接表示します。
メタ文字を前置したエスケープシーケンスでの表示は行いません。
.TP
.B page\-completions (On)
.\"O If set to \fBOn\fP, readline uses an internal \fImore\fP-like pager
.\"O to display a screenful of possible completions at a time.
\fBOn\fP が設定されていると、
一度に一画面分の補完候補を表示するために
readline は組み込みの \fImore\fP 風ページャを使います。
.TP
.B print\-completions\-horizontally (Off)
.\"O If set to \fBOn\fP, readline will display completions with matches
.\"O sorted horizontally in alphabetical order, rather than down the screen.
\fBOn\fP が設定されていると、
readline は補完でマッチするものをアルファベット順にして、
縦方向ではなく横方向に並べて表示します。
.TP 
.B revert\-all\-at\-newline (Off)
.\"O If set to \fBOn\fP, readline will undo all changes to history lines 
.\"O before returning when \fBaccept\-line\fP is executed.  By default,
.\"O history lines may be modified and retain individual undo lists across
.\"O calls to \fBreadline\fP.
.\"O motoki: もう少しチェックする必要あり
\fBOn\fP が設定されていると、
\fBaccept\-line\fP が実行されて readline から戻るときに、
履歴に加えられた全ての変更を元に戻します。
デフォルトでは、\fBreadline\fP の各呼び出しを通じて
履歴行が変更され単一のアンドゥリストが保持されます。
.TP
.B show\-all\-if\-ambiguous (Off)
.\"O This alters the default behavior of the completion functions.  If
.\"O set to
.\"O .BR On ,
.\"O words which have more than one possible completion cause the
.\"O matches to be listed immediately instead of ringing the bell.
これは補完機能のデフォルトの挙動を変えます。
.B On
が設定されている場合、単語に対する補完候補が複数個あると、
ベルは鳴らされずに、マッチするものが即座にリスト表示されます。
.TP
.B show\-all\-if\-unmodified (Off)
.\"O This alters the default behavior of the completion functions in
.\"O a fashion similar to \fBshow\-all\-if\-ambiguous\fP.
.\"O If set to
.\"O .BR On ,
.\"O words which have more than one possible completion without any
.\"O possible partial completion (the possible completions don't share
.\"O a common prefix) cause the matches to be listed immediately instead
.\"O of ringing the bell.
これは \fBshow\-all\-if\-ambiguous\fP と同様に
補完機能のデフォルトの挙動を変えます。
.BR On
が設定されている場合、単語に対する補完候補が複数個あって、
部分的な補完ができない (補完候補が共通先頭部分を持たない) と、
マッチするものが即座にリスト表示されます。
ベルは鳴らされません。
.TP
.B skip\-completed\-text (Off)
.\"O If set to \fBOn\fP, this alters the default completion behavior when
.\"O inserting a single match into the line.  It's only active when
.\"O performing completion in the middle of a word.  If enabled, readline
.\"O does not insert characters from the completion that match characters
.\"O after point in the word being completed, so portions of the word
.\"O following the cursor are not duplicated.
.\"O motoki: もう少しチェックが必要
\fBOn\fP が設定されていると、
これは補完機能がマッチしたものを行に挿入するときのデフォルトの挙動を変えます。
単語の途中で補完を実行したときにだけ意味があります。
有効になっていると、readline は、単語のカーソル以後の部分が重複しないように、
補完された単語のうちポイント以後の文字を挿入しません。
.TP
.B visible\-stats (Off)
.\"O If set to \fBOn\fP, a character denoting a file's type as reported
.\"O by \fIstat\fP(2) is appended to the filename when listing possible
.\"O completions.
\fBOn\fP が設定されていると、
\fIstat\fP(2) で得られるファイルの種類を表す文字が、
補完候補のリスト表示の際に追加されます。
.PD
.\"O .SS "Readline Conditional Constructs"
.SS Readline の条件構文
.PP
.\"O Readline implements a facility similar in spirit to the conditional
.\"O compilation features of the C preprocessor which allows key
.\"O bindings and variable settings to be performed as the result
.\"O of tests.  There are four parser directives used.
Readline には、
C 言語のプリプロセッサの条件付きコンパイル機能と
似たコンセプトに基づく機能が実装されています。
これを使うと、条件に応じてキー割り当てや変数の設定を実行できます。
パーザディレクティブは 4 つあります。
.IP \fB$if\fP
.\"O The 
.\"O .B $if
.\"O construct allows bindings to be made based on the
.\"O editing mode, the terminal being used, or the application using
.\"O readline.  The text of the test extends to the end of the line;
.\"O no characters are required to isolate it.
.B $if
構文を使うと、編集モードや使用中の端末、
readline を使っているアプリケーションに応じた割り当てを行えます。
行末までの全テキストが評価対象となります。
これを分離するには文字は必要ありません。
.RS
.IP \fBmode\fP
.\"O The \fBmode=\fP form of the \fB$if\fP directive is used to test
.\"O whether readline is in emacs or vi mode.
.\"O This may be used in conjunction
.\"O with the \fBset keymap\fP command, for instance, to set bindings in
.\"O the \fIemacs\-standard\fP and \fIemacs\-ctlx\fP keymaps only if
.\"O readline is starting out in emacs mode.
\fB$if\fP ディレクティブの \fBmode=\fP 形式は、
readline が emacs モードか
vi モードのどちらになっているかを調べるために使います。
例えば、これを \fBset keymap\fP コマンドと一緒に使い、
readline が emacs モードで始まったときだけ
キーの割り当てを \fIemacs\-standard\fP や 
\fIemacs\-ctlx\fP キーマップに設定できます。
.IP \fBterm\fP
.\"O .IP \fBterm\fP
.\"O The \fBterm=\fP form may be used to include terminal-specific
.\"O key bindings, perhaps to bind the key sequences output by the
.\"O terminal's function keys.  The word on the right side of the
\fBterm=\fP 形式を使うと、
端末固有のキー割り当てを入れることができます。
これは端末のファンクションキーが出力する
キーシーケンスを割り当てる場合などに使えます。
.\"O .B =
.\"O is tested against the both full name of the terminal and the portion
.\"O of the terminal name before the first \fB\-\fP.  This allows
.\"O .I sun
.\"O to match both
.\"O .I sun
.\"O and
.\"O .IR sun\-cmd ,
.\"O for instance.
.B =
の右辺の単語の評価は、
端末の完全な名前および最初の
\fB\-\fP の前までの部分的な名前の両方に対して行われます。
例えば、
.I sun
は
.I sun
と
.I sun\-cmd
の両方にマッチします。
.IP \fBapplication\fP
.\"O The \fBapplication\fP construct is used to include
.\"O application-specific settings.  Each program using the readline
.\"O library sets the \fIapplication name\fP, and an initialization
.\"O file can test for a particular value.
.\"O This could be used to bind key sequences to functions useful for
.\"O a specific program.  For instance, the following command adds a
.\"O key sequence that quotes the current or previous word in \fBbash\fP:
\fBapplication\fP はアプリケーション固有の設定を入れるために使います。
readline ライブラリを使っているプログラムはそれぞれ
\fIアプリケーション名 (application name)\fP を設定するので、
初期化ファイルはそれが特定の値かどうかを調べられます。
これを使って、特定のプログラム用で便利な機能に
キーシーケンスを割り当てできます。例えば、以下のコマンドは、
\fBbash\fP の場合に、現在の単語または直前の単語をクォートする
キーシーケンスを追加します。
.sp 1
.RS
.nf
\fB$if\fP Bash
# Quote the current or previous word
"\eC\-xq": "\eeb\e"\eef\e""
\fB$endif\fP
.fi
.RE
.RE
.IP \fB$endif\fP
.\"O This command, as seen in the previous example, terminates an
.\"O \fB$if\fP command.
このコマンドは \fB$if\fP コマンドを終了させます (上記の例の通り)。
.IP \fB$else\fP
.\"O Commands in this branch of the \fB$if\fP directive are executed if
.\"O the test fails.
\fB$if\fP ディレクティブのこの分岐内に書かれたコマンドは、
評価が失敗したときに実行されます。
.IP \fB$include\fP
.\"O This directive takes a single filename as an argument and reads commands
.\"O and bindings from that file.  For example, the following directive
.\"O would read \fI/etc/inputrc\fP:
このディレクティブはファイル名 1 つを引き数に取り、
そのファイルからコマンドとキー割り当てを読み込みます。
例えば以下のディレクティブを使うと
\fI/etc/inputrc\fP が読み込まれます:
.sp 1
.RS
.nf
\fB$include\fP \^ \fI/etc/inputrc\fP
.fi
.RE
.\"O .SS Searching
.SS 検索
.PP
.\"O Readline provides commands for searching through the command history
.\"O (see
.\"O .SM
.\"O .B HISTORY
.\"O below) for lines containing a specified string.
readline には、指定した文字列を含む行をコマンド履歴内から探すコマンド
が用意されています (後述の
.SM
.B 履歴
を参照)。
.\"O There are two search modes:
.\"O .I incremental
.\"O and
.\"O .IR non-incremental .
.\"O motoki: incremental search は日本語だと「逐次検索」になるが、どっちいいか。
検索のモードには、
.I インクリメンタル (incremental)
モードと
.I 非インクリメンタル (non-incremental)
モードの 2 つがあります。
.PP
.\"O Incremental searches begin before the user has finished typing the
.\"O search string.
.\"O As each character of the search string is typed, readline displays
.\"O the next entry from the history matching the string typed so far.
.\"O An incremental search requires only as many characters as needed to
.\"O find the desired history entry.
.\"O The characters present in the value of the \fBisearch-terminators\fP
.\"O variable are used to terminate an incremental search.
.\"O If that variable has not been assigned a value the Escape and
.\"O Control-J characters will terminate an incremental search.
.\"O Control-G will abort an incremental search and restore the original
.\"O line.
.\"O When the search is terminated, the history entry containing the
.\"O search string becomes the current line.
インクリメンタル検索では、
ユーザが検索文字列全体の入力が終わるより前に検索が開始されます。
検索文字列に文字が追加されるたびに、
readline はそれまでに入力した文字列にマッチする履歴から
次のエントリを表示します。
インクリメンタル検索では、探している履歴エントリを見つけるために
必要な数の文字を入力すれば十分です。
\fBisearch-terminators\fP の値に含まれる文字を入力すると、
インクリメンタル検索は終了します。
この変数に値が代入されていない場合には、エスケープ文字または
Control-J でインクリメンタル検索が終了します。
Control-G はインクリメンタル検索を異常終了させ、元の行を復元します。
検索が終了すると、検索文字列を含む履歴エントリが現在の行になります。
.PP
.\"O To find other matching entries in the history list, type Control-S or
.\"O Control-R as appropriate.
.\"O This will search backward or forward in the history for the next
.\"O entry matching the search string typed so far.
.\"O Any other key sequence bound to a readline command will terminate
.\"O the search and execute that command.
.\"O For instance, a \fInewline\fP will terminate the search and accept
.\"O the line, thereby executing the command from the history list.
マッチした他の履歴リストのエントリを見つけるには、Control-S または
Control-R を適宜入力します。これにより、
今まで入力した検索文字列にマッチする次のエントリを
履歴の前方または後方に向かって探します。
readline に割り当てられた他のキーシーケンスを入力すると検索が終わり、
入力したキーシーケンスに対応するコマンドが実行されます。
例えば、\fI改行\fPは検索を終了させて、その行を入力します。
これにより、履歴リスト中のコマンドが実行されます。
.PP
.\"O Readline remembers the last incremental search string.  If two
.\"O Control-Rs are typed without any intervening characters defining a
.\"O new search string, any remembered search string is used.
readline は前回のインクリメンタル検索で入力された
検索文字列を覚えています。
新しい検索文字を間に挟まずに Control-R を 2 回入力すると、
覚えている検索文字列が使われます。
.PP
.\"O Non-incremental searches read the entire search string before starting
.\"O to search for matching history lines.  The search string may be
.\"O typed by the user or be part of the contents of the current line.
インクリメンタルでない検索の場合には、検索文字列全体を読み込んでから、
履歴行にマッチするものの検索を始めます。
検索文字列には、ユーザが入力したものか、現在の行の内容の一部が使えます。
.\"O .SS "Readline Command Names"
.SS "Readline のコマンド名"
.PP
.\"O The following is a list of the names of the commands and the default
.\"O key sequences to which they are bound.
.\"O Command names without an accompanying key sequence are unbound by default.
.\"O In the following descriptions, \fIpoint\fP refers to the current cursor
.\"O position, and \fImark\fP refers to a cursor position saved by the
.\"O \fBset\-mark\fP command.
.\"O The text between the point and mark is referred to as the \fIregion\fP.
以下は、
コマンドの名前およびそれらが割り当てられている
デフォルトのキーシーケンスの一覧です。
対応するキーシーケンスがないコマンド名には、
デフォルトではキーは割り当てられていません。
以下の説明では、\fIポイント (point)\fP は現在のカーソルの位置を表し、
\fIマーク (mark)\fP は
\fBset\-mark\fP コマンドによって保存されたカーソル位置を表します。
ポイントとマークの間のテキストは、\fIリージョン (region)\fP と呼びます。
.\"O .SS Commands for Moving
.SS 移動コマンド
.PP
.PD 0
.TP
.B beginning\-of\-line (C\-a)
.\"O Move to the start of the current line.
現在の行の先頭に移動します。
.TP
.B end\-of\-line (C\-e)
.\"O Move to the end of the line.
行の末尾に移動します。
.TP
.B forward\-char (C\-f)
.\"O Move forward a character.
1 文字進みます。
.TP
.B backward\-char (C\-b)
.\"O Move back a character.
1 文字戻ります。
.TP
.B forward\-word (M\-f)
.\"O Move forward to the end of the next word.  Words are composed of
.\"O alphanumeric characters (letters and digits).
次の単語の最後に進みます。単語は英数字 (英字と数字) からなります。
.TP
.B backward\-word (M\-b)
.\"O Move back to the start of the current or previous word.
.\"O Words are composed of alphanumeric characters (letters and digits).
現在あるいは直前の単語の先頭に戻ります。
単語は英数字 (英字と数字) からなります。
.TP
.B shell\-forward\-word
.\"O Move forward to the end of the next word.
.\"O Words are delimited by non-quoted shell metacharacters.
次の単語の最後に進みます。
単語はクォートされていないシェルのメタ文字で区切られます。
.TP
.B shell\-backward\-word
.\"O Move back to the start of the current or previous word.
.\"O Words are delimited by non-quoted shell metacharacters.
現在の単語あるいは前の単語の先頭に戻ります。
単語はクォートされていないシェルのメタ文字で区切られます。
.TP
.B clear\-screen (C\-l)
.\"O Clear the screen leaving the current line at the top of the screen.
.\"O With an argument, refresh the current line without clearing the
.\"O screen.
現在の行を画面の一番上の行に残したまま、画面をクリアします。
引き数を付けると、画面をクリアせずに現在の行を再描画します。
.TP
.B redraw\-current\-line
.\"O Refresh the current line.
現在の行を再描画します。
.PD
.\"O .SS Commands for Manipulating the History
.SS 履歴操作のためのコマンド
.PP
.PD 0
.TP
.B accept\-line (Newline, Return)
.\"O Accept the line regardless of where the cursor is.  If this line is
.\"O non-empty, add it to the history list according to the state of the
.\"O .SM
.\"O .B HISTCONTROL
.\"O variable.  If the line is a modified history
.\"O line, then restore the history line to its original state.
カーソルの位置に関わらず、行を確定します。この行が空でなければ、変数
.SM
.B HISTCONTROL
の状態に従って、これが履歴リストに追加されます。
行が履歴リストを変更したものならば、履歴行は元の状態に戻されます。
.TP
.B previous\-history (C\-p)
.\"O Fetch the previous command from the history list, moving back in
.\"O the list.
履歴リストを戻り、履歴リストから前の行を取り出します。
.TP
.B next\-history (C\-n)
.\"O Fetch the next command from the history list, moving forward in the
.\"O list.
履歴リストを進み、履歴リストから次の行を取り出します。
.TP
.B beginning\-of\-history (M\-<)
.\"O Move to the first line in the history.
履歴の最初の行に移動します。
.TP
.B end\-of\-history (M\->)
.\"O Move to the end of the input history, i.e., the line currently being
.\"O entered.
入力履歴の最後に移動します。つまり、現在入力中の行に移動します。
.TP
.B reverse\-search\-history (C\-r)
.\"O Search backward starting at the current line and moving `up' through
.\"O the history as necessary.  This is an incremental search.
現在の行を開始点にして後方に向かって検索を行い、
必要に応じて履歴を「遡って」いきます。これはインクリメンタル検索です。
.TP
.B forward\-search\-history (C\-s)
.\"O Search forward starting at the current line and moving `down' through
.\"O the history as necessary.  This is an incremental search.
現在の行を開始点にして前方に向かって検索を行い、
必要に応じて履歴を「下って」いきます。これはインクリメンタル検索です。
.TP
.B non\-incremental\-reverse\-search\-history (M\-p)
.\"O Search backward through the history starting at the current line
.\"O using a non-incremental search for a string supplied by the user.
現在の行を開始点にして、履歴リストを後方に向かって検索を行います。
ユーザが入力した文字列を非インクリメンタルモードで検索します。
.TP
.B non\-incremental\-forward\-search\-history (M\-n)
.\"O Search forward through the history using a non-incremental search for
.\"O a string supplied by the user.
現在の行を開始点にして、履歴リストを前方に向かって検索を行います。
ユーザが入力した文字列を非インクリメンタルモードで検索します。
.TP
.B history\-search\-forward
.\"O Search forward through the history for the string of characters
.\"O between the start of the current line and the point.
.\"O This is a non-incremental search.
履歴を前方に向かって検索し、
現在の行の先頭とポイントの間の文字列を探します。
これは非インクリメンタル検索です。
.TP
.B history\-search\-backward
.\"O Search backward through the history for the string of characters
.\"O between the start of the current line and the point.
.\"O This is a non-incremental search.
履歴を後方に向かって検索し、
現在の行の先頭およびポイントの間の文字列を探します。
これは非インクリメンタル検索です。
.TP
.B yank\-nth\-arg (M\-C\-y)
.\"O Insert the first argument to the previous command (usually
.\"O the second word on the previous line) at point.
.\"O With an argument
.\"O .IR n ,
.\"O insert the \fIn\fPth word from the previous command (the words
.\"O in the previous command begin with word 0).  A negative argument
.\"O inserts the \fIn\fPth word from the end of the previous command.
.\"O Once the argument \fIn\fP is computed, the argument is extracted
.\"O as if the "!\fIn\fP" history expansion had been specified.
前のコマンドに対する最初の引き数 (通常は前の行の 2 番目の単語)
をポイントに挿入します。引き数
.I n
が付いていると、前のコマンドの \fIn\fP 番目の単語
(前のコマンドの単語は 0 から数えます)。
引き数が負ならば、前のコマンドの最後から
\fIn\fP 番目の単語が挿入されます。
引き数 \fIn\fP が一度決まると、コマンドの引き数が履歴の展開での
"!\fIn\fP" の指定のように展開されます。
.TP
.B
yank\-last\-arg (M\-.\^, M\-_\^)
.\"O Insert the last argument to the previous command (the last word of
.\"O the previous history entry).
.\"O With a numeric argument, behave exactly like \fByank\-nth\-arg\fP.
.\"O Successive calls to \fByank\-last\-arg\fP move back through the history
.\"O list, inserting the last word (or the word specified by the argument to
.\"O the first call) of each line in turn.
.\"O Any numeric argument supplied to these successive calls determines
.\"O the direction to move through the history.  A negative argument switches
.\"O the direction through the history (back or forward).
.\"O The history expansion facilities are used to extract the last argument,
.\"O as if the "!$" history expansion had been specified.
前のコマンドの最後の引き数
(一つ前の履歴エントリの最後の単語) を挿入します。
引き数があると、\fByank\-nth\-arg\fP と全く同じように動作します。
\fByank\-last\-arg\fP を繰り返して呼び出すと、
履歴リストを遡って参照が行われ、
それぞれの行の最後の引き数が順番に挿入されます。
繰り返して呼び出すときの引き数は、履歴の中を動く方向を決めます。
負の引き数は、履歴の中を動く方向 (後方または前方) を反転します。
履歴の展開での "!$" の指定のように、
最後の引き数の展開に履歴の展開の機能が使われます。
.TP
.B shell\-expand\-line (M\-C\-e)
.\"O Expand the line as the shell does.  This
.\"O performs alias and history expansion as well as all of the shell
.\"O word expansions.  See
.\"O .SM
.\"O .B HISTORY EXPANSION
.\"O below for a description of history expansion.
シェルが行うのと同じように行の展開を行います。
エイリアスや履歴の展開を含め、シェルの行う全ての単語展開が行われます。
履歴の展開の説明については、後述の
.SM
.B 履歴の展開
を参照してください。
.TP
.B history\-expand\-line (M\-^)
.\"O Perform history expansion on the current line.
.\"O See
.\"O .SM
.\"O .B HISTORY EXPANSION
.\"O below for a description of history expansion.
現在の行で履歴の展開を行います。
履歴の展開の説明については、後述の
.SM
.B 履歴の展開
を参照してください。
.TP
.B magic\-space
.\"O Perform history expansion on the current line and insert a space.
.\"O See
.\"O .SM
.\"O .B HISTORY EXPANSION
.\"O below for a description of history expansion.
現在の行で履歴の展開を行い、空白を挿入します。
履歴の展開の説明については、後述の
.SM
.B 履歴の展開
を参照してください。
.TP
.B alias\-expand\-line
.\"O Perform alias expansion on the current line.
.\"O See
.\"O .SM
.\"O .B ALIASES
.\"O above for a description of alias expansion.
現在の行でエイリアスの展開を行います。
エイリアスの展開の説明については、前述の
.SM
.B エイリアス
を参照してください。
.TP
.B history\-and\-alias\-expand\-line
.\"O Perform history and alias expansion on the current line.
現在の行で履歴とエイリアスの展開を行います。
.TP
.B insert\-last\-argument (M\-.\^, M\-_\^)
.\"O A synonym for \fByank\-last\-arg\fP.
\fByank\-last\-arg\fP と同じものです。
.TP
.B operate\-and\-get\-next (C\-o)
.\"O Accept the current line for execution and fetch the next line
.\"O relative to the current line from the history for editing.  Any
.\"O argument is ignored.
現在の行を実行し、
履歴内の現在の行の次の行を編集用に取得します。
引き数は全て無視されます。
.TP
.B edit\-and\-execute\-command (C\-xC\-e)
.\"O Invoke an editor on the current command line, and execute the result as shell
.\"O commands.
.\"O \fBBash\fP attempts to invoke
.\"O .BR $EDITOR ,
.\"O and \fIemacs\fP as the editor, in that order.
エディタを起動して現在のコマンドラインの内容を開き、
その結果をシェルのコマンドとして実行します。
\fBbash\fP はエディタとして
.SM
.BR $VISUAL ,
.SM
.BR $EDITOR ,
\fIemacs\fP の順で起動を試みます。
.PD
.\"O .SS Commands for Changing Text
.SS テキスト編集のためのコマンド
.PP
.PD 0
.TP
.B delete\-char (C\-d)
.\"O Delete the character at point.  If point is at the
.\"O beginning of the line, there are no characters in the line, and
.\"O the last character typed was not bound to \fBdelete\-char\fP,
.\"O then return
.\"O .SM
.\"O .BR EOF .
ポイントの文字を削除します。
ポイントが行の先頭であり、その行に文字がなく、
さらに打ち込んだ最後の文字が
\fBdelete\-char\fP に割り当てられていなければ、
.SM
.B EOF
が返されます。
.TP
.B backward\-delete\-char (Rubout)
.\"O Delete the character behind the cursor.  When given a numeric argument,
.\"O save the deleted text on the kill ring.
カーソルの前の文字を削除します。数値の引き数を与えると、
削除したテキストをキルリングに保存します。
.TP
.B forward\-backward\-delete\-char
.\"O Delete the character under the cursor, unless the cursor is at the
.\"O end of the line, in which case the character behind the cursor is
.\"O deleted.
カーソルが行末になければカーソルがある位置の文字を削除します。
カーソルが行末にある場合には、カーソルの前の文字を削除します。
.TP
.B quoted\-insert (C\-q, C\-v)
.\"O Add the next character typed to the line verbatim.  This is
.\"O how to insert characters like \fBC\-q\fP, for example.
次に打ち込んだ文字をそのまま行に追加します。
これは \fBC\-q\fP 等の文字を挿入するために使います。
.TP
.B tab\-insert (C\-v TAB)
.\"O Insert a tab character.
タブ文字を挿入します。
.TP
.B self\-insert (a,\ b,\ A,\ 1,\ !,\ ...)
.\"O Insert the character typed.
打ち込んだ文字を挿入します。
.TP
.B transpose\-chars (C\-t)
.\"O Drag the character before point forward over the character at point,
.\"O moving point forward as well.
.\"O If point is at the end of the line, then this transposes
.\"O the two characters before point.
.\"O Negative arguments have no effect.
ポイントの前にある文字を動かし、
現在ポイントがある文字の後ろに持っていきます。
同時にポイントも前に進みます。ポイントが行の最後にある場合は、
ポイントの前の 2 文字が交換されます。
負の引き数を指定すると、何も起こりません。
.TP
.B transpose\-words (M\-t)
.\"O Drag the word before point past the word after point,
.\"O moving point over that word as well.
.\"O If point is at the end of the line, this transposes
.\"O the last two words on the line.   
ポイントの前にある単語を動かし、
ポイントの後ろにある単語の後ろに持っていきます。
この際には、ポイントも始めに前にあった単語の後ろまで移動します。
ポイントが行の最後にある場合は、行の最後の 2 単語が交換されます。
.TP
.B upcase\-word (M\-u)
.\"O Uppercase the current (or following) word.  With a negative argument,
.\"O uppercase the previous word, but do not move point.
現在の (または後ろの) 単語を大文字にします。
負の引き数を指定すると、前の単語を大文字にしますが、
ポイントは動きません。
.TP
.B downcase\-word (M\-l)
.\"O Lowercase the current (or following) word.  With a negative argument,
.\"O lowercase the previous word, but do not move point.
現在の (または後ろの) 単語を小文字にします。
負の引き数を指定すると、前の単語を小文字にしますが、
ポイントは動きません。
.TP
.B capitalize\-word (M\-c)
.\"O Capitalize the current (or following) word.  With a negative argument,
.\"O capitalize the previous word, but do not move point.
現在の (または後ろの) 単語をキャピタライズします
(単語の先頭の文字を大文字にします)。
負の引き数を指定すると前の単語をキャピタライズしますが、
ポイントは動きません。
.TP
.B overwrite\-mode
.\"O Toggle overwrite mode.  With an explicit positive numeric argument,
.\"O switches to overwrite mode.  With an explicit non-positive numeric
.\"O argument, switches to insert mode.  This command affects only
.\"O \fBemacs\fP mode; \fBvi\fP mode does overwrite differently.
.\"O Each call to \fIreadline()\fP starts in insert mode.
.\"O In overwrite mode, characters bound to \fBself\-insert\fP replace   
.\"O the text at point rather than pushing the text to the right.
.\"O Characters bound to \fBbackward\-delete\-char\fP replace the character
.\"O before point with a space.  By default, this command is unbound.
上書きモードをトグルさせます。
正の引き数を指定すると上書きモードに切り替えます。
負の引き数を指定すると挿入モードに切り替えます。
このコマンドは \fBemacs\fP モードでのみ有効です。
\fBvi\fP モードでは違った形で上書きします。
\fIreadline()\fP を呼び出したときは毎回、挿入モードで始まります。
上書きモードでは、\fBself\-insert\fP が割り当てられた文字は、
ポイントの位置のテキストを右に押し出すのではなく置き換えます。
\fBbackward\-delete\-char\fP が割り当てられた文字は、
ポイントの前の文字をスペースで置き換えます。
このコマンドはデフォルトではキーに割り当てられていません。
.PD
.\"O .SS Killing and Yanking
.SS キルとヤンク
.\"O motoki: kill, yank がカタカナで分かるか?
.PP
.PD 0
.TP
.B kill\-line (C\-k)
.\"O Kill the text from point to the end of the line.
ポイントから行末までのテキストをキルします。
.TP
.B backward\-kill\-line (C\-x Rubout)
.\"O Kill backward to the beginning of the line.
現在のカーソル位置から行頭までをキルします。
.TP
.B unix\-line\-discard (C\-u)
.\"O Kill backward from point to the beginning of the line.
.\"O The killed text is saved on the kill-ring.
.\"O .\" There is no real difference between this and backward-kill-line
ポイントから行頭までをキルします。
キルされたテキストはキルリング (kill-ring) に入ります。
.\" このコマンドと backward-kill-line は実際には相違点はありません。
.TP
.B kill\-whole\-line
.\"O Kill all characters on the current line, no matter where point is.
現在の行の文字を全てキルします。ポイントの位置は関係ありません。
.TP
.B kill\-word  (M\-d)
.\"O Kill from point to the end of the current word, or if between
.\"O words, to the end of the next word.
.\"O Word boundaries are the same as those used by \fBforward\-word\fP.
ポイントから現在の単語の終わりまでをキルします。
ポイントが単語と単語の間であれば、後ろの単語の終わりまでをキルします。
単語の境界は \fBforward\-word\fP で使われているものと同じです。
.TP
.B backward\-kill\-word (M\-Rubout)
.\"O Kill the word behind point.
.\"O Word boundaries are the same as those used by \fBbackward\-word\fP.
ポイントの前にある単語をキルします。
単語の境界は \fBbackward\-word\fP で使われているものと同じです。
.TP
.B shell\-kill\-word  (M\-d)
.\"O Kill from point to the end of the current word, or if between
.\"O words, to the end of the next word.
.\"O Word boundaries are the same as those used by \fBshell\-forward\-word\fP.
ポイントから現在の単語の終わりまでをキルします。
ポイントが単語と単語の間であれば、後ろの単語の終わりまでをキルします。
単語の境界は \fBshell\-forward\-word\fP で使われているものと同じです。
.TP
.B shell\-backward\-kill\-word (M\-Rubout)
.\"O Kill the word behind point.
.\"O Word boundaries are the same as those used by \fBshell\-backward\-word\fP.
ポイントの前にある単語をキルします。
単語の境界は \fBshell\-backward\-word\fP で使われているものと同じです。
.TP
.B unix\-word\-rubout (C\-w)
.\"O Kill the word behind point, using white space as a word boundary.
.\"O The killed text is saved on the kill-ring.
ポイントの前にある単語をキルします。
その際には空白を単語の境界として用います。
キルされたテキストはキルリングに入ります。
.TP
.B unix\-filename\-rubout
.\"O Kill the word behind point, using white space and the slash character
.\"O as the word boundaries.
.\"O The killed text is saved on the kill-ring.
ポイントの前にある単語をキルします。
その際には空白とスラッシュを単語の境界として用います。
キルされたテキストはキルリングに入ります。
.TP
.B delete\-horizontal\-space (M\-\e)
.\"O Delete all spaces and tabs around point.
ポイントの周りの空白とタブを全て削除します。
.TP
.B kill\-region
.\"O Kill the text in the current region.
現在のリージョン中のテキストをキルします。
.TP
.B copy\-region\-as\-kill
.\"O Copy the text in the region to the kill buffer.
リージョン中のテキストをキルバッファにコピーします。
.TP
.B copy\-backward\-word
.\"O Copy the word before point to the kill buffer.
.\"O The word boundaries are the same as \fBbackward\-word\fP.
ポイントの前の単語をキルバッファにコピーします。単語の境界は
\fBbackward\-word\fP と同じです。
.TP
.B copy\-forward\-word
.\"O Copy the word following point to the kill buffer.
.\"O The word boundaries are the same as \fBforward\-word\fP.
ポイントの後ろの単語をキルバッファにコピーします。単語の境界は
\fBforward\-word\fP と同じです。
.TP
.B yank (C\-y)
.\"O Yank the top of the kill ring into the buffer at point.
キルリングの先頭のテキストをバッファ中のポイントにヤンクします。
.TP
.B yank\-pop (M\-y)
.\"O Rotate the kill ring, and yank the new top.  Only works following
.\"O .B yank
.\"O or
.\"O .BR yank\-pop .
キルリングの順番を 1 つ移動し、新たに先頭になったテキストをヤンクします。
.B yank
または
.B yank\-pop
の後にしか使えません。
.PD
.\"O .SS Numeric Arguments
.SS 数値の引き数
.PP
.PD 0
.TP
.B digit\-argument (M\-0, M\-1, ..., M\-\-)
.\"O Add this digit to the argument already accumulating, or start a new
.\"O argument.  M\-\- starts a negative argument.
すでに入力された引き数にこの数字を追加するか、
またはこの数字によって新しい引き数を始めます。
M\-\- を使うと、負の値を指定できます。
.TP
.B universal\-argument
.\"O This is another way to specify an argument.
.\"O If this command is followed by one or more digits, optionally with a
.\"O leading minus sign, those digits define the argument.
引き数を指定する別の方法です。
このコマンドに続けて 1 つ以上の数字が入力された場合
(頭にマイナス記号を付けることもできます)、
これらの数字で引き数が定義されます。
.\"O If the command is followed by digits, executing
.\"O .B universal\-argument
.\"O again ends the numeric argument, but is otherwise ignored.
.\"O As a special case, if this command is immediately followed by a
.\"O character that is neither a digit or minus sign, the argument count
.\"O for the next command is multiplied by four.
.\"O The argument count is initially one, so executing this function the
.\"O first time makes the argument count four, a second time makes the
.\"O argument count sixteen, and so on.
このコマンドの後に数字が続いた場合、
.B universal\-argument
を再び実行すると数値の引き数を終了しますが、
そうでない場合は無視されます。
特殊なケースとして、
このコマンドの直後に数字でもマイナス記号でもない文字がある場合には、
次のコマンドに対する引き数カウントが 4 倍になります。
引き数カウントは最初は 1 なので、
この機能を一度実行すると引き数カウントは 4 になり、
もう一度実行すると引き数カウントは 16 になります。
それ以降も同様です。
.PD
.\"O .SS Completing
.SS 補完
.PP
.PD 0
.TP
.B complete (TAB)
.\"O Attempt to perform completion on the text before point.
.\"O .B Bash
.\"O attempts completion treating the text as a variable (if the
.\"O text begins with \fB$\fP), username (if the text begins with
.\"O \fB~\fP), hostname (if the text begins with \fB@\fP), or
.\"O command (including aliases and functions) in turn.  If none
.\"O of these produces a match, filename completion is attempted.
ポイントの前のテキストについて補完を試みます。
.B bash
が補完を行う際には、
変数 (テキストが \fB$\fP で始まる場合)、
ユーザ名 (テキストが \fB~\fP で始まる場合)、
ホスト名 (テキストが \fB@\fP で始まる場合)、
コマンド (エイリアスや関数も含みます) の順序でマッチを行います。
いずれにもマッチしない場合には、
ファイル名補完を試みます。
.TP
.B possible\-completions (M\-?)
.\"O List the possible completions of the text before point.
ポイントの前のテキストの補完候補を列挙します。
.TP
.B insert\-completions (M\-*)
.\"O Insert all completions of the text before point
.\"O that would have been generated by
.\"O \fBpossible\-completions\fP.
ポイントの前のテキストを補完して得られるものを全て挿入します。
挿入されるものは、\fBpossible\-completions\fP で列挙されるものと同じです。
.TP
.B menu\-complete
.\"O Similar to \fBcomplete\fP, but replaces the word to be completed
.\"O with a single match from the list of possible completions.
.\"O Repeated execution of \fBmenu\-complete\fP steps through the list
.\"O of possible completions, inserting each match in turn.
.\"O At the end of the list of completions, the bell is rung
.\"O (subject to the setting of \fBbell\-style\fP)
.\"O and the original text is restored.
.\"O An argument of \fIn\fP moves \fIn\fP positions forward in the list
.\"O of matches; a negative argument may be used to move backward
.\"O through the list.
.\"O This command is intended to be bound to \fBTAB\fP, but is unbound
.\"O by default.
\fBcomplete\fP コマンドに似ていますが、
補完される単語を補完候補リストのうちの 1 つと置換します。
\fBmenu\-complete\fP を繰り返して実行すると、
補完候補のリストが次々と順番に挿入されます。
補完リストの最後まで来るとベルが
(\fBbell\-style\fP の設定に基づいて)
鳴らされ、元のテキストに戻ります。
引き数 \fIn\fP を指定すると、リスト中の位置が \fIn\fP 個進みます。
負の引き数を指定すると、リスト中を逆向きに戻れます。
このコマンドは \fBTAB\fP に割り当てることを意図して用意されたものですが、
デフォルトでは割り当ては行われていません。
.TP
.B menu\-complete\-backward
.\"O Identical to \fBmenu\-complete\fP, but moves backward through the list
.\"O of possible completions, as if \fBmenu\-complete\fP had been given a
.\"O negative argument.  This command is unbound by default.
\fBmenu\-complete\fP コマンドに似ていますが、
\fBmenu\-complete\fP に負の引き数を与えたときのように、
補完候補のリストを逆向きに進みます。
このコマンドはデフォルトではキーに割り当てられていません。
.TP
.B delete\-char\-or\-list
.\"O Deletes the character under the cursor if not at the beginning or
.\"O end of the line (like \fBdelete\-char\fP).
.\"O If at the end of the line, behaves identically to
.\"O \fBpossible\-completions\fP.
.\"O This command is unbound by default.
カーソルが行頭や行末に無ければ、カーソルの下の文字を削除します
(\fBdelete\-char\fP と同様です)。
カーソルが行末にある場合は、
\fBpossible\-completions\fP と同じ動作をします。
このコマンドはデフォルトではキーに割り当てられていません。
.TP
.B complete\-filename (M\-/)
.\"O Attempt filename completion on the text before point.
ポイントの前のテキストについてファイル名の補完を試みます。
.TP
.B possible\-filename\-completions (C\-x /)
.\"O List the possible completions of the text before point,
.\"O treating it as a filename.
ポイントの前のテキストについて補完候補を列挙します。
テキストはファイル名として扱われます。
.TP
.B complete\-username (M\-~)
.\"O Attempt completion on the text before point, treating
.\"O it as a username.
ポイントの前のテキストについて補完を試みます。
テキストはユーザ名として扱われます。
.TP
.B possible\-username\-completions (C\-x ~)
.\"O List the possible completions of the text before point,
.\"O treating it as a username.
ポイントの前のテキストについて補完候補を列挙します。
テキストはユーザ名として扱われます。
.TP
.B complete\-variable (M\-$)
.\"O Attempt completion on the text before point, treating
.\"O it as a shell variable.
ポイントの前のテキストについて補完を試みます。
テキストはシェル変数として扱われます。
.TP
.B possible\-variable\-completions (C\-x $)
.\"O List the possible completions of the text before point,
.\"O treating it as a shell variable.
ポイントの前のテキストについて補完候補を列挙します。
テキストはシェル変数として扱われます。
.TP
.B complete\-hostname (M\-@)
.\"O Attempt completion on the text before point, treating
.\"O it as a hostname.
ポイントの前のテキストについて補完を試みます。
テキストはホスト名として扱います。
.TP
.B possible\-hostname\-completions (C\-x @)
.\"O List the possible completions of the text before point,
.\"O treating it as a hostname.
ポイントの前のテキストについて補完候補を列挙します。
テキストはホスト名として扱います。
.TP
.B complete\-command (M\-!)
.\"O Attempt completion on the text before point, treating
.\"O it as a command name.  Command completion attempts to
.\"O match the text against aliases, reserved words, shell
.\"O functions, shell builtins, and finally executable filenames,
.\"O in that order.
ポイントの前のテキストについて補完を試みます。
テキストはコマンド名として扱います。
コマンド補完の際にマッチングを試みる順序は、
エイリアス、予約語、シェル関数、シェルの組み込みコマンド、
実行ファイルです。
.TP
.B possible\-command\-completions (C\-x !)
.\"O List the possible completions of the text before point,
.\"O treating it as a command name.
ポイントの前のテキストについて補完候補を列挙します。
テキストはコマンド名として扱います。
.TP
.B dynamic\-complete\-history (M\-TAB)
.\"O Attempt completion on the text before point, comparing
.\"O the text against lines from the history list for possible
.\"O completion matches.
ポイントの前のテキストについて補完を試みます。
履歴リストの各行に対してテキストの比較が行われ、
マッチしたものが補完の候補となります。
.TP
.B dabbrev\-expand
.\"O Attempt menu completion on the text before point, comparing
.\"O the text against lines from the history list for possible
.\"O completion matches.
ポイントの前のテキストについてメニュー補完を試みます。
履歴リストの各行に対してテキストの比較が行われ、
マッチしたものが補完の候補となります。
.TP
.B complete\-into\-braces (M\-{)
.\"O Perform filename completion and insert the list of possible completions
.\"O enclosed within braces so the list is available to the shell (see
.\"O .B Brace Expansion
.\"O above).
ファイル名補完を実行し、補完候補のリストを挿入します。
シェルから利用可能なリストとなるように、
返される候補はブレースで括られます (前述の
.B ブレース展開
を参照)。
.PD
.\"O .SS Keyboard Macros
.SS キーボードマクロ
.PP
.PD 0
.TP
.B start\-kbd\-macro (C\-x (\^)
.\"O Begin saving the characters typed into the current keyboard macro.
現在のキーボードマクロに対して入力される文字列の保存を開始します。
.TP
.B end\-kbd\-macro (C\-x )\^)
.\"O Stop saving the characters typed into the current keyboard macro
.\"O and store the definition.
現在のキーボードマクロに対して入力された文字列の保存を終了し、
その定義を格納します。
.TP
.B call\-last\-kbd\-macro (C\-x e)
.\"O Re-execute the last keyboard macro defined, by making the characters
.\"O in the macro appear as if typed at the keyboard.
.\"O motoki: characters なので、文字列よりも各文字の方がよいかも。
最後に定義されたキーボードマクロを再実行します。
マクロ内の各文字があたかもキーボードから入力されたかのように出力されます。
.PD
.\"O .SS Miscellaneous
.SS その他
.PP
.PD 0
.TP
.B re\-read\-init\-file (C\-x C\-r)
.\"O Read in the contents of the \fIinputrc\fP file, and incorporate
.\"O any bindings or variable assignments found there.
\fIinputrc\fP ファイルの内容を読み込み、
このファイル中の割り当てや変数設定を取り込みます。
.TP
.B abort (C\-g)
.\"O Abort the current editing command and
.\"O ring the terminal's bell (subject to the setting of
.\"O .BR bell\-style ).
現在の編集行を捨て、端末のベルを鳴らします (動作は
.B bell\-style
の設定に従います)。
.TP
.B do\-uppercase\-version (M\-a, M\-b, M\-\fIx\fP, ...)
.\"O If the metafied character \fIx\fP is lowercase, run the command
.\"O that is bound to the corresponding uppercase character.
メタ文字と共に入力された文字 \fIx\fP が小文字であれば、
\fIx\fP に対応する大文字に割り当てられているコマンドを実行します。
.TP
.B prefix\-meta (ESC)
.\"O Metafy the next character typed.
.\"O .SM
.\"O .B ESC
.\"O .B f
.\"O is equivalent to
.\"O .BR Meta\-f .
次に入力される文字を、
メタ文字と共に入力されたことにします。
.SM
.B ESC
.B f
は
.B Meta\-f
と同じ意味です。
.TP
.B undo (C\-_, C\-x C\-u)
.\"O Incremental undo, separately remembered for each line.
インクリメンタルアンドゥを行います。
履歴は行ごとに別々に記憶されています。
.TP
.B revert\-line (M\-r)
.\"O Undo all changes made to this line.  This is like executing the
.\"O .B undo
.\"O command enough times to return the line to its initial state.
この行に対して行った変更を全て取り消します。
このコマンドは、行が初期状態に戻るまで
.B undo
コマンドを実行するようなものです。
.TP
.B tilde\-expand (M\-&)
.\"O Perform tilde expansion on the current word.
現在の単語についてチルダ展開を実行します。
.TP
.B set\-mark (C\-@, M\-<space>)
.\"O Set the mark to the point.  If a
.\"O numeric argument is supplied, the mark is set to that position.
ポイントにマークを設定します。
数字の引き数が与えられた場合には、
マークはその位置に設定されます。
.TP
.B exchange\-point\-and\-mark (C\-x C\-x)
.\"O Swap the point with the mark.  The current cursor position is set to
.\"O the saved position, and the old cursor position is saved as the mark.
ポイントをマークと入れ換えます。
保存されている位置が現在のカーソル位置になり、
古いカーソル位置がマークとして保存されます。
.TP
.B character\-search (C\-])
.\"O A character is read and point is moved to the next occurrence of that
.\"O character.  A negative count searches for previous occurrences.
.\"O motoki: 前方、後方って、どちらがいいのでしょう????
文字を 1 つ読み込み、
その文字が次に現われる場所にポイントを移動させます。
負のカウントを与えると、その文字が前に現われた場所を探します。
.TP
.B character\-search\-backward (M\-C\-])
.\"O A character is read and point is moved to the previous occurrence of that
.\"O character.  A negative count searches for subsequent occurrences.
文字を 1 つ読み込み、
その文字が前に現われた場所にポイントを移動させます。
負のカウントを与えると、その文字が次に現われる場所を探します。
.TP
.B skip\-csi\-sequence
.\"O Read enough characters to consume a multi-key sequence such as those
.\"O defined for keys like Home and End.  Such sequences begin with a
.\"O Control Sequence Indicator (CSI), usually ESC\-[.  If this sequence is
.\"O bound to "\e[", keys producing such sequences will have no effect
.\"O unless explicitly bound to a readline command, instead of inserting
.\"O stray characters into the editing buffer.  This is unbound by default,
.\"O but usually bound to ESC\-[.
.\"O motoki: もう少し分かりやすくならないかなぁ。
Home や End などのキーに定義されるような複数キーからなるシーケンスを
使い切るだけの文字を読み込みます。
これらのシーケンスは、通常 ESC\-[ で表されるコントロールシーケンス (CSI)
で始まります。
このシーケンスが "\e[" に割り当てられているとすると、
キーが明示的に readline のコマンドに割り当てられている場合を除き、
それらのシーケンスを生み出すキーは、
はぐれた文字を編集バッファに挿入されず、何もしません。
このコマンドはデフォルトではキーに割り当てられていませんが、
多くの場合 ESC\-[ に割り当てられます。
.TP
.B insert\-comment (M\-#)
.\"O Without a numeric argument, the value of the readline
.\"O .B comment\-begin
.\"O variable is inserted at the beginning of the current line.
.\"O If a numeric argument is supplied, this command acts as a toggle:  if
.\"O the characters at the beginning of the line do not match the value
.\"O of \fBcomment\-begin\fP, the value is inserted, otherwise
.\"O the characters in \fBcomment\-begin\fP are deleted from the beginning of 
.\"O the line.
.\"O In either case, the line is accepted as if a newline had been typed.
.\"O The default value of
.\"O \fBcomment\-begin\fP causes this command to make the current line
.\"O a shell comment.
.\"O If a numeric argument causes the comment character to be removed, the line
.\"O will be executed by the shell.
数字の引き数を指定しない場合、readline の
.B comment\-begin
変数の値が現在の行の先頭に挿入されます。
数字の引き数を指定すると、トグル状に動作します。
つまり、行の先頭の文字が \fBcomment\-begin\fP の値にマッチしない場合には、
その値が挿入されます。マッチする場合には、\fBcomment\-begin\fP
の文字が行の先頭から削除されます。
.\"O motoki: ????? 原文がよく分からない。
.\" emasaka: 実際の動作はトグルのため、意訳
いずれの場合も、改行が打ち込まれたのと同じように行の入力が完了します。
\fBcomment\-begin\fP のデフォルト値によって、
このコマンドは現在の行をシェルのコメントとします。
数字の引き数を指定したことでコメントの文字が削除されると、
行はシェルにより実行されます。
.TP
.B glob\-complete\-word (M\-g)
.\"O The word before point is treated as a pattern for pathname expansion,
.\"O with an asterisk implicitly appended.  This pattern is used to
.\"O generate a list of matching file names for possible completions.
ポイントの前の単語がパス名展開のパターンとして扱われます。
末尾に暗黙のアスタリスクが付いているものとみなされます。
このパターンを使って補完候補のファイル名のリストが生成されます。
.TP
.B glob\-expand\-word (C\-x *)
.\"O The word before point is treated as a pattern for pathname expansion,
.\"O and the list of matching file names is inserted, replacing the word.
.\"O If a numeric argument is supplied, an asterisk is appended before
.\"O pathname expansion.
ポイントの前の単語がパス名展開のパターンとして扱われ、
この単語と置き換えられる形でマッチするファイル名のリストが挿入されます。
数字の引き数を与えると、パス名展開の前に末尾にアスタリスクを追加します。
.TP
.B glob\-list\-expansions (C\-x g)
.\"O The list of expansions that would have been generated by
.\"O .B glob\-expand\-word
.\"O is displayed, and the line is redrawn.
.\"O If a numeric argument is supplied, an asterisk is appended before
.\"O pathname expansion.
.B glob\-expand\-word
で生成されるのと同じ展開結果のリストが表示され、
行が再描画されます。
数字の引き数を与えると、パス名展開の前に末尾にアスタリスクを追加します。
.TP
.B dump\-functions
.\"O Print all of the functions and their key bindings to the
.\"O readline output stream.  If a numeric argument is supplied,
.\"O the output is formatted in such a way that it can be made part
.\"O of an \fIinputrc\fP file.
全ての関数とそのキー割り当てを、
readline の出力ストリームに出力します。
数値の引き数を与えると、
出力は \fIinputrc\fP に書き込める形に整形されます。
.TP
.B dump\-variables
.\"O Print all of the settable readline variables and their values to the
.\"O readline output stream.  If a numeric argument is supplied,
.\"O the output is formatted in such a way that it can be made part
.\"O of an \fIinputrc\fP file.
全ての設定可能な readline の変数とその値を、
readline の出力ストリームに出力します。
数値の引き数を与えると、
出力は \fIinputrc\fP に書き込める形に整形されます。
.TP
.B dump\-macros
.\"O Print all of the readline key sequences bound to macros and the
.\"O strings they output.  If a numeric argument is supplied,
.\"O the output is formatted in such a way that it can be made part
.\"O of an \fIinputrc\fP file.
マクロに割り当てられた readline のキーシーケンスと
マクロが出力する文字列を全て出力します。
数値の引き数を与えると、
出力は \fIinputrc\fP に書き込める形に整形されます。
.TP
.B display\-shell\-version (C\-x C\-v)
.\"O Display version information about the current instance of
.\"O .BR bash .
現在実行している
.B bash
のバージョン情報を表示します。
.PD
.\"O .SS Programmable Completion
.SS プログラム補完
.PP
.\"O When word completion is attempted for an argument to a command for
.\"O which a completion specification (a \fIcompspec\fP) has been defined
.\"O using the \fBcomplete\fP builtin (see
.\"O .SM
.\"O .B "SHELL BUILTIN COMMANDS"
.\"O below), the programmable completion facilities are invoked.
.\"O motoki: セクション名では programmable completion は「プログラム補完」
\fBcomplete\fP 組み込みコマンドで
補完仕様 (\fIcompspec\fP) が定義されているコマンドに対して
引き数の単語補完が試みられると、
プログラム補完の機能が呼び出されます
(組み込みコマンド \fBcomplete\fP については、後述する
.SM
.B "シェルの組み込みコマンド"
を参照)。
.PP
.\"O First, the command name is identified.
.\"O If the command word is the empty string (completion attempted at the
.\"O beginning of an empty line), any compspec defined with
.\"O the \fB\-E\fP option to \fBcomplete\fP is used.
.\"O If a compspec has been defined for that command, the
.\"O compspec is used to generate the list of possible completions for the word.
.\"O If the command word is a full pathname, a compspec for the full
.\"O pathname is searched for first.
.\"O If no compspec is found for the full pathname, an attempt is made to
.\"O find a compspec for the portion following the final slash.
.\"O If those searches do not result in a compspec, any compspec defined with
.\"O the \fB\-D\fP option to \fBcomplete\fP is used as the default.
まず、コマンド名が特定されます。
コマンド名の単語が空文字列であれば (空の行の先頭で補完しようとしたとき)、
\fBcomplete\fP の \fB\-E\fP オプションで定義された補完仕様が使われます。
そのコマンドに対して補完仕様が定義されていれば、
その補完仕様がその単語の補完候補のリスト生成に使われます。
コマンドの単語がフルパス名であれば、
最初にフルパス名の補完仕様が検索されます。
フルパス名に対する補完仕様が見つからなかった場合は、
最後のスラッシュ以降の部分に対して該当する補完仕様を見つけようとします。
補完仕様が見つからなかった場合は、
\fBcomplete\fP の \fB\-D\fP オプションで定義された補完仕様が使われます。
.PP
.\"O Once a compspec has been found, it is used to generate the list of
.\"O matching words.
.\"O If a compspec is not found, the default \fBbash\fP completion as
.\"O described above under \fBCompleting\fP is performed.
補完仕様が見つかると、その補完仕様を使って
マッチする単語のリストが生成されます。
補完仕様が見つからなかった場合は、
前述の \fB補完\fP の節で説明したような
\fBbash\fP のデフォルトの補完が行われます。
.PP
.\"O First, the actions specified by the compspec are used.
.\"O Only matches which are prefixed by the word being completed are
.\"O returned.
.\"O When the
.\"O .B \-f
.\"O or
.\"O .B \-d
.\"O option is used for filename or directory name completion, the shell
.\"O variable
.\"O .B FIGNORE
.\"O is used to filter the matches.
まず、補完仕様で指定された動作が用いられます。
補完される単語の前置部分にマッチするものだけが返されます。
ファイル名やディレクトリ名の補完に
.B \-f
や
.B \-d
オプションが使用された場合は、シェル変数
.SM
.B FIGNORE
がマッチのフィルタとして使用されます。
.PP
.\"O Any completions specified by a pathname expansion pattern to the
.\"O \fB\-G\fP option are generated next.
.\"O The words generated by the pattern need not match the word
.\"O being completed.
.\"O The
.\"O .SM
.\"O .B GLOBIGNORE
.\"O shell variable is not used to filter the matches, but the
.\"O .SM
.\"O .B FIGNORE
.\"O variable is used.
続いて
\fB\-G\fP オプションによって指定された
ファイル名展開パターンの補完が生成されます。
パターンによって生成された単語は、
補完される単語とマッチする必要はありません。
.SM
.B GLOBIGNORE
シェル変数はマッチのフィルタとしては使われませんが、
.SM
.B FIGNORE
変数は使用されます。
.PP
.\"O Next, the string specified as the argument to the \fB\-W\fP option
.\"O is considered.
.\"O The string is first split using the characters in the
.\"O .SM
.\"O .B IFS
.\"O special variable as delimiters.
.\"O Shell quoting is honored.
次に、
\fB\-W\fP オプションで指定された引き数の文字列が考慮されます。
文字列は、最初に
.SM
.B IFS
特殊変数の文字を区切り文字として分割されます。
シェルのクォート処理は考慮されます。
.\"O Each word is then expanded using
.\"O brace expansion, tilde expansion, parameter and variable expansion,
.\"O command substitution, and arithmetic expansion,
.\"O as described above under 
.\"O .SM
.\"O .BR EXPANSION .
それぞれの単語は、前述の
.SM
.B 展開
で示したように、ブレース展開、チルダ展開、パラメータと変数の展開、
コマンド置換、算術式展開、パス名展開が行われます。
.\"O The results are split using the rules described above under
.\"O \fBWord Splitting\fP.
.\"O The results of the expansion are prefix-matched against the word being
.\"O completed, and the matching words become the possible completions.
結果は、前述の\fB単語の分割\fPで示した規則によって分割されます。
展開の結果は補完される単語の前置部分とマッチが行われ、
マッチした単語が補完候補となります。
.PP
.\"O After these matches have been generated, any shell function or command
.\"O specified with the \fB\-F\fP and \fB\-C\fP options is invoked.
これらのマッチが生成された後、
シェル関数や \fB\-F\fP や
\fB\-C\fP オプションで指定されたコマンドが呼び出されます。
.\"O When the command or function is invoked, the
コマンドや関数が呼び出されるときは、
.SM
.BR COMP_LINE ,
.SM
.BR COMP_POINT ,
.SM
.BR COMP_KEY ,
.\"O and
.SM
.B COMP_TYPE
.\"O variables are assigned values as described above under
.\"O \fBShell Variables\fP.
変数に前述の\fBシェル変数\fPで示すように値が設定されます。
.\"O If a shell function is being invoked, the 
.\"O .SM
.\"O .B COMP_WORDS
.\"O and
.\"O .SM
.\"O .B COMP_CWORD
.\"O variables are also set.
シェル関数が呼び出される場合は、
.SM
.B COMP_WORDS
と
.SM
.B COMP_CWORD
変数も設定されます。
.\"O When the function or command is invoked, the first argument is the
.\"O name of the command whose arguments are being completed, the
.\"O second argument is the word being completed, and the third argument
.\"O is the word preceding the word being completed on the current command line.
.\"O No filtering of the generated completions against the word being completed
.\"O is performed; the function or command has complete freedom in generating
.\"O the matches.
関数やコマンドが呼び出されるときは、
最初の引き数は引き数が補完されるコマンドの名前、
二番目の引き数は補完される単語、
三番目の引き数は現在のコマンドラインで補完中の単語の
前に置かれる単語となります。
補完される単語に対して生成された補完の候補はフィルタリングされません。
関数やコマンドは生成されたマッチとは無関係に補完されます。
.PP
.\"O Any function specified with \fB\-F\fP is invoked first.
.\"O The function may use any of the shell facilities, including the
.\"O \fBcompgen\fP builtin described below, to generate the matches.
.\"O It must put the possible completions in the
.\"O .SM
.\"O .B COMPREPLY
.\"O array variable.
\fB\-F\fP で指定された関数がまず呼び出されます。
関数は、後述する \fBcompgen\fP 組み込みコマンドを含めた、
全てのシェルの機能を使ってマッチを生成します。
補完候補は必ず
.SM
.B COMPREPLY
配列変数に格納されます。
.PP
.\"O Next, any command specified with the \fB\-C\fP option is invoked
.\"O in an environment equivalent to command substitution.
.\"O It should print a list of completions, one per line, to the
.\"O standard output.
.\"O Backslash may be used to escape a newline, if necessary.
続いて \fB\-C\fP オプションで指定されたコマンドが呼び出され、
環境変数をコマンド置換します。
このコマンドは、補完候補を 1 行にひとつずつ標準出力に出力します。
必要があれば、バックスラッシュが改行をエスケープするために使用されます。
.PP
.\"O After all of the possible completions are generated, any filter
.\"O specified with the \fB\-X\fP option is applied to the list.
.\"O The filter is a pattern as used for pathname expansion; a \fB&\fP
.\"O in the pattern is replaced with the text of the word being completed.
.\"O A literal \fB&\fP may be escaped with a backslash; the backslash
.\"O is removed before attempting a match.
.\"O Any completion that matches the pattern will be removed from the list.
.\"O A leading \fB!\fP negates the pattern; in this case any completion
.\"O not matching the pattern will be removed.
全ての補完候補が生成された後で、
\fB\-X\fP オプションで指定されたフィルタが補完候補に作用します。
フィルタは、パス名展開で使用されたようなパターンです。パターン中の
\fB&\fP は補完される単語に置換されます。
文字通りの \fB&\fP はバックスラッシュでエスケープします。
バックスラッシュはマッチを試みる前に削除されます。
パターンにマッチした補完は候補から削除されます。
先行する \fB!\fP はパターンを否定します。
この場合、パターンにマッチしなかった補完が削除されます。
.PP
.\"O Finally, any prefix and suffix specified with the \fB\-P\fP and \fB\-S\fP
.\"O options are added to each member of the completion list, and the result is
.\"O returned to the readline completion code as the list of possible
.\"O completions.
最後に、\fB\-P\fP と \fB\-S\fP オプションで指定された
前置部分と後置部分が補完候補のそれぞれに加えられます。
そして結果が readline 補完コードに補完候補のリストとして返されます。
.PP
.\"O If the previously-applied actions do not generate any matches, and the
.\"O \fB\-o dirnames\fP option was supplied to \fBcomplete\fP when the
.\"O compspec was defined, directory name completion is attempted.
直前に行われた動作が何にもマッチせず、
補完仕様が定義されたときに
\fB\-o dirnames\fP オプションが \fBcomplete\fP に与えられていれば、
ディレクトリ名への補完が試みられます。
.PP
.\"O If the \fB\-o plusdirs\fP option was supplied to \fBcomplete\fP when the
.\"O compspec was defined, directory name completion is attempted and any
.\"O matches are added to the results of the other actions.
補完仕様が定義されたときに
\fB\-o plusdirs\fP オプションが \fBcomplete\fP に与えられていれば、
ディレクトリ名への補完が試みられ、マッチした候補が全て
ほかの動作の結果に付け加えられます。
.PP
.\"O By default, if a compspec is found, whatever it generates is returned
.\"O to the completion code as the full set of possible completions.
.\"O The default \fBbash\fP completions are not attempted, and the readline
.\"O default of filename completion is disabled.
.\"O If the \fB\-o bashdefault\fP option was supplied to \fBcomplete\fP when
.\"O the compspec was defined, the \fBbash\fP default completions are attempted
.\"O if the compspec generates no matches.
.\"O If the \fB\-o default\fP option was supplied to \fBcomplete\fP when the
.\"O compspec was defined, readline's default completion will be performed
.\"O if the compspec (and, if attempted, the default \fBbash\fP completions)
.\"O generate no matches.
デフォルトでは、補完仕様が見つかった場合、
それが生成したものがなんであれ、
全ての補完候補のリストとして、補完コードに返されます。
デフォルトの \fBbash\fP 補完は試みられず、
readline のデフォルトのファイル名補完は無効になります。
補完仕様が定義されたときに
\fB\-o bashdefault\fP オプションが \fBcomplete\fP に与えられていれば、
補完仕様が何にもマッチしなければ
\fBbash\fP のデフォルトの補完が試みられます。
補完仕様が定義されたときに
.B \-o default
オプションが
.B complete
に与えられていれば、
補完仕様が (試みられていれば、デフォルトの \fBbash\fP の補完も)
何にもマッチしなければ
readline のデフォルトの補完が行われます。
.PP
.\"O When a compspec indicates that directory name completion is desired,
.\"O the programmable completion functions force readline to append a slash
.\"O to completed names which are symbolic links to directories, subject to  
.\"O the value of the \fBmark\-directories\fP readline variable, regardless
.\"O of the setting of the \fBmark-symlinked\-directories\fP readline variable.
補完仕様でディレクトリ名の補完が必要とされる場合、
プログラム補完の関数は readline に、
ディレクトリへのシンボリックリンクに補完された名前の最後に
スラッシュを追加させます。
これは readline の変数\fBmark-symlinked\-directories\fP の設定に関わらず、
readline の変数 \fBmark\-directories\fP の値に左右されます。
.PP
.\"O There is some support for dynamically modifying completions.  This is
.\"O most useful when used in combination with a default completion specified
.\"O with \fBcomplete -D\fP.
.\"O It's possible for shell functions executed as completion
.\"O handlers to indicate that completion should be retried by returning an
.\"O exit status of 124.  If a shell function returns 124, and changes
.\"O the compspec associated with the command on which completion is being
.\"O attempted (supplied as the first argument when the function is executed),
.\"O programmable completion restarts from the beginning, with an
.\"O attempt to find a new compspec for that command.  This allows a set of
.\"O completions to be built dynamically as completion is attempted, rather than
.\"O being loaded all at once.
動的に補完を変えるための方法があります。
これは \fBcomplete -D\fP で指定されたデフォルトの補完と
組み合わせたときに非常に便利です。
補完の処理のために実行されたシェル関数は、終了ステータスとして
124 を返すことで、補完を再度試みることを指示できます。
シェル関数が 124 を返し、補完が試みられるコマンド
(関数が実行されるときの第 1 引き数) に対して定義された補完仕様が
変更されていれば、プログラム補完はコマンドの新しい補完仕様を
探すために最初からやり直されます。
これにより一連の補完が、一度に読み込まれるのではなく、
補完が試みられるときに動的に組み立てられます。
.PP
.\"O For instance, assuming that there is a library of compspecs, each kept in a
.\"O file corresponding to the name of the command, the following default
.\"O completion function would load completions dynamically:
例えば、補完仕様のライブラリがあり、それぞれがコマンドの名前に
合わせたファイルに保存されていると仮定すると、
以下のデフォルトの補完関数は補完を動的に読み込みます。
.PP
\f(CW_completion_loader()
.br
{
.br
	. "/etc/bash_completion.d/$1.sh" >/dev/null 2>&1 && return 124
.br
}
.br
complete -D -F _completion_loader
.br
\fP
.\"O .SH HISTORY
.SH 履歴 (HISTORY)
.\"O When the
.\"O .B \-o history
.\"O option to the
.\"O .B set
.\"O builtin is enabled, the shell provides access to the
.\"O \fIcommand history\fP,
.\"O the list of commands previously typed.
.B \-o history
オプションを組み込みコマンドの
.B set
で有効にすると、
\fIコマンド履歴 (command history)\fP (以前に入力したコマンドのリスト)
にアクセスできるようになります。
.\"O The value of the
.\"O .SM
.\"O .B HISTSIZE
.\"O variable is used as the
.\"O number of commands to save in a history list.
.\"O The text of the last
.\"O .SM
.\"O .B HISTSIZE
.\"O commands (default 500) is saved.  The shell
.\"O stores each command in the history list prior to parameter and
.\"O variable expansion (see
.\"O .SM
.\"O .B EXPANSION
.\"O above) but after history expansion is performed, subject to the
.\"O values of the shell variables
.\"O .SM
.\"O .B HISTIGNORE
.\"O and
.\"O .SM
.\"O .BR HISTCONTROL .
変数
.SM HISTSIZE
の値が、履歴リストに保存するコマンドの数になります。
過去に入力したコマンドのうち、最新
.SM
.B HISTSIZE
個分 (デフォルトは 500 個) のテキストが保存されます。
シェルは各コマンドを、パラメータ展開や変数展開
(前述の
.SM
.B 展開
を参照) を行う前の形で履歴リストに格納します。
ただし、履歴展開は実行してから格納します。
履歴展開はシェル変数
.SM
.B HISTIGNORE
と
.SM
.BR HISTCONTROL
の値に従って実行されます。
.PP
.\"O On startup, the history is initialized from the file named by
.\"O the variable
.\"O .SM
.\"O .B HISTFILE
.\"O (default \fI~/.bash_history\fP).
.\"O The file named by the value of
.\"O .SM
.\"O .B HISTFILE
.\"O is truncated, if necessary, to contain no more than
.\"O the number of lines specified by the value of
.\"O .SM
.\"O .BR HISTFILESIZE .
起動時に、履歴は変数
.SM
.B HISTFILE
(デフォルトは \fI~/.bash_history\fP)
が示すファイルの内容で初期化されます。
.SM
.B HISTFILE
で指定されたファイルは、
.SM
.B HISTFILESIZE
で指定された行数を越えないように、必要に応じて切り詰められます。
.\"O When the history file is read,
.\"O lines beginning with the history comment character followed immediately
.\"O by a digit are interpreted as timestamps for the preceding history line.
.\"O These timestamps are optionally displayed depending on the value of the
.\"O .SM
.\"O .B HISTTIMEFORMAT
.\"O variable.
履歴ファイルを読み込むときに、履歴のコメント文字で始まり直後に数字が続く行は、
直前の履歴行のタイムスタンプとして解釈されます。
こうしたタイムスタンプを表示するかどうかは、変数
.SM
.B HISTTIMEFORMAT
の値により決まります。
.\"O When an interactive shell exits, the last
.\"O .SM
.\"O .B $HISTSIZE
.\"O lines are copied from the history list to
.\"O .SM
.\"O .BR $HISTFILE .
対話的なシェルが終了する際には、最近の
.SM
.B $HISTSIZE
個の行が履歴リストから
.SM
.B $HISTFILE
にコピーされます。
.\"O If the
.\"O .B histappend
.\"O shell option is enabled
.\"O (see the description of
.\"O .B shopt
.\"O under
.\"O .SM
.\"O .B "SHELL BUILTIN COMMANDS"
.\"O below), the lines are appended to the history file,
.\"O otherwise the history file is overwritten.
シェルオプション
.B histappend
(
.SM
.B シェルの組み込みコマンド
の項の
.B shopt
の説明を参照) が有効になっていると、
これらの行が履歴ファイルの末尾に追加されます。
このオプションが無効ならば、履歴ファイルは上書きされます。
.\"O If
.\"O .SM
.\"O .B HISTFILE
.\"O is unset, or if the history file is unwritable, the history is
.\"O not saved.
.SM
.B HISTFILE
が設定されていないか、履歴ファイルが書き込めない状態だと、
履歴は保存されません。
.\"O If the
.\"O .B HISTTIMEFORMAT
.\"O variable is set, time stamps are written to the history file, marked
.\"O with the history comment character, so
.\"O they may be preserved across shell sessions.
.\"O This uses the history comment character to distinguish timestamps from
.\"O other history lines.
変数
.SM
.B HISTTIMEFORMAT
が設定されている場合、シェルのセッションを越えて保持されるよう、
タイムスタンプが履歴のコメント文字を付けて履歴ファイルに書き込まれます。
履歴のコメント文字は、タイムスタンプをほかの履歴行と区別するために使われます。
.\"O After saving the history, the history file is truncated
.\"O to contain no more than
.\"O .SM
.\"O .B HISTFILESIZE
.\"O lines.  If
.\"O .B HISTFILESIZE
.\"O is not set, no truncation is performed.
履歴の保存を行った後には、履歴ファイルは行数が
.SM
.B HISTFILESIZE
行を越えないように切り詰められます。
.SM
.B HISTFILESIZE
が設定されていなければ、切り詰めは行われません。
.PP
.\"O The builtin command
.\"O .B fc
.\"O (see
.\"O .SM
.\"O .B SHELL BUILTIN COMMANDS
.\"O below) may be used to list or edit and re-execute a portion of
.\"O the history list.
組み込みコマンド
.B fc
(後述の
.SM
.B シェルの組み込みコマンド
を参照) を用いると、履歴リストの一部を表示・編集して再実行できます。
.\"O The
.\"O .B history
.\"O builtin may be used to display or modify the history list and
.\"O manipulate the history file.
.\"O When using command-line editing, search commands
.\"O are available in each editing mode that provide access to the
.\"O history list.
組み込みコマンドの
.B history
を用いると、履歴リストを表示・編集したり、
履歴ファイルを操作したりできます。
コマンドライン編集を使っている場合には、
各編集モードでいろいろな検索コマンドが利用でき、
履歴リストへアクセスできます。
.PP
.\"O The shell allows control over which commands are saved on the history
.\"O list.  The
.\"O .SM
.\"O .B HISTCONTROL
.\"O and
.\"O .SM
.\"O .B HISTIGNORE
.\"O variables may be set to cause the shell to save only a subset of the
.\"O commands entered.
このシェルでは、どのコマンドが履歴リストに保存されるかを制御できます。
.SM
.B HISTCONTROL
変数と
.SM
.B HISTIGNORE
変数を設定すると、
シェルは入力されたコマンドの一部しか保存しなくなります。
.\"O The
.\"O .B cmdhist
.\"O shell option, if enabled, causes the shell to attempt to save each
.\"O line of a multi-line command in the same history entry, adding
.\"O semicolons where necessary to preserve syntactic correctness.
シェルオプションの
.B cmdhist
を有効にすると、シェルは複数行に別れているコマンドの各行を
同じ履歴エントリに保存しようとします。
この際には、文法的な正しさを保つためにセミコロンが必要に応じて追加されます。
.\"O The
.\"O .B lithist
.\"O shell option causes the shell to save the command with embedded newlines
.\"O instead of semicolons.  See the description of the
.\"O .B shopt
.\"O builtin below under
.\"O .SM
.\"O .B "SHELL BUILTIN COMMANDS"
.\"O for information on setting and unsetting shell options.
シェルオプションの
.B lithist
を有効にすると、このシェルは行の途中に
セミコロンではなく改行文字を置く形でコマンドを保存します。
シェルオプションの設定と設定取り消しについては、後述の
.SM
.B シェルの組み込みコマンド
における説明を参照してください。
.\"O .SH "HISTORY EXPANSION"
.SH 履歴の展開
.PP
.\"O The shell supports a history expansion feature that
.\"O is similar to the history expansion in
.\"O .BR csh.
.\"O This section describes what syntax features are available.  This
.\"O feature is enabled by default for interactive shells, and can be
.\"O disabled using the
.\"O .B \+H
.\"O option to the
.\"O .B set
.\"O builtin command (see
.\"O .SM
.\"O .B SHELL BUILTIN COMMANDS
.\"O below).  Non-interactive shells do not perform history expansion
.\"O by default.
このシェルは、
.B csh
の履歴展開と同じような履歴機能をサポートしています。
このセクションでは、履歴展開で使用できる記法・機能を説明します。
この機能は対話的シェルならばデフォルトで有効になっていますが、
組み込みコマンド
.B set
の
.B \+H
オプション (後述の
.SM
.B シェルの組み込みコマンド
を参照) で無効にできます。
非対話的シェルの場合は、デフォルトでは履歴展開は行われません。
.PP
.\"O History expansions introduce words from the history list into
.\"O the input stream, making it easy to repeat commands, insert the
.\"O arguments to a previous command into the current input line, or
.\"O fix errors in previous commands quickly.
履歴展開は、履歴リスト中の単語を入力ストリームに入れます。
この機能を利用すると、コマンドを繰り返したり、
前のコマンドで指定したオプションを現在の入力行に挿入したり、
前のコマンドの誤りを手早く直したり、
といったことが簡単にできるようになります。
.PP
.\"O History expansion is performed immediately after a complete line
.\"O is read, before the shell breaks it into words.
.\"O It takes place in two parts.
.\"O The first is to determine which line from the history list
.\"O to use during substitution.
.\"O The second is to select portions of that line for inclusion into
.\"O the current one.
.\"O The line selected from the history is the \fIevent\fP,
.\"O and the portions of that line that are acted upon are \fIwords\fP.
.\"O Various \fImodifiers\fP are available to manipulate the selected words.
.\"O The line is broken into words in the same fashion as when reading input,
.\"O so that several \fImetacharacter\fP-separated words surrounded by
.\"O quotes are considered one word.
.\"O History expansions are introduced by the appearance of the
.\"O history expansion character, which is \^\fB!\fP\^ by default.
.\"O Only backslash (\^\fB\e\fP\^) and single quotes can quote
.\"O the history expansion character.
履歴展開が実行されるのは、入力行全体を読み込んだ直後であり、
シェルが行を単語に分割するよりも前です。
履歴展開の動作は 2 段階で行われます。
まず最初に、置換に使う行を履歴リストから選びます。
次に、その行のどの部分を現在の行に書き込むかを選択します。
履歴リストから選ばれた行は\fIイベント (event)\fP と呼ばれ、
この行のうち動作の対象となる部分を\fI単語列 (words)\fPと呼びます。
様々な\fI修飾子 (modifier)\fP が利用でき、
選択された単語列の操作が可能になっています。
行の単語への分割は入力を読み込むときと同じように行われるので、
\fIメタ文字\fPで区切られた複数の単語をクォートで括ったものは
1 つの単語とみなされます。
履歴展開が行われるのは、履歴展開文字が現われたときです。
履歴展開文字はデフォルトでは \^\fB!\fP\^ です。
履歴展開文字をクォートできるのは、
バックスラッシュ (\^\fB\e\fP\^) とシングルクォートだけです。
.PP
.\"O Several characters inhibit history expansion if found immediately
.\"O following the history expansion character, even if it is unquoted:
.\"O space, tab, newline, carriage return, and \fB=\fP.
.\"O If the \fBextglob\fP shell option is enabled, \fB(\fP will also
.\"O inhibit expansion.
履歴展開文字の直後にあって、クォートされていなくても、
履歴展開されない文字があります。
空白文字、タブ文字、改行文字、復帰文字、\fB=\fP です。
シェルオプションの \fBextglob\fP が有効になっている場合には、
\fB(\fP も展開されません。
.PP
.\"O Several shell options settable with the
.\"O .B shopt
.\"O builtin may be used to tailor the behavior of history expansion.
組み込みコマンドの
.B shopt
を用いて、何種類かあるシェルオプションを設定すると、
履歴展開の動作を調整できます。
.\"O If the
.\"O .B histverify
.\"O shell option is enabled (see the description of the
.\"O .B shopt
.\"O builtin below), and
.\"O .B readline
.\"O is being used, history substitutions are not immediately passed to
.\"O the shell parser.
シェルオプションの
.B histverify
が有効で (組み込みコマンド
.B shopt
の説明を参照)、かつ
.B readline
が使われている場合には、
履歴置換を行った結果はすぐにはシェルのパーザに渡されません。
.\"O Instead, the expanded line is reloaded into the
.\"O .B readline
.\"O editing buffer for further modification.
.\"O If
展開された行は
.B readline
の編集バッファに再び読み込まれ、さらに編集が行える状態になります。
.\"O .B readline
.\"O is being used, and the
.\"O .B histreedit
.\"O shell option is enabled, a failed history substitution will be reloaded
.\"O into the
.\"O .B readline
.\"O editing buffer for correction.
.B readline
を使用しており、かつシェルオプションの
.B histreedit
が有効である場合、履歴置換が失敗してもその結果は
.B readline
の編集バッファに再び読み込まれ、訂正できる状態となります。
.\"O The
.\"O .B \-p
.\"O option to the
.\"O .B history
.\"O builtin command may be used to see what a history expansion will
.\"O do before using it.
.\"O The
.\"O .B \-s
.\"O option to the
.\"O .B history
.\"O builtin may be used to add commands to the end of the history list
.\"O without actually executing them, so that they are available for
.\"O subsequent recall.
組み込みコマンド
.B history
の
.B \-p
オプションを使うと、実際に履歴展開を行う前に、
どのように展開されるのかを見ることができます。
組み込みコマンド
.B history
の
.B \-s
オプションを使うと、実際にコマンドの実行をせずに、
コマンドを履歴リストの末尾に追加でき、
それ以降の呼び出しで利用できるようになります。
.PP
.\"O The shell allows control of the various characters used by the
.\"O history expansion mechanism (see the description of
.\"O .B histchars
.\"O above under
.\"O .BR "Shell Variables" ).
このシェルでは、履歴展開機構で使ういろいろな文字を制御できます
(前述の
.BR シェル変数
の項目における
.B histchars
の説明を参照)。
.\"O The shell uses
.\"O the history comment character to mark history timestamps when
.\"O writing the history file.
シェルは、履歴ファイルに書き込むときに、履歴のコメント文字を使って、
履歴のタイムスタンプであることが分かるようにします。
.\"O .SS Event Designators
.SS イベント指示子 (Event Designator)
.PP
.\"O An event designator is a reference to a command line entry in the
.\"O history list.
.\"O Unless the reference is absolute, events are relative to the current
.\"O position in the history list.
イベント指示子は、
履歴リスト中のコマンドラインエントリを参照するものです。
絶対位置の参照でない限り、イベントは履歴リスト内の
現在の位置からの相対的な位置を示します。
.PP
.PD 0
.TP
.B !
.\"O Start a history substitution, except when followed by a
.\"O .BR blank ,
.\"O newline, carriage return, =
.\"O or ( (when the \fBextglob\fP shell option is enabled using
.\"O the \fBshopt\fP builtin).
履歴置換を開始します。ただし、
.BR ブランク文字 、
改行文字、 = 、
( (シェルオプション \fBextglob\fP が組み込みコマンド \fBshopt\fP
によって有効になっている場合) のいずれかが後に続く場合は除きます。
.TP
.B !\fIn\fR
.\"O Refer to command line
.\"O .IR n .
.I n
個目のコマンドラインを参照します。
.TP
.B !\-\fIn\fR
.\"O Refer to the current command minus
.\"O .IR n .
現在から
.I n
個前のコマンドを参照します。
.TP
.B !!
.\"O Refer to the previous command.  This is a synonym for `!\-1'.
直前のコマンドを参照します。`!\-1' と同義です。
.TP
.B !\fIstring\fR
.\"O Refer to the most recent command preceding the current position in the
.\"O history list starting with
.\"O .IR string .
.I string
で始まるコマンドのうち、履歴リスト中の現在位置以前で、
一番近いところで実行したものを参照します。
.TP
.B !?\fIstring\fR\fB[?]\fR
.\"O Refer to the most recent command preceding the current postition in the
.\"O history list containing
.\"O .IR string .
.\"O The trailing \fB?\fP may be omitted if
.\"O .I string
.\"O is followed immediately by a newline.
.I string
を含むコマンドのうち、履歴リスト中の現在位置以前で、
一番近いところで実行したものを参照します。
.I string
の直後が改行文字ならば、最後の \fB?\fP は省略してもかまいません。
.TP
.B \d\s+2^\s-2\u\fIstring1\fP\d\s+2^\s-2\u\fIstring2\fP\d\s+2^\s-2\u
.\"O Quick substitution.  Repeat the previous command, replacing
.\"O .I string1
.\"O with
.\"O .IR string2 .
.\"O Equivalent to
.\"O ``!!:s/\fIstring1\fP/\fIstring2\fP/''
.\"O (see \fBModifiers\fP below).
簡易置換。
.I string1
を
.I string2
に置換して直前のコマンドを繰り返します。
``!!:s/\fIstring1\fP/\fIstring2\fP/'' と同義です
(後述の\fB修飾子\fPを参照)。
.TP
.B !#
.\"O The entire command line typed so far.
これまでに打ち込んだコマンドライン全体。
.PD
.\"O .SS Word Designators
.SS 単語指示子 (Word Designators)
.PP
.\"O Word designators are used to select desired words from the event.
.\"O A 
.\"O .B :
.\"O separates the event specification from the word designator.
単語指示子 (word designator) は、
イベントから所望の欲しい単語を選ぶときに用いられます。
イベント指定と単語指示子のセパレータには
.B :
を用います。
.\"O It may be omitted if the word designator begins with a
.\"O .BR ^ ,
.\"O .BR $ ,
.\"O .BR * ,
.\"O .BR \- ,
.\"O or
.\"O .BR % .
.\"O Words are numbered from the beginning of the line,
.\"O with the first word being denoted by 0 (zero).
.\"O Words are inserted into the current line separated by single spaces.
単語指示子が
.BR ^ ,
.BR $ ,
.BR * ,
.BR \- ,
.BR %
のいずれかで始まる場合には、このセパレータは省略できます。
単語には行の先頭から順に番号が振られ、
先頭の単語が 0 になります。
単語は現在の行に、空白 1 つで区切られて挿入されます。
.PP
.PD 0
.TP
.\"O .B 0 (zero)
.\"O The zeroth word.  For the shell, this is the command
.\"O word.
.B 0 (ゼロ)
0 番目の単語。シェルにとっては、コマンドを表す単語になります。
.TP
.I n
.\"O The \fIn\fRth word.
\fIn\fR 番目の単語。
.TP
.B ^
.\"O The first argument.  That is, word 1.
最初の引き数。つまり 1 番目の単語です。
.TP
.B $
.\"O The last argument.
最後の引き数。
.TP
.B %
.\"O The word matched by the most recent `?\fIstring\fR?' search.
`?\fIstring\fR?' 検索にマッチする、一番現在に近い単語。
.TP
.I x\fB\-\fPy
.\"O A range of words; `\-\fIy\fR' abbreviates `0\-\fIy\fR'.
単語の範囲。`0\-\fIy\fR' の省略形として `\-\fIy\fR' が使えます。
.TP
.B *
.\"O All of the words but the zeroth.  This is a synonym
.\"O for `\fI1\-$\fP'.  It is not an error to use
.\"O .B *
.\"O if there is just one
.\"O word in the event; the empty string is returned in that case.
0 番目を除く全ての単語。これは `\fI1\-$\fP' の別表現です。
イベント中に単語が 1 つしかない場合に
.B *
を使ってもエラーにはなりません。
この場合には空文字列が返されます。
.TP
.B x*
.\"O Abbreviates \fIx\-$\fP.
\fIx\-$\fP の省略形です。
.TP
.B x\-
.\"O Abbreviates \fIx\-$\fP like \fBx*\fP, but omits the last word.
\fBx*\fP と同様に \fIx\-$\fP の省略形ですが、
ただし最後の単語は含みません。
.PD
.PP
.\"O If a word designator is supplied without an event specification, the
.\"O previous command is used as the event.
イベント指定なしに単語指示子が与えられた場合、
直前のコマンドがイベントとして使われます。
.\"O .SS Modifiers
.SS 修飾子 (Modifiers)
.PP
.\"O After the optional word designator, there may appear a sequence of
.\"O one or more of the following modifiers, each preceded by a `:'.
単語指示子 (省略可能) の後には、
1 個以上の以下に示す修飾子を並べて置くことができます。
それぞれの修飾子の前には `:' を付けます。
.PP
.PD 0
.PP
.TP
.B h
.\"O Remove a trailing file name component, leaving only the head.
パス名から末尾にある部分 (ファイル名) を取り除き、
前の方 (ディレクトリ部) だけを残します。
.TP
.B t
.\"O Remove all leading file name components, leaving the tail.
パス名から前の方 (ディレクトリ部) を取り除き、
末尾にある部分 (ファイル名) だけを残します。
.TP
.B r
.\"O Remove a trailing suffix of the form \fI.xxx\fP, leaving the
.\"O basename.
末尾にある \fI.xxx\fP 形式のサフィックスを取り除き、
ベース名 (basename) だけを残します。
.TP
.B e
.\"O Remove all but the trailing suffix.
末尾のサフィックスだけを残して、全ての部分を取り除きます。
.TP
.B p
.\"O Print the new command but do not execute it.
新しいコマンドを表示しますが、実行はしません。
.TP
.B q
.\"O Quote the substituted words, escaping further substitutions.
置換が行われた単語をクォートし、それ以上の置換が行われないようにします。
.TP
.B x
.\"O Quote the substituted words as with
.\"O .BR q ,
.\"O but break into words at
.\"O .B blanks
.\"O and newlines.
.BR q
と同じように置換後の単語をクォートしますが、
.B 空白文字
と改行文字のところで単語に分割します。
.TP
.B s/\fIold\fP/\fInew\fP/
.\"O Substitute
.\"O .I new
.\"O for the first occurrence of
.\"O .I old
.\"O in the event line.  Any delimiter can be used in place of /.  The
.\"O final delimiter is optional if it is the last character of the
.\"O event line.  The delimiter may be quoted in
.\"O .I old
.\"O and
.\"O .I new
.\"O with a single backslash.  If & appears in
.\"O .IR new ,
.\"O it is replaced by
.\"O .IR old .
.\"O A single backslash will quote the &.  If
.\"O .I old
.\"O is null, it is set to the last
.\"O .I old
.\"O substituted, or, if no previous history substitutions took place,
.\"O the last
.\"O .I string
.\"O in a
.\"O .B !?\fIstring\fR\fB[?]\fR
.\"O search.
イベント行で最初に現われた
.I old
を
.I new
に置き換えます。/ の代わりに任意の区切り文字を使うこともできます。
最後の区切り文字がイベント行の最後の文字ならば、
これは省略できます。
バックスラッシュ 1 つでクォートすれば、
.I old
と
.I new
の中で区切り文字も使えます。
.I new 
に & が含まれている場合には、 & は
.I old
に置き換えられます。
バックスラッシュ 1 つを前に置けば & をクォートできます。
.I old
が空文字列ならば、最後に置換された
.I old
が設定されます。
以前に履歴置換が全く行われていない場合には、現在に一番近い
.B !?\fIstring\fR\fB[?]\fR
の検索で使われた
.I string
が設定されます。
.TP
.B &
.\"O Repeat the previous substitution.
直前の置換を繰り返します。
.TP
.B g
.\"O Cause changes to be applied over the entire event line.  This is
.\"O used in conjunction with `\fB:s\fP' (e.g., `\fB:gs/\fIold\fP/\fInew\fP/\fR')
.\"O or `\fB:&\fP'.  If used with
.\"O `\fB:s\fP', any delimiter can be used
.\"O in place of /, and the final delimiter is optional
.\"O if it is the last character of the event line.
.\"O An \fBa\fP may be used as a synonym for \fBg\fP.
変更をイベント行全体に適用します。
これは `\fB:s\fP'
(例:`\fB:gs/\fIold\fP/\fInew\fP/\fR') や `\fB:&\fP'
と組み合わせて使われます。
`\fB:s\fP' と一緒に使った場合には、
/ の代わりに任意の区切り文字を使えます。
また、最後の区切り文字がイベント行の最後の文字ならば、
これは省略できます。
\fBg\fP の別名として \fBa\fP を使うこともできます。
.TP
.B G
.\"O Apply the following `\fBs\fP' modifier once to each word in the event line.
この修飾子に続く `\fBs\fP' 修飾子をイベント行の各単語に 1 回ずつ適用します。
.PD
.\"O .SH "SHELL BUILTIN COMMANDS"
.SH シェルの組み込みコマンド
.\" start of bash_builtins
.zZ
.PP
.\"O Unless otherwise noted, each builtin command documented in this
.\"O section as accepting options preceded by
.\"O .B \-
.\"O accepts
.\"O .B \-\-
.\"O to signify the end of the options.
特に断らない限り、このセクションで説明されている組み込みコマンドのうち
.B \-
で始まるオプションを受け付けるものは、オプションの終わりを表す
.B \-\-
も受け付けます。
.\"O The \fB:\fP, \fBtrue\fP, \fBfalse\fP, and \fBtest\fP builtins
.\"O do not accept options and do not treat \fB\-\-\fP specially.
.\"O The \fBexit\fP, \fBlogout\fP, \fBbreak\fP, \fBcontinue\fP, \fBlet\fP,
.\"O and \fBshift\fP builtins accept and process arguments beginning with
.\"O \fB\-\fP without requiring \fB\-\-\fP.
.\"O Other builtins that accept arguments but are not specified as accepting
.\"O options interpret arguments beginning with \fB\-\fP as invalid options and
.\"O require \fB\-\-\fP to prevent this interpretation.
組み込みコマンド \fB:\fP, \fBtrue\fP, \fBfalse\fP, \fBtest\fP
はオプションを持たず、\fB\-\-\fP を特別扱いしません。
組み込みコマンド \fBexit\fP, \fBlogout\fP, \fBbreak\fP, \fBcontinue\fP,
\fBlet\fP, \fBshift\fP は、\fB\-\fP で始まる引き数として受け取るのに、
\fB\-\-\fP を必要としません。
そのほかの組み込みコマンドは、
受け取ると明記されているオプション以外を引き数として受け取り、
\fB\-\fP で始まる引き数を不正なオプションをとて解釈します。
この解釈を防ぐには \fB\-\-\fP が必要です。
.sp .5
.PD 0
.TP
\fB:\fP [\fIarguments\fP]
.PD
.\"O No effect; the command does nothing beyond expanding
.\"O .I arguments
.\"O and performing any specified
.\"O redirections.  A zero exit code is returned.
何もしません。このコマンドは
.I arguments
を展開し、指定されたリダイレクトを実行する以外には何も行いません。
終了コード 0 を返します。
.TP
\fB .\| \fP \fIfilename\fP [\fIarguments\fP]
.PD 0
.TP
\fBsource\fP \fIfilename\fP [\fIarguments\fP]
.PD
.\"O Read and execute commands from
.\"O .I filename
.\"O in the current
.\"O shell environment and return the exit status of the last command
.\"O executed from
.\"O .IR filename .
.I filename
からコマンドを読み込み、現在のシェル環境の下で実行します。
.I filename
内の最後に実行したコマンドの終了ステータスを返します。
.\"O If
.\"O .I filename
.\"O does not contain a slash, file names in
.\"O .SM
.\"O .B PATH
.\"O are used to find the directory containing
.\"O .IR filename .
.I filename
にスラッシュが含まれていない場合、
.I filename
は
.SM
.B PATH
に含まれるディレクトリから探されます。
.\"O The file searched for in
.\"O .SM
.\"O .B PATH
.\"O need not be executable.
.\"O When \fBbash\fP is not in \fIposix mode\fP, the current directory is
.\"O searched if no file is found in
.\"O .SM
.\"O .BR PATH .
.SM
.B PATH
内で検索されるファイルは、実行可能である必要はありません。
.B bash
が
.I posix モード
以外で動作しているときは、
.SM
.B PATH
中でファイルを見つけられなかった場合に、
カレントディレクトリが検索されます。
.\"O If the
.\"O .B sourcepath
.\"O option to the
.\"O .B shopt
.\"O builtin command is turned off, the
.\"O .SM
.\"O .B PATH
.\"O is not searched.
組み込みコマンド
.B shopt
に対する
.B sourcepath
オプションが無効にされている場合、
.SM
.B PATH
の検索は行われません。
.\"O If any \fIarguments\fP are supplied, they become the positional
.\"O parameters when \fIfilename\fP is executed.  Otherwise the positional
.\"O parameters are unchanged.
何らかの \fIarguments\fP が指定された場合、これらの引き数は
\fIfilename\fP を実行したときの位置パラメータとなります。
指定されなかった場合は、位置パラメータは変更されません。
.\"O The return status is the status of the last command exited within
.\"O the script (0 if no commands are executed), and false if
.\"O .I filename
.\"O is not found or cannot be read.
返却ステータスはスクリプト内で最後に実行したコマンドのステータスです
(コマンドが全く実行されなければ 0 です)。
.I filename
が見つからない場合や読み込めない場合には偽となります。
.TP
\fBalias\fP [\fB\-p\fP] [\fIname\fP[=\fIvalue\fP] ...]
.\"O \fBAlias\fP with no arguments or with the
.\"O .B \-p
.\"O option prints the list of aliases in the form
.\"O \fBalias\fP \fIname\fP=\fIvalue\fP on standard output.
.\"O When arguments are supplied, an alias is defined for
.\"O each \fIname\fP whose \fIvalue\fP is given.
.\"O A trailing space in  \fIvalue\fP causes the next word to be
.\"O checked for alias substitution when the alias is expanded.
.\"O For each \fIname\fP in the argument list for which no \fIvalue\fP
.\"O is supplied, the name and value of the alias is printed.
.\"O \fBAlias\fP returns true unless a \fIname\fP is given for which
.\"O no alias has been defined.
\fBalias\fP コマンドを引き数を付けずに (あるいは
.B \-p
オプションを付けて) 実行すると、エイリアスのリストが
「\fBalias\fP \fIname\fP=\fIvalue\fP」の形で標準出力に出力されます。
引き数を与えた場合には、\fIvalue\fP を与えられた
\fIname\fP それぞれに対するエイリアスが定義されます。
\fIvalue\fP の末尾に空白があると、エイリアスが展開されたときに、
空白の次の単語についてエイリアス置換があるかどうか調べられます。
引き数リスト中に
\fIvalue\fP が与えられていない \fIname\fP があった場合は、
それぞれに対して名前とエイリアスの値が出力されます。
エイリアスが定義されていない \fIname\fP が指定された場合以外は、
\fBalias\fP は真を返します。
.TP
\fBbg\fP [\fIjobspec\fP ...]
.\"O Resume each suspended job \fIjobspec\fP in the background, as if it
.\"O had been started with
.\"O .BR & .
.\"O If
.\"O .I jobspec
.\"O is not present, the shell's notion of the \fIcurrent job\fP is used.
サスペンドされているジョブ \fIjobspec\fP を
バックグラウンドで実行再開します。このジョブは、初めから
.B &
を付けて起動されていたかのように動作を続けます。
.I jobspec
がない場合には、
シェルが記録している\fIカレントジョブ (current job)\fP が使われます。
.\"O .B bg
.\"O .I jobspec
.\"O returns 0 unless run when job control is disabled or, when run with
.\"O job control enabled, any specified \fIjobspec\fP was not found
.\"O or was started without job control.
.B bg
.I jobspec
は通常 0 を返しますが、ジョブ制御が無効であるときに実行した場合や、
ジョブ制御が有効であっても
.I jobspec
が有効なジョブを指定していない場合や
.I jobspec
がジョブ制御なしで開始したジョブを指定している場合は異なる値を返します。
.TP
\fBbind\fP [\fB\-m\fP \fIkeymap\fP] [\fB\-lpsvPSV\fP]
.PD 0
.TP
\fBbind\fP [\fB\-m\fP \fIkeymap\fP] [\fB\-q\fP \fIfunction\fP] [\fB\-u\fP \fIfunction\fP] [\fB\-r\fP \fIkeyseq\fP]
.TP
\fBbind\fP [\fB\-m\fP \fIkeymap\fP] \fB\-f\fP \fIfilename\fP
.TP
\fBbind\fP [\fB\-m\fP \fIkeymap\fP] \fB\-x\fP \fIkeyseq\fP:\fIshell\-command\fP
.TP
\fBbind\fP [\fB\-m\fP \fIkeymap\fP] \fIkeyseq\fP:\fIfunction\-name\fP
.TP
\fBbind\fP \fIreadline\-command\fP
.PD
.\"O Display current
.\"O .B readline
.\"O key and function bindings, bind a key sequence to a
.\"O .B readline
.\"O function or macro, or set a
.\"O .B readline
.\"O variable.
.B readline
の現在のキー割り当てと関数割り当てを表示したり、
キーシーケンスを
.B readline
の関数やマクロに割り当てたり、
.B readline
の変数を設定したりします。
.\"O Each non-option argument is a command as it would appear in
.\"O .IR .inputrc ,
.\"O but each binding or command must be passed as a separate argument;
.\"O e.g., '"\eC\-x\eC\-r": re\-read\-init\-file'.
.\"O Options, if supplied, have the following meanings:
.\"O motoki: bind の書式では keyseq:function-name のように続いているが
.\"O motoki: 本当は keyseq: function-name にしないといけないのかな？
.\"O emasaka: ':' 直後の空白は無視され、有無のどちらでもよいようです。
.\"O emasaka: 書式の記載は、空白なしにすることで 1 つの引き数であることを
.\"O emasaka: 示しているのかと。
オプション以外の引き数はすべて、
.I .inputrc ,
に書くのと同じ形式のコマンドですが、
それぞれの割り当てやコマンドは独立した引き数として渡さなければなりません。
例えば '"\eC\-x\eC\-r": re\-read\-init\-file' のように指定します。
オプションを指定した場合には、以下のような意味を持ちます:
.RS
.PD 0
.TP
.B \-m \fIkeymap\fP
.\"O Use
.\"O .I keymap
.\"O as the keymap to be affected by the subsequent bindings.
キーマップ
.I keymap
を、以降の割り当てによって変更します。
.\"O Acceptable
.\"O .I keymap
.\"O names are
.\"O \fIemacs, emacs\-standard, emacs\-meta, emacs\-ctlx, vi,
.\"O vi\-move, vi\-command\fP, and
.\"O .IR vi\-insert .
指定できる
.I keymap
名は、
\fIemacs, emacs\-standard, emacs\-meta, emacs\-ctlx, vi,
vi\-move, vi\-command\fP,
.I vi\-insert
です。
.\"O \fIvi\fP is equivalent to \fIvi\-command\fP; \fIemacs\fP is
.\"O equivalent to \fIemacs\-standard\fP.
\fIvi\fP は \fIvi\-command\fP と同じです。
また \fIemacs\fP は \fIemacs\-standard\fP と同じです。
.TP
.B \-l
.\"O List the names of all \fBreadline\fP functions.
\fBreadline\fP 関数の名前を全てリスト表示します。
.TP
.B \-p
.\"O Display \fBreadline\fP function names and bindings in such a way
.\"O that they can be re-read.
\fBreadline\fP の関数の名前と割り当てを表示します。
表示は、再び読み込みできる形式で出力されます。
.TP
.B \-P
.\"O List current \fBreadline\fP function names and bindings.
\fBreadline\fP の関数の現在の名前と割り当てをリスト表示します。
.TP
.B \-s
.\"O Display \fBreadline\fP key sequences bound to macros and the strings
.\"O they output in such a way that they can be re-read.
マクロに割り当てられた \fBreadline\fP のキーシーケンスと、
マクロが出力する文字列を表示します。
表示は、再び読み込みできる形式で出力されます。
.TP
.B \-S
.\"O Display \fBreadline\fP key sequences bound to macros and the strings
.\"O they output.
マクロに割り当てられた \fBreadline\fP のキーシーケンスと、
マクロが出力する文字列を表示します。
.TP
.B \-v
.\"O Display \fBreadline\fP variable names and values in such a way that they
.\"O can be re-read.
\fBreadline\fP の変数名と値を表示します。
表示は、再び読み込みできる形式で出力されます。
.TP
.B \-V
.\"O List current \fBreadline\fP variable names and values.
\fBreadline\fP の現在の変数名と値をリスト表示します。
.TP
.B \-f \fIfilename\fP
.\"O Read key bindings from \fIfilename\fP.
キー割り当てを \fIfilename\fP から読み込みます。
.TP
.B \-q \fIfunction\fP
.\"O Query about which keys invoke the named \fIfunction\fP.
指定された \fIfunction\fP を呼び出すキーを問い合わせます。
.TP
.B \-u \fIfunction\fP
.\"O Unbind all keys bound to the named \fIfunction\fP.
指定された \fIfunction\fP に割り当てられているキーの割り当てを
全て取り消します。
.TP
.B \-r \fIkeyseq\fP
.\"O Remove any current binding for \fIkeyseq\fP.
\fIkeyseq\fP に対する現在の割り当てを削除します。
.TP
.B \-x \fIkeyseq\fP:\fIshell\-command\fP
.\"O Cause \fIshell\-command\fP to be executed whenever \fIkeyseq\fP is
.\"O entered.
\fIkeyseq\fP が押されるたびに、
\fIshell\-command\fP が実行されるようにします。
.\"O When \fIshell\-command\fP is executed, the shell sets the
.\"O .SM
.\"O .B READLINE_LINE
.\"O variable to the contents of the \fBreadline\fP line buffer and the
.\"O .SM
.\"O .B READLINE_POINT
.\"O variable to the current location of the insertion point.
.\"O If the executed command changes the value of
.\"O .SM
.\"O .B READLINE_LINE
.\"O or
.\"O .SM
.\"O .BR READLINE_POINT ,
.\"O those new values will be reflected in the editing state.
.\"O motoki: line buffer = 編集バッファ で訳されているがよいか。
\fIshell\-command\fP を実行するとき、シェルは変数
.SM
.B READLINE_LINE
に \fBreadline\fP の編集バッファの内容を設定し、変数
.SM
.B READLINE_POINT
に現在の挿入ポイントの位置を設定します。
実行したコマンドが
.SM
.B READLINE_LINE
や
.SM
.BR READLINE_POINT
の値を変更した場合、新しい値が編集の状態に反映されます。
.PD
.PP
.\"O The return value is 0 unless an unrecognized option is given or an
.\"O error occurred.
認識できないオプションが与えられた場合やエラーが起きた場合以外は、
返り値は 0 になります。
.RE
.TP
\fBbreak\fP [\fIn\fP]
.\"O Exit from within a
.\"O .BR for ,
.\"O .BR while ,
.\"O .BR until ,
.\"O or
.\"O .B select
.\"O loop.  If \fIn\fP is specified, break \fIn\fP levels.
.BR for ,
.BR while ,
.BR until ,
.B select
のループから抜けます。\fIn\fP が指定されていれば、\fIn\fP レベル分
のループを break します。
.\"O .I n
.\"O must be \(>= 1.  If
.\"O .I n
.\"O is greater than the number of enclosing loops, all enclosing loops
.\"O are exited.
.I n
は 1 以上でなければなりません。
.I n
がループの深さよりも大きい場合には、全てのループから抜けます。
.\"O The return value is 0 unless \fIn\fP is not greater than or equal to 1.
\fIn\fP が 1 未満の場合を除けば、返り値は 0 です。
.TP
\fBbuiltin\fP \fIshell\-builtin\fP [\fIarguments\fP]
.\"O Execute the specified shell builtin, passing it
.\"O .IR arguments ,
.\"O and return its exit status.
.\"O This is useful when defining a
.\"O function whose name is the same as a shell builtin,
.\"O retaining the functionality of the builtin within the function.
.\"O The \fBcd\fP builtin is commonly redefined this way.
.\"O The return status is false if
.\"O .I shell\-builtin
.\"O is not a shell builtin command.
指定されたシェル組み込みコマンドを実行します。コマンドには
.I arguments
を引き数として渡し、このコマンドの終了ステータスを返します。
これはシェル組み込みコマンドと同じ名前の関数を定義するときに便利で、
その関数内で組み込みコマンドの機能を使うことができます。
組み込みコマンド 
\fBcd\fP は普通、これを使って再定義されます。
.I shell\-builtin
がシェル組み込みコマンドでなければ、終了ステータスは偽となります。
.TP
\fBcaller\fP [\fIexpr\fP]
.\"O Returns the context of any active subroutine call (a shell function or
.\"O a script executed with the \fB.\fP or \fBsource\fP builtins).
.\"O Without \fIexpr\fP, \fBcaller\fP displays the line number and source
.\"O filename of the current subroutine call.
.\"O If a non-negative integer is supplied as \fIexpr\fP, \fBcaller\fP 
.\"O displays the line number, subroutine name, and source file corresponding
.\"O to that position in the current execution call stack.  This extra
.\"O information may be used, for example, to print a stack trace.  The
.\"O current frame is frame 0.
.\"O The return value is 0 unless the shell is not executing a subroutine
.\"O call or \fIexpr\fP does not correspond to a valid position in the
.\"O call stack.
実行中のサブルーチン (シェル関数や、組み込みコマンド \fB.\fP か
\fBsource\fP で呼び出したスクリプト) 呼び出しのコンテキストを返します。
\fIexpr\fP が指定されていなければ、\fBcaller\fP は
現在のサブルーチン呼び出しの行番号とソースファイル名を表示します
\fIexpr\fP に負でない整数が与えられた場合、\fBcaller\fP は、
現在の呼び出しスタック中で指定した位置の行番号、サブルーチン名、
ソースファイルを表示します。
スタックトレースを表示する場合などに、範囲外の情報が使われるかもしれません。
現在のフレームはフレーム 0 です。
シェルがサブルーチンを呼び出していない場合や、
\fIexpr\fP が呼び出しスタックの有効な位置に相当しない場合を除けば、
返り値は 0 です。
.TP
\fBcd\fP [\fB\-L\fP|[\fB\-P\fP [\fB\-e\fP]]] [\fIdir\fP]
.\"O Change the current directory to \fIdir\fP.  The variable
.\"O .SM
.\"O .B HOME
.\"O is the
.\"O default
.\"O .IR dir .
.\"O The variable
.\"O .SM
.\"O .B CDPATH
.\"O defines the search path for the directory containing
.\"O .IR dir .
カレントディレクトリを \fIdir\fP に変更します。
変数
.SM
.B HOME
の値が
.I dir
のデフォルト値です。変数
.SM
.B CDPATH
は、
.I dir
を含むディレクトリの検索パスを定義します。
.\"O Alternative directory names in
.\"O .SM
.\"O .B CDPATH
.\"O are separated by a colon (:).  A null directory name in
.\"O .SM
.\"O .B CDPATH
.\"O is the same as the current directory, i.e., ``\fB.\fP''.  If
.\"O .I dir
.\"O begins with a slash (/),
.\"O then
.\"O .SM
.\"O .B CDPATH
.\"O is not used. The
.\"O .B \-P
.\"O option says to use the physical directory structure instead of
.\"O following symbolic links (see also the
.\"O .B \-P
.\"O option to the
.\"O .B set
.\"O builtin command); the
.\"O .B \-L
.\"O option forces symbolic links to be followed.
.\"O If the
.\"O .B \-e
.\"O option is supplied with
.\"O .BR \-P ,
.\"O and the current working directory cannot be successfully determined
.\"O after a successful directory change, \fBcd\fP will return an unsuccessful
.\"O status.
.SM
.B CDPATH
内では候補ディレクトリ名はコロン (:) で区切ります。
.SM
.B CDPATH
中に空のディレクトリ名がある場合、これはカレントディレクトリ
(つまり ``\fB.\fP'') を意味します。
.I dir
がスラッシュ (/) で始まる場合には、
.SM
.B CDPATH
は使われません。
.B \-P
オプションは、シンボリックリンクを辿らないで物理的なディレクトリ構造を
使うように指示します (組み込みコマンド
.B set
の
.B \-P
オプションも参照)。
.B \-L
オプションを指定すると、シンボリックリンクを辿るようになります。
.B \-e
オプションを
.BR \-P
オプションと同時に指定すると、ディレクトリの変更が成功した後に
カレントディレクトリが判定できない場合、\fBcd\fP は失敗のステータスを返します。
.\"O An argument of
.\"O .B \-
.\"O is equivalent to
.\"O .SM
.\"O .BR $OLDPWD .
引き数に
.B \-
を指定するのは、
.SM
.B $OLDPWD
を指定するのと同じ意味です。
.\"O If a non-empty directory name from
.\"O .SM
.\"O .B CDPATH
.\"O is used, or if
.\"O \fB\-\fP is the first argument, and the directory change is
.\"O successful, the absolute pathname of the new working directory is
.\"O written to the standard output.
.\"O The return value is true if the directory was successfully changed;
.\"O false otherwise.
.SM
.B CDPATH
内の空以外のディレクトリ名が使われたときや、
\fB\-\fP が最初の引き数のときに、ディレクトリの変更が成功すると、
新しいディレクトリの絶対パス名が標準出力に書かれます。
ディレクトリの変更が成功した場合には返り値は真になり、
そうでない場合には偽になります。
.TP
\fBcommand\fP [\fB\-pVv\fP] \fIcommand\fP [\fIarg\fP ...]
.\"O Run
.\"O .I command
.\"O with
.\"O .I args
.\"O suppressing the normal shell function lookup. Only builtin
.\"O commands or commands found in the
.\"O .SM
.\"O .B PATH
.\"O are executed.  If the
.\"O .B \-p
.\"O option is given, the search for
.\"O .I command
.\"O is performed using a default value for
.\"O .SM
.\"O .B PATH
.\"O that is guaranteed to find all of the standard utilities.
.I command
に引き数
.I args
を付けて実行します。ただし、シェル関数の通常の参照は行いません。
組み込みコマンドと
.SM
.B PATH
内で見つかるコマンドだけが実行されます。
.B \-p
オプションが与えられると、
.I command
の検索を行う際に
.B PATH
のデフォルト値が使われます。これにより、
全ての標準ユーティリティを確実に見つけられます。
.\"O If either the
.\"O .B \-V
.\"O or
.\"O .B \-v
.\"O option is supplied, a description of
.\"O .I command
.\"O is printed.  The
.\"O .B \-v
.\"O option causes a single word indicating the command or file name
.\"O used to invoke
.\"O .I command
.\"O to be displayed; the
.\"O .B \-V
.\"O option produces a more verbose description.
.B \-V
オプションまたは
.B \-v
オプションを与えると、
.I command
の説明が出力されます。
.B \-v
オプションでは、
.I command
を起動するときに使われるコマンドやファイル名を示す単語が表示されます。
.B \-V
ではさらに詳しい説明が表示されます。
.\"O If the
.\"O .B \-V
.\"O or
.\"O .B \-v
.\"O option is supplied, the exit status is 0 if
.\"O .I command
.\"O was found, and 1 if not.  If neither option is supplied and
.\"O an error occurred or
.\"O .I command
.\"O cannot be found, the exit status is 127.  Otherwise, the exit status of the
.\"O .B command
.\"O builtin is the exit status of
.\"O .IR command .
.B \-V
オプションや
.B \-v
オプションを与えた場合、終了ステータスは
.I command
が見つかれば 0 となり、見つからなければ 1 となります。
どちらのオプションも与えなかった場合に、エラーが起きたり、
.I command
を見つけられなかったりすると、終了ステータスは 127 になります。
それ以外の場合には、組み込みコマンド
.B command
の終了ステータスは、
.I command
の終了ステータスです。
.TP
\fBcompgen\fP [\fIoption\fP] [\fIword\fP]
.\"O Generate possible completion matches for \fIword\fP according to
.\"O the \fIoption\fPs, which may be any option accepted by the
.\"O .B complete
.\"O builtin with the exception of \fB\-p\fP and \fB\-r\fP, and write
.\"O the matches to the standard output.
.\"O When using the \fB\-F\fP or \fB\-C\fP options, the various shell variables
.\"O set by the programmable completion facilities, while available, will not
.\"O have useful values.
.\"O motoki: programmable completion の訳はプログラム補完でよいか。ちょっと変？
\fIoption\fP に従って、\fIword\fP にマッチする補完候補のリストを生成します。
オプションには \fBcomplete\fP 組み込みコマンドと同じものが指定できますが、
\fB\-p\fP と \fB\-r\fP は指定できません。
マッチのリストは標準出力に出力されます。
\fB\-F\fP や \fB\-C\fP オプションを使用したときは、
プログラム補完機能によって設定された様々なシェル変数は、
利用可能であっても有用な値を持ちません。
.sp 1
.\"O The matches will be generated in the same way as if the programmable
.\"O completion code had generated them directly from a completion specification
.\"O with the same flags.
.\"O If \fIword\fP is specified, only those completions matching \fIword\fP
.\"O will be displayed.
マッチのリストは、同じフラグによる補完仕様で
プログラム補完のコードが直接生成したかのように
生成されます。
\fIword\fP が指定されると、\fIword\fP にマッチする補完だけが表示されます。
.sp 1
.\"O The return value is true unless an invalid option is supplied, or no
.\"O matches were generated.
戻り値は、
無効なオプションが指定された場合やマッチが生成されなかった場合以外は
真になります。
.TP
\fBcomplete\fP [\fB\-abcdefgjksuv\fP] [\fB\-o\fP \fIcomp-option\fP] [\fB\-DE\fP] [\fB\-A\fP \fIaction\fP] [\fB\-G\fP \fIglobpat\fP] [\fB\-W\fP \fIwordlist\fP] [\fB\-F\fP \fIfunction\fP] [\fB\-C\fP \fIcommand\fP]
.br
[\fB\-X\fP \fIfilterpat\fP] [\fB\-P\fP \fIprefix\fP] [\fB\-S\fP \fIsuffix\fP] \fIname\fP [\fIname ...\fP]
.PD 0
.TP
\fBcomplete\fP \fB\-pr\fP [\fB\-DE\fP] [\fIname\fP ...]
.PD
.\"O Specify how arguments to each \fIname\fP should be completed.
.\"O If the \fB\-p\fP option is supplied, or if no options are supplied,
.\"O existing completion specifications are printed in a way that allows
.\"O them to be reused as input.
.\"O The \fB\-r\fP option removes a completion specification for
.\"O each \fIname\fP, or, if no \fIname\fPs are supplied, all
.\"O completion specifications.
.\"O The \fB\-D\fP option indicates that the remaining options and actions should
.\"O apply to the ``default'' command completion; that is, completion attempted
.\"O on a command for which no completion has previously been defined.
.\"O The \fB\-E\fP option indicates that the remaining options and actions should
.\"O apply to ``empty'' command completion; that is, completion attempted on a
.\"O blank line.
.\"O motoki: readline のセクションでは、completion specifications は補完仕様になっている。
各 \fIname\fP の引き数を、どのように補完するのかを指定します。
\fB\-p\fP オプションが指定された場合や、
何もオプションが指定されなかった場合は、
現在の補完仕様が (入力として再利用できる形で) 出力されます。
\fB\-r\fP オプションは、それぞれの \fIname\fP の補完指定を削除します。
\fIname\fP が指定されなかった場合は全ての補完指定を削除します。
\fB\-D\fP オプションは、残りのオプションと動作を
``デフォルトの'' コマンド補完 (補完が定義されていないコマンドに対して
試みられる補完) に適用することを示します。
\fB\-E\fP オプションは、残りのオプションと動作を
``空の'' コマンド補完 (空行に対して試みられる補完) に適用することを示します。
.sp 1
.\"O The process of applying these completion specifications when word completion
.\"O is attempted is described above under \fBProgrammable Completion\fP.
単語補完が試みられたときに、補完指定が適用される流れは、
前述の \fBプログラム補完\fP で説明されています。
.sp 1
.\"O Other options, if specified, have the following meanings.
.\"O The arguments to the \fB\-G\fP, \fB\-W\fP, and \fB\-X\fP options
.\"O (and, if necessary, the \fB\-P\fP and \fB\-S\fP options)
.\"O should be quoted to protect them from expansion before the
.\"O .B complete
.\"O builtin is invoked.
他のオプションは、指定された場合、以下のような意味を持ちます。
\fB\-G\fP, \fB\-W\fP, \fB\-X\fP オプションの引き数 (必要ならば
\fB\-P\fP と \fB\-S\fP オプションの場合も) はクォートして、
組み込みコマンド
.B complete
が呼び出される前に展開されないようにすべきです。
.RS
.PD 0
.TP 8
\fB\-o\fP \fIcomp-option\fP
.\"O The \fIcomp-option\fP controls several aspects of the compspec's behavior
.\"O beyond the simple generation of completions.
.\"O \fIcomp-option\fP may be one of:
.I comp\-option
は補完仕様の動作をいくつかの観点から制御し、
単純な補完生成以外ができるようにします。
.I comp\-option
には以下のどれかひとつを指定できます。
.RS
.TP 8
.B bashdefault
.\"O Perform the rest of the default \fBbash\fP completions if the compspec
.\"O generates no matches.
補完仕様がマッチを全く生成しなかった場合に、
\fBbash\fP のデフォルトの補完を用います。
.TP 8
.B default
.\"O Use readline's default filename completion if the compspec generates
.\"O no matches.
補完仕様がマッチを全く生成しなかった場合に、
readline のデフォルトの補完を用います。
.TP 8
.B dirnames
.\"O Perform directory name completion if the compspec generates no matches.
補完仕様がマッチを全く生成しなかった場合に、
ディレクトリ名を補完しようとします。
.TP 8
.B filenames
.\"O Tell readline that the compspec generates filenames, so it can perform any
.\"O filename\-specific processing (like adding a slash to directory names,
.\"O quoting special characters, or suppressing trailing spaces).
.\"O Intended to be used with shell functions.
補完仕様がファイル名を生成することを readline に伝え、
readline がファイル名特有の処理
(ディレクトリ名にスラッシュを加えたり、特殊文字をクォートしたり、
末尾の空白を削除したり、など) を行えるようにします。
シェル関数と共に用いることを想定しています。
.TP 8
.B nospace
.\"O Tell readline not to append a space (the default) to words completed at
.\"O the end of the line.
行末で単語を補完したときに空白を付け加える動作 (デフォルトの動作) を
やめるように readline に伝えます。
.TP 8
.B plusdirs
.\"O After any matches defined by the compspec are generated, 
.\"O directory name completion is attempted and any
.\"O matches are added to the results of the other actions.
補完仕様で定義されたマッチした候補が生成された後に、
ディレクトリ名の補完を試み、ほかの動作の結果にマッチした候補が
全て追加されます。
.RE
.TP 8
\fB\-A\fP \fIaction\fP
.\"O The \fIaction\fP may be one of the following to generate a list of possible
.\"O completions:
.\"O motoki: possible completions, completion match などの訳語を統一する必要がある。
.\"O motoki: (bash.1 全体に通じる話)
.\"O motoki: possible completion = 補完候補 としてみた。
.\"O emasaka: 「possible completion = 補完候補」を bash.1 全体に適用しました。
\fIaction\fP は補完候補リストの生成動作で、
以下のどれかひとつを指定します。
.RS
.TP 8
.B alias
.\"O Alias names.  May also be specified as \fB\-a\fP.
エイリアス名。\fB\-a\fP でも指定できます。
.TP 8
.B arrayvar
.\"O Array variable names.
配列変数名。
.TP 8
.B binding
.\"O \fBReadline\fP key binding names.
\fBreadline\fP キー割り当て名。
.TP 8
.B builtin
.\"O Names of shell builtin commands.  May also be specified as \fB\-b\fP.
シェル組み込みコマンド名。\fB\-b\fP でも指定できます。
.TP 8
.B command
.\"O Command names.  May also be specified as \fB\-c\fP.
コマンド名。\fB\-c\fP でも指定できます。
.TP 8
.B directory
.\"O Directory names.  May also be specified as \fB\-d\fP.
ディレクトリ名。\fB\-d\fP でも指定できます。
.TP 8
.B disabled
.\"O Names of disabled shell builtins.
無効にされているシェル組み込みコマンドの名前。
.TP 8
.B enabled
.\"O Names of enabled shell builtins.
有効にされているシェル組み込みコマンドの名前。
.TP 8
.B export
.\"O Names of exported shell variables.  May also be specified as \fB\-e\fP.
エクスポートされたシェル変数の名前。
\fB\-e\fP でも指定できます。
.TP 8
.B file
.\"O File names.  May also be specified as \fB\-f\fP.
ファイル名。\fB\-f\fP でも指定できます。
.TP 8
.B function
.\"O Names of shell functions.
シェル関数の名前。
.TP 8
.B group
.\"O Group names.  May also be specified as \fB\-g\fP.
グループ名。\fB\-g\fP でも指定できます。
.TP 8
.B helptopic
.\"O Help topics as accepted by the \fBhelp\fP builtin.
組み込みコマンド \fBhelp\fP に指定できるヘルプのトピック名。
.TP 8
.B hostname
.\"O Hostnames, as taken from the file specified by the
.\"O .SM
.\"O .B HOSTFILE
.\"O shell variable.
.SM
.B HOSTFILE
シェル変数で指定されたファイルから得られたホスト名。
.TP 8
.B job
.\"O Job names, if job control is active.  May also be specified as \fB\-j\fP.
ジョブ名 (ジョブ制御が有効な場合)。\fB\-j\fP でも指定できます。
.TP 8
.B keyword
.\"O Shell reserved words.  May also be specified as \fB\-k\fP.
シェルの予約語。\fB\-k\fP でも指定できます。
.TP 8
.B running
.\"O Names of running jobs, if job control is active.
ジョブ制御が有効であれば、実行中のジョブ名。
.TP 8
.B service
.\"O Service names.  May also be specified as \fB\-s\fP.
サービス名。\fB\-s\fP でも指定できます。
.TP 8
.B setopt
.\"O Valid arguments for the \fB\-o\fP option to the \fBset\fP builtin.
組み込みコマンド \fBset\fP の \fB\-o\fP オプションで有効な引き数。
.TP 8
.B shopt
.\"O Shell option names as accepted by the \fBshopt\fP builtin.
組み込みコマンド \fBshopt\fP に指定できるシェルオプション名。
.TP 8
.B signal
.\"O Signal names.
シグナル名。
.TP 8
.B stopped
.\"O Names of stopped jobs, if job control is active.
停止しているジョブ名 (ジョブ制御が有効な場合)。
.TP 8
.B user
.\"O User names.  May also be specified as \fB\-u\fP.
ユーザ名。\fB\-u\fP でも指定できます。
.TP 8
.B variable
.\"O Names of all shell variables.  May also be specified as \fB\-v\fP.
全てのシェル変数名。\fB\-v\fP でも指定できます。
.RE
.TP 8
\fB\-C\fP \fIcommand\fP
.\"O \fIcommand\fP is executed in a subshell environment, and its output is
.\"O used as the possible completions.
\fIcommand\fP がサブシェル環境で実行され、
その出力が補完候補として使用されます。
.TP 8
\fB\-F\fP \fIfunction\fP
.\"O The shell function \fIfunction\fP is executed in the current shell
.\"O environment.
.\"O When it finishes, the possible completions are retrieved from the value
.\"O of the
.\"O .SM
.\"O .B COMPREPLY
.\"O array variable.
シェル関数 \fIfunction\fP は現在のシェル環境で実行されます。
関数が終了したときに、補完候補が
.SM
.B COMPREPLY
配列変数から取得されます。
.TP 8
\fB\-G\fP \fIglobpat\fP
.\"O The pathname expansion pattern \fIglobpat\fP is expanded to generate
.\"O the possible completions.
パス名展開パターン \fIglobpat\fP を展開し、
補完候補のリストを生成します。
.TP 8
\fB\-P\fP \fIprefix\fP
.\"O \fIprefix\fP is added at the beginning of each possible completion
.\"O after all other options have been applied.
ほかの全てのオプションが適用された後で、
それぞれの補完候補の先頭に \fIprefix\fP が付け加えられます。
.TP 8
\fB\-S\fP \fIsuffix\fP
.\"O \fIsuffix\fP is appended to each possible completion
.\"O after all other options have been applied.
ほかの全てのオプションが適用された後で、
それぞれの補完候補の後に \fIsuffix\fP が付け加えられます。
.TP 8
\fB\-W\fP \fIwordlist\fP
.\"O The \fIwordlist\fP is split using the characters in the
.\"O .SM
.\"O .B IFS
.\"O special variable as delimiters, and each resultant word is expanded.
.\"O The possible completions are the members of the resultant list which
.\"O match the word being completed.
\fIwordlist\fP は
.SM
.B IFS
特殊変数に含まれる文字を区切り文字として分割され、
分割された単語がそれぞれ展開されます。
展開結果のリストのメンバのうち、補完中の単語がマッチするものが、
補完候補となります。
.TP 8
\fB\-X\fP \fIfilterpat\fP
.\"O \fIfilterpat\fP is a pattern as used for pathname expansion.
.\"O It is applied to the list of possible completions generated by the
.\"O preceding options and arguments, and each completion matching
.\"O \fIfilterpat\fP is removed from the list.
.\"O A leading \fB!\fP in \fIfilterpat\fP negates the pattern; in this
.\"O case, any completion not matching \fIfilterpat\fP is removed.
\fIfilterpat\fP がパス名展開のパターンとして使用されます。
先行するオプション・引き数によって生成された補完候補のリストに適用され、
\fIfilterpat\fP とマッチするそれぞれの補完候補がリストから削除されます。
\fIfilterpat\fP が \fB!\fP で始まる場合、パターンの否定の意味になります。
つまり、\fIfilterpat\fP にマッチしない補完対象が削除されます。
.PD
.PP
.\"O The return value is true unless an invalid option is supplied, an option
.\"O other than \fB\-p\fP or \fB\-r\fP is supplied without a \fIname\fP
.\"O argument, an attempt is made to remove a completion specification for
.\"O a \fIname\fP for which no specification exists, or
.\"O an error occurs adding a completion specification.
不正なオプションが指定された場合、\fB\-p\fP と \fB\-r\fP 以外のオプションで
\fIname\fP が指定されなかった場合、
存在しない \fIname\fP の指定によって補完が削除されようとした場合、
補完の指定の追加に失敗した場合、を除いては、返り値は真になります。
.RE
.TP
\fBcompopt\fP [\fB\-o\fP \fIoption\fP] [\fB\-DE\fP] [\fB+o\fP \fIoption\fP] [\fIname\fP]
.\"O Modify completion options for each \fIname\fP according to the
.\"O \fIoption\fPs, or for the
.\"O currently-executing completion if no \fIname\fPs are supplied.
.\"O If no \fIoption\fPs are given, display the completion options for each
.\"O \fIname\fP or the current completion.
.\"O The possible values of \fIoption\fP are those valid for the \fBcomplete\fP
.\"O builtin described above.
.\"O The \fB\-D\fP option indicates that the remaining options should
.\"O apply to the ``default'' command completion; that is, completion attempted
.\"O on a command for which no completion has previously been defined.
.\"O The \fB\-E\fP option indicates that the remaining options should
.\"O apply to ``empty'' command completion; that is, completion attempted on a
.\"O blank line.
\fIname\fP の補完オプションを \fIoption\fP に従って変更します。
\fIname\fP が指定されない場合は、実行中の補完が対象になります。
\fIoption\fPs が与えられない場合は、\fIname\fP または現在の補完の
補完オプションを表示します。
\fIoption\fP に指定できる値は、前述の組み込みコマンド
\fBcomplete\fP で有効なものです。
\fB\-D\fP オプションは、残りのオプションを ``デフォルトの''
コマンド補完 (補完が定義されていないコマンドに対して
試みられる補完) に適用することを示します。
\fB\-E\fP オプションは、残りのオプションを ``空の''
コマンド補完  (空行に対して試みられる補完) に適用することを示します。
.sp 1
.\"O The return value is true unless an invalid option is supplied, an attempt
.\"O is made to modify the options for a \fIname\fP for which no completion
.\"O specification exists, or an output error occurs.
不正なオプションが指定された場合、
補完仕様が定義されていない \fIname\fP のオプションを変更しようとした場合、
出力エラーが起こった場合、を除いては、返り値は真になります。
.TP
\fBcontinue\fP [\fIn\fP]
.\"O Resume the next iteration of the enclosing
.\"O .BR for ,
.\"O .BR while ,
.\"O .BR until ,
.\"O or
.\"O .B select
.\"O loop.
.\"O motoki: resume なので、「再開」の方がいいかな。
.\"O emasaka: 「再開」だと「中断」した後でまた始める、というニュアンスで、
.\"O emasaka: ちょっと違うかなと。
.BR for ,
.BR while ,
.BR until ,
.B select
ループの次の繰り返し分から実行を継続します。
.\"O If
.\"O .I n
.\"O is specified, resume at the \fIn\fPth enclosing loop.
.I n
を指定すると、深さを \fIn\fP 個分上がったループで実行を継続します。
.\"O .I n
.\"O must be \(>= 1.  If
.\"O .I n
.\"O is greater than the number of enclosing loops, the last enclosing loop
.\"O (the ``top-level'' loop) is resumed.
.I n
は 1 以上でなければなりません。
.I n
がループの深さよりも大きい場合、
最後のループ (「トップレベル」のループ) で実行が継続されます。
.\"O The return value is 0 unless \fIn\fP is not greater than or equal to 1.
\fIn\fP が 1 未満の場合を除けば、返り値は 0 です。
.TP
\fBdeclare\fP [\fB\-aAfFgilrtux\fP] [\fB\-p\fP] [\fIname\fP[=\fIvalue\fP] ...]
.PD 0
.TP
\fBtypeset\fP [\fB\-aAfFgilrtux\fP] [\fB\-p\fP] [\fIname\fP[=\fIvalue\fP] ...]
.PD
.\"O Declare variables and/or give them attributes.
.\"O If no \fIname\fPs are given then display the values of variables.
変数を宣言したり、変数に属性を与えたりします。
\fIname\fP を指定しなければ、変数の値が表示されます。
.\"O The
.\"O .B \-p
.\"O option will display the attributes and values of each
.\"O .IR name .
.B \-p
オプションを指定すると、各
.I name
の属性と値が表示されます。
.\"O When
.\"O .B \-p
.\"O is used with \fIname\fP arguments, additional options are ignored.
.B \-p
に \fIname\fP 引き数を指定すると、他のオプションは無視されます。
.\"O When
.\"O .B \-p
.\"O is supplied without \fIname\fP arguments, it will display the attributes
.\"O and values of all variables having the attributes specified by the
.\"O additional options.
.\"O If no other options are supplied with \fB\-p\fP, \fBdeclare\fP will display
.\"O the attributes and values of all shell variables.  The \fB\-f\fP option
.\"O will restrict the display to shell functions.
.B \-p
オプションが \fIname\fP 引き数なしで指定されると、
他のオプションで指定された属性を持っている
全ての変数の属性と値を表示します。
\fB\-p\fP 以外のオプションが指定されない場合、
\fBdeclare\fP は全てのシェル変数の属性と値を表示します。
\fB\-f\fP オプションは表示をシェル関数に限定します。
.\"O The
.\"O .B \-F
.\"O option inhibits the display of function definitions; only the
.\"O function name and attributes are printed.
.\"O If the \fBextdebug\fP shell option is enabled using \fBshopt\fP,
.\"O the source file name and line number where the function is defined
.\"O are displayed as well.  The
.B \-F
オプションを指定すると、関数定義の表示を止めます。
関数の名前と属性だけが出力されます。
\fBshopt\fP によってシェルオプション \fBextdebug\fP が有効になっていれば、
関数が定義されているソースファイルの名前と行番号も表示されます。
.\"O .B \-F
.\"O option implies
.\"O .BR \-f .
.B \-F
オプションを指定すると、
.B \-f
オプションも指定したことになります。
.\"O The
.\"O .B \-g
.\"O option forces variables to be created or modified at the global scope,
.\"O even when \fBdeclare\fP is executed in a shell function.
.\"O It is ignored in all other cases.
.B \-g
オプションを指定すると、\fBdeclare\fP がシェル関数の中で実行されたときであっても、
グローバルスコープで変数の作成、変更を行います。
.\"O motoki: "even when..." といっておいて、「他の場合」って何だろう？？？
ほかの場合には無視されます。
.\"O The following options can
.\"O be used to restrict output to variables with the specified attribute or
.\"O to give variables attributes:
以下のオプションを使うと、
指定した属性を持つ変数の出力を限定したり、
変数に属性を与えたりできます:
.RS
.PD 0
.TP
.B \-a
.\"O Each \fIname\fP is an indexed array variable (see
.\"O .B Arrays
.\"O above).
各 \fIname\fP は配列変数です (前述の
.B 配列
を参照)。
.TP
.B \-A
.\"O Each \fIname\fP is an associative array variable (see
.\"O .B Arrays
.\"O above).
各 \fIname\fP は連想配列変数です (前述の
.B 配列
を参照)。
.TP
.B \-f
.\"O Use function names only.
関数名だけを使います。
.TP
.B \-i
.\"O The variable is treated as an integer; arithmetic evaluation (see
.\"O .SM
.\"O .B "ARITHMETIC EVALUATION"
.\"O above) is performed when the variable is assigned a value.
変数を整数として扱います。変数に値が代入されたときに算術式評価 (
.SM
.B 算術式評価
を参照) が実行されます。
.TP
.B \-l
.\"O When the variable is assigned a value, all upper-case characters are
.\"O converted to lower-case.
.\"O The upper-case attribute is disabled.
変数に値が代入されると、全ての大文字は小文字に変換されます。
大文字属性は無効になります。
.TP
.B \-r
.\"O Make \fIname\fPs readonly.  These names cannot then be assigned values
.\"O by subsequent assignment statements or unset.
\fIname\fP を読み込み専用にします。
これ以降、代入文を用いて値を代入したり unset したりできなくなります。
.TP
.B \-t
.\"O Give each \fIname\fP the \fItrace\fP attribute.
.\"O Traced functions inherit the \fBDEBUG\fP and \fBRETURN\fP traps from
.\"O the calling shell.
.\"O The trace attribute has no special meaning for variables.
各 \fIname\fP に \fItrace\fP 属性を与えます。
trace 属性を付与された関数は \fBDEBUG\fP と \fBRETURN\fP のトラップを
呼び出したシェルから受け継ぎます
trace 属性は変数には意味を持ちません。
.TP
.B \-u
.\"O When the variable is assigned a value, all lower-case characters are
.\"O converted to upper-case.
.\"O The lower-case attribute is disabled.
変数に値が代入されると、全ての小文字は大文字に変換されます。
小文字属性は無効になります。
.TP
.B \-x
.\"O Mark \fIname\fPs for export to subsequent commands via the environment.
\fIname\fP に印を付け、
これ以降に実行するコマンドに環境経由でエクスポートします。
.PD
.PP
.\"O Using `+' instead of `\-'
.\"O turns off the attribute instead,
.\"O with the exceptions that \fB+a\fP
.\"O may not be used to destroy an array variable and \fB+r\fP will not
.\"O remove the readonly attribute.
`\-' ではなく `+' を使うと属性を消します。
ただし例外として、\fB+a\fP を使って配列変数を破棄することはできず、
\fB+r\fP を使って読み込み専用属性を消すことはできません。
.\"O When used in a function, makes each
.\"O \fIname\fP local, as with the
.\"O .B local
.\"O command,
.\"O unless the \fB\-g\fP option is supplied,
関数内で使った場合、
\fB\-g\fP オプションが与えられなかった場合、
.B local
コマンドを使った場合と同様に \fIname\fP はローカル変数となります。
.\"O If a variable name is followed by =\fIvalue\fP, the value of
.\"O the variable is set to \fIvalue\fP.
変数名に =\fIvalue\fP が続く場合、
変数の値として \fIvalue\fP が設定されます。
.\"O The return value is 0 unless an invalid option is encountered,
.\"O an attempt is made to define a function using
.\"O .if n ``\-f foo=bar'',
.\"O .if t \f(CW\-f foo=bar\fP,
.\"O an attempt is made to assign a value to a readonly variable,
.\"O an attempt is made to assign a value to an array variable without
.\"O using the compound assignment syntax (see
.\"O .B Arrays
.\"O above), one of the \fInames\fP is not a valid shell variable name,
.\"O an attempt is made to turn off readonly status for a readonly variable,
.\"O an attempt is made to turn off array status for an array variable,
.\"O or an attempt is made to display a non-existent function with \fB\-f\fP.
返り値は基本的には 0 ですが、不正なオプションに出会った場合、
.if n ``\-f foo=bar'',
.if t \f(CW\-f foo=bar\fP,
を使って関数を定義しようとした場合、
読み込み専用の変数に代入しようとした場合、
複合代入構文を使わずに配列変数に値を代入しようとした場合 (前述の
.B 配列
を参照)、\fIname\fP のいずれかが正しいシェル変数名でない場合、
読み込み専用変数の読み込み専用属性を無効にしようとした場合、
配列変数の配列属性を無効にしようとした場合、
存在しない関数を \fB\-f\fP オプションで表示しようとした場合は除きます。
.RE
.TP
.B dirs [+\fIn\fP] [\-\fIn\fP] [\fB\-clpv\fP]
.\"O Without options, displays the list of currently remembered directories.
.\"O The default display is on a single line with directory names separated
.\"O by spaces.
.\"O Directories are added to the list with the 
.\"O .B pushd
.\"O command; the
.\"O .B popd
.\"O command removes entries from the list.
オプションがないときは、
現在記憶しているディレクトリのリストが表示されます。
デフォルトでは、全てのディレクトリ名は空白で区切って
1 行で表示されます。
ディレクトリは
.B pushd
コマンドによってリストに追加されます。
.B popd
コマンドはリストからエントリを削除します。
.RS
.PD 0
.TP
\fB+\fP\fIn\fP
.\"O Displays the \fIn\fPth entry counting from the left of the list
.\"O shown by
.\"O .B dirs
.\"O when invoked without options, starting with zero.
オプションなしで
.B dirs
を起動したときに表示されるリストの、
左から数えて \fIn\fP 番目のエントリを表示します。
エントリは 0 から始まります。
.TP
\fB\-\fP\fIn\fP
.\"O Displays the \fIn\fPth entry counting from the right of the list
.\"O shown by
.\"O .B dirs
.\"O when invoked without options, starting with zero.
オプションなしで
.B dirs
を起動したときに表示されるリストの、
右から数えて \fIn\fP 番目のエントリを表示します。
エントリは 0 から始まります。
.TP
.B \-c
.\"O Clears the directory stack by deleting all of the entries.
全てのエントリを削除し、ディレクトリスタックをクリアします。
.TP
.B \-l
.\"O Produces a longer listing; the default listing format uses a 
.\"O tilde to denote the home directory.
長い形式のリスト表示を行います。
デフォルトのリスト表示フォーマットでは、
チルダを使ってホームディレクトリを表します。
.TP
.B \-p
.\"O Print the directory stack with one entry per line.
1 行に 1 エントリの形でディレクトリスタックを出力します。
.TP
.B \-v
.\"O Print the directory stack with one entry per line,
.\"O prefixing each entry with its index in the stack.
1 行に 1 エントリの形でディレクトリスタックを出力します。
各エントリの前にはスタック内での番号が表示されます。
.PD
.PP
.\"O The return value is 0 unless an
.\"O invalid option is supplied or \fIn\fP indexes beyond the end
.\"O of the directory stack.
不正なオプションが与えられた場合とインデックス
\fIn\fP がディレクトリスタックの末尾を越えている場合を除き、
返り値は 0 となります。
.RE
.TP
\fBdisown\fP [\fB\-ar\fP] [\fB\-h\fP] [\fIjobspec\fP ...]
.\"O Without options, each
.\"O .I jobspec
.\"O is removed from the table of active jobs.
オプションなしの場合には、それぞれの
.I jobspec
がアクティブなジョブのテーブルから削除されます。
.\"O If
.\"O .I jobspec
.\"O is not present, and neither \fB\-a\fP nor \fB\-r\fP is supplied,
.\"O the shell's notion of the \fIcurrent job\fP is used.
.\"O If the \fB\-h\fP option is given, each
.\"O .I jobspec
.\"O is not removed from the table, but is marked so that
.\"O .SM
.\"O .B SIGHUP
.\"O is not sent to the job if the shell receives a
.\"O .SM
.\"O .BR SIGHUP .
.I jobspec
がなく、かつ \fB\-a\fP オプションも \fB\-r\fP オプションも
与えられていない場合には、\fIカレントジョブ\fPが使われます。
\fB\-h\fP オプションが与えられている場合、どの
.I jobspec
もテーブルから削除されず、
シェルが
.SM
.BR SIGHUP
を受け取ってもそのジョブには
.SM
.B SIGHUP
が送られないように印が付けられます。
.\"O If no
.\"O .I jobspec
.\"O is present, and neither the
.\"O .B \-a
.\"O nor the
.\"O .B \-r
.\"O option is supplied, the \fIcurrent job\fP is used.
.\"O .I jobspec
.\"O がなく、かつ
.\"O .B \-a
.\"O オプションも
.\"O .B \-r
.\"O オプションも与えられていない場合には、\fIカレントジョブ\fPが使われます。
.\"O emasaka: 上の訳文は、同じ段落で重複しているためコメントアウト。
.\"O If no
.\"O .I jobspec
.\"O is supplied, the
.\"O .B \-a
.\"O option means to remove or mark all jobs; the
.\"O .B \-r
.\"O option without a
.\"O .I jobspec
.\"O argument restricts operation to running jobs.
.I jobspec
が与えられていない場合、
.B \-a
オプションは全てのジョブを削除するか
全てのジョブに印を付けるという意味
となります。
.I jobspec
引き数なしで
.B \-r
オプションを指定すると、
実行中のジョブだけが操作の対象となります。
.\"O The return value is 0 unless a
.\"O .I jobspec
.\"O does not specify a valid job.
.I jobspec
が有効なジョブを指定していない場合を除き、返り値は 0 となります。
.TP
\fBecho\fP [\fB\-neE\fP] [\fIarg\fP ...]
.\"O Output the \fIarg\fPs, separated by spaces, followed by a newline.
.\"O The return status is always 0.
.\"O If \fB\-n\fP is specified, the trailing newline is
.\"O suppressed.  If the \fB\-e\fP option is given, interpretation of
.\"O the following backslash-escaped characters is enabled.  The
.\"O .B \-E
.\"O option disables the interpretation of these escape characters,
.\"O even on systems where they are interpreted by default.
\fIarg\fP を空白で区切って出力し、最後に改行を出力します。
終了ステータスは常に 0 です。
\fB\-n\fP が指定された場合、最後の改行は出力されません。
\fB\-e\fP オプションを指定した場合、
以下に示す、バックスラッシュのエスケープ文字が解釈されるようになります。
.B \-E
オプションを指定すると、
デフォルトでこのようなエスケープ文字が解釈されるシステムであっても、
エスケープ文字が解釈されないようになります。
.\"O The \fBxpg_echo\fP shell option may be used to
.\"O dynamically determine whether or not \fBecho\fP expands these
.\"O escape characters by default.
\fBxpg_echo\fP シェルオプションを用いると、
\fBecho\fP がこれらのエスケープ文字を展開するかどうかの
デフォルト動作を動的に決定できます。
.\"O .B echo
.\"O does not interpret \fB\-\-\fP to mean the end of options.
.B echo
は
.B \-\-
をオプションの終わりと解釈しません。
.\"O .B echo
.\"O interprets the following escape sequences:
.B echo
は以下のエスケープシーケンスを解釈します:
.RS
.PD 0
.TP
.B \ea
.\"O alert (bell)
警告 (ベル)
.TP
.B \eb
.\"O backspace
バックスペース
.TP
.B \ec
.\"O suppress further output
行末に改行を付けない
.TP
.B \ee
.TP
.B \eE
.\"O an escape character
エスケープ文字
.TP
.B \ef
.\"O form feed
フォームフィード文字
.TP
.B \en
.\"O new line
改行
.TP
.B \er
.\"O carriage return
復帰文字
.TP
.B \et
.\"O horizontal tab
水平タブ
.TP
.B \ev
.\"O vertical tab
垂直タブ
.TP
.B \e\e
.\"O backslash
バックスラッシュ
.TP
.B \e0\fInnn\fP
.\"O the eight-bit character whose value is the octal value \fInnn\fP
.\"O (zero to three octal digits)
8 進値で \fInnn\fP である 8 ビット文字 (8 進数で 0〜3 桁)。
.TP
.B \ex\fIHH\fP
.\"O the eight-bit character whose value is the hexadecimal value \fIHH\fP
.\"O (one or two hex digits)
16 進値が \fIHH\fP である 8 ビット文字 (16 進で 1〜2 桁)。
.TP
.B \eu\fIHHHH\fP
.\"O the Unicode (ISO/IEC 10646) character whose value is the hexadecimal value
.\"O \fIHHHH\fP (one to four hex digits)
ユニコード (ISO/IEC 10646) の 16 進値が \fIHHHH\fP である文字 (16 進 1〜4 桁)。
.TP
.B \eU\fIHHHHHHHH\fP
.\"O the Unicode (ISO/IEC 10646) character whose value is the hexadecimal value
.\"O \fIHHHHHHHH\fP (one to eight hex digits)
ユニコード (ISO/IEC 10646) の 16 進値が \fIHHHHHHHH\fP である文字 (16 進 1〜8 桁)。
.PD
.RE
.TP
\fBenable\fP [\fB\-a\fP] [\fB\-dnps\fP] [\fB\-f\fP \fIfilename\fP] [\fIname\fP ...]
.\"O Enable and disable builtin shell commands.
.\"O Disabling a builtin allows a disk command which has the same name
.\"O as a shell builtin to be executed without specifying a full pathname,
.\"O even though the shell normally searches for builtins before disk commands.
.\"O If \fB\-n\fP is used, each \fIname\fP
.\"O is disabled; otherwise,
.\"O \fInames\fP are enabled.  For example, to use the
.\"O .B test
.\"O binary found via the
.\"O .SM
.\"O .B PATH
.\"O instead of the shell builtin version, run
.\"O .if t \f(CWenable -n test\fP.
.\"O .if n ``enable -n test''.
組み込みコマンドの有効/無効を設定します。
シェルは通常はディスクコマンドの前に組み込みコマンドを探しますが、
組み込みコマンドを無効にすると、
シェルの組み込みコマンドと同じ名前を持つディスクコマンドを、
完全なパス名を指定しなくても実行できます。
\fB\-n\fP を用いると、それぞれの \fIname\fP は無効となります。
それ以外の場合には、\fIname\fP は有効となります。
例えば、シェル組み込みのものでなく
.SM
.B PATH
上にある
.B test
バイナリを使うには
.if t \f(CWenable -n test\fP
.if n ``enable -n test''
を実行します。
.\"O The
.\"O .B \-f
.\"O option means to load the new builtin command
.\"O .I name
.\"O from shared object
.\"O .IR filename ,
.\"O on systems that support dynamic loading.  The
.\"O .B \-d
.\"O option will delete a builtin previously loaded with
.\"O .BR \-f .
.B \-f
オプションは新しい組み込みコマンド
.I name
を共有オブジェクト
.I filename
からロードするという意味です。
これは動的ロードをサポートしているシステムで使えます。
.B \-d
オプションは、以前に
.B \-f
オプションでロードした組み込みコマンドを削除します。
.\"O If no \fIname\fP arguments are given, or if the
.\"O .B \-p
.\"O option is supplied, a list of shell builtins is printed.
.\"O With no other option arguments, the list consists of all enabled
.\"O shell builtins.
.\"O If \fB\-n\fP is supplied, only disabled builtins are printed.
.\"O If \fB\-a\fP is supplied, the list printed includes all builtins, with an
.\"O indication of whether or not each is enabled.
.\"O If \fB\-s\fP is supplied, the output is restricted to the POSIX
.\"O \fIspecial\fP builtins.
引き数 \fIname\fP が与えられなかった場合や、
.B \-p
オプションが与えられた場合、
シェルの組み込みコマンドのリストが表示されます。
他にオプション引き数が指定されていない場合には、
有効になっているシェル組み込みコマンド全てからなるリストが表示されます。
\fB\-n\fP を与えると、無効にされている組み込みコマンドだけが出力されます。
\fB\-a\fP を与えると、
それぞれ有効かどうかの表示付きで全ての組み込みコマンドが出力されます。
\fB\-s\fP を与えると、出力されるのは
POSIX の\fI特殊\fP組み込みコマンドだけに制限されます。
.\"O The return value is 0 unless a
.\"O .I name
.\"O is not a shell builtin or there is an error loading a new builtin
.\"O from a shared object.
.I name
がシェル組み込みコマンドでない場合と、
共有オブジェクトからの新しい組み込みコマンドのロードに失敗した場合を除き、
返り値は 0 となります。
.TP
\fBeval\fP [\fIarg\fP ...]
.\"O The \fIarg\fPs are read and concatenated together into a single
.\"O command.  This command is then read and executed by the shell, and
.\"O its exit status is returned as the value of
.\"O .BR eval .
.\"O If there are no
.\"O .IR args ,
.\"O or only null arguments,
.\"O .B eval
.\"O returns 0.
\fIarg\fP を読み込み、1 つのコマンドに結合し、
このコマンドを読み込んで実行します。
その終了ステータスが
.B eval
の値として返されます。
.I args
がない場合や空の引き数しかない場合には
.B eval
は 0 を返します。
.TP
\fBexec\fP [\fB\-cl\fP] [\fB\-a\fP \fIname\fP] [\fIcommand\fP [\fIarguments\fP]]
.\"O If
.\"O .I command
.\"O is specified, it replaces the shell.
.\"O No new process is created.  The
.\"O .I arguments
.\"O become the arguments to \fIcommand\fP.
.\"O If the
.\"O .B \-l
.\"O option is supplied,
.\"O the shell places a dash at the beginning of the zeroth argument passed to 
.\"O .IR command .
.\"O This is what
.\"O .IR login (1)
.\"O does.  The
.\"O .B \-c
.\"O option causes
.\"O .I command
.\"O to be executed with an empty environment.  If
.\"O .B \-a
.\"O is supplied, the shell passes
.\"O .I name
.\"O as the zeroth argument to the executed command.  If
.\"O .I command
.\"O cannot be executed for some reason, a non-interactive shell exits,
.\"O unless the shell option
.\"O .B execfail
.\"O is enabled, in which case it returns failure.
.\"O An interactive shell returns failure if the file cannot be executed.
.I command
が指定されていると、シェルはこのコマンドに置き換えられます。
新しいプロセスは生成されません。
.I arguments
は \fIcommand\fP に対する引き数となります。
.B \-l
オプションを与えると、シェルは
.I command
に渡す 0 番目のオプションの先頭にダッシュを設定します。
これは
.IR login (1)
が行う動作です。
.B \-c
オプションを与えると、
.I command
は空の環境で実行されます。
.B \-a
を与えると、シェルは実行するコマンドに 0 番目の引き数として
.I name
を渡します。何らかの理由で
.I command
が実行できない場合には非対話的シェルは終了します。
ただしシェルオプション
.B execfail
が設定されている場合は終了せず、この場合には偽が返されます。
ファイルが実行できない場合には、対話的シェルは偽を返します。
.\"O If
.\"O .I command
.\"O is not specified, any redirections take effect in the current shell,
.\"O and the return status is 0.  If there is a redirection error, the
.\"O return status is 1.
.I command
が指定されていない場合、任意のリダイレクトはカレントシェルで効果を持ち、
終了ステータスは 0 となります。
リダイレクトのエラーが起きた場合には、終了ステータスは 1 となります。
.TP
\fBexit\fP [\fIn\fP]
.\"O Cause the shell to exit
.\"O with a status of \fIn\fP.  If
.\"O .I n
.\"O is omitted, the exit status
.\"O is that of the last command executed.
.\"O A trap on
.\"O .SM
.\"O .B EXIT
.\"O is executed before the shell terminates.
ステータス \fIn\fP でシェルを終了させます。
.I n
を省略すると、
終了ステータスは最後に実行したコマンドの終了ステータスとなります。
シェルが終了する前には、
.SM
.B EXIT
に対するトラップが実行されます。
.TP
\fBexport\fP [\fB\-fn\fP\^] [\fIname\fP[=\fIword\fP]] ...
.PD 0
.TP
.B export \-p
.PD
.\"O The supplied
.\"O .I names
.\"O are marked for automatic export to the environment of
.\"O subsequently executed commands.  If the 
.\"O .B \-f
.\"O option is given,
.\"O the 
.\"O .I names
.\"O refer to functions.
指定された
.I name
には印が付けられ、
これ以降に実行するコマンドの環境に
自動的にエクスポートされるようになります。
.B \-f
オプションを与えると、
.I name
は関数を参照します。
.\"O If no
.\"O .I names
.\"O are given, or if the
.\"O .B \-p
.\"O option is supplied, a list
.\"O of all names that are exported in this shell is printed.
.I name
を与えなかった場合や、
.B \-p
オプションを与えた場合には、
このシェル内でエクスポートされている全ての名前のリストが出力されます。
.\"O The
.\"O .B \-n
.\"O option causes the export property to be removed from each
.\"O \fIname\fP.
.\"O If a variable name is followed by =\fIword\fP, the value of
.\"O the variable is set to \fIword\fP.
.\"O .B export
.\"O returns an exit status of 0 unless an invalid option is
.\"O encountered,
.\"O one of the \fInames\fP is not a valid shell variable name, or
.\"O .B \-f
.\"O is supplied with a
.\"O .I name
.\"O that is not a function.
.B \-n
オプションを与えると、指定した変数からエクスポート属性が取り除かれます。
変数名に =\fIword\fP が続くと、変数の値に \fIword\fP が設定されます。
不正なオプションがあった場合、
\fIname\fP のいずれかが不正なシェル変数名であった場合、
関数でない名前に対して
.B \-f
オプションを与えた場合を除き、
.B export
は終了ステータス 0 を返します。
.TP
\fBfc\fP [\fB\-e\fP \fIename\fP] [\fB\-lnr\fP] [\fIfirst\fP] [\fIlast\fP]
.PD 0
.TP
\fBfc\fP \fB\-s\fP [\fIpat\fP=\fIrep\fP] [\fIcmd\fP]
.PD
.\"O Fix Command.  In the first form, a range of commands from
.\"O .I first
.\"O to
.\"O .I last
.\"O is selected from the history list.
.\"O motoki: "Fix Command" ですが、Fix は動詞で、「コマンドを修正する」ではないでしょうか。
.\"O motoki: Command も大文字の理由はよく分かりません。単に、fc なので、頭文字を大文字にしただけ？
フィックスコマンド (Fix Command)。
最初の形式では、
.I first
から
.I last
までの範囲のコマンドが履歴リストから選択されます。
.\"O .I First
.\"O and
.\"O .I last
.\"O may be specified as a string (to locate the last command beginning
.\"O with that string) or as a number (an index into the history list,
.\"O where a negative number is used as an offset from the current
.\"O command number).  If 
.\"O .I last
.\"O is not specified it is set to
.\"O the current command for listing (so that
.\"O .if n ``fc \-l \-10''
.\"O .if t \f(CWfc \-l \-10\fP
.\"O prints the last 10 commands) and to
.\"O .I first
.\"O otherwise.
.I first
と
.I last
には文字列か数値を指定します。
文字列はその文字列で始まる最後のコマンドを表し、
数値は履歴リスト中でのインデックスを表します
(負の値は現在のコマンド番号からのオフセットとして扱われます)。
.I last
が指定されていない場合、リスト表示の場合には
現在のコマンドが
.I last
に設定され
(したがって
.if n ``fc \-l \-10''
.if t \f(CWfc \-l \-10\fP
で最近のコマンド 10 個が出力されます)、それ以外の場合には
.I first
が設定されます。
.\"O If
.\"O .I first
.\"O is not specified it is set to the previous
.\"O command for editing and \-16 for listing.
.I first
が指定されていなければ、編集の場合には前のコマンドが
.I first
に設定され、
リスト表示の場合には \-16 が設定されます。
.sp 1
.\"O The
.\"O .B \-n
.\"O option suppresses
.\"O the command numbers when listing.  The
.\"O .B \-r
.\"O option reverses the order of
.\"O the commands.  If the
.\"O .B \-l
.\"O option is given,
.\"O the commands are listed on
.\"O standard output.  Otherwise, the editor given by
.\"O .I ename
.\"O is invoked
.\"O on a file containing those commands.  If
.\"O .I ename
.\"O is not given, the
.\"O value of the
.\"O .SM
.\"O .B FCEDIT
.\"O variable is used, and
.\"O the value of
.\"O .SM
.\"O .B EDITOR
.\"O if
.\"O .SM
.\"O .B FCEDIT
.\"O is not set.  If neither variable is set,
.\"O .FN vi
.\"O is used.  When editing is complete, the edited commands are
.\"O echoed and executed.
.B \-n
オプションを与えるとリスト表示でコマンド番号が付きません。
.B \-r
オプションを与えるとコマンドの順序が逆になります。
.B \-l
オプションを与えると、コマンドは標準出力にリスト表示されます。
それ以外の場合には、これらのコマンドが書かれたファイルに対し、
.I ename
で指定したエディタが起動されます。
.I ename
が与えられていない場合は、変数
.SM
.B FCEDIT
の値が使われ、
.SM
.B FCEDIT
も設定されていない場合には
.SM
.B EDITOR
の値が使われます。
どちらの変数も設定されていなければ、
.FN vi
が使われます。
編集が終了すると、編集後のコマンドがエコー表示され、実行されます。
.sp 1
.\"O In the second form, \fIcommand\fP is re-executed after each instance
.\"O of \fIpat\fP is replaced by \fIrep\fP.
2 番目の形式では、\fIpat\fP の部分をそれぞれ \fIrep\fP で置き換えてから
\fIcommand\fP が再実行されます。
.\"O A useful alias to use with this is
.\"O .if n ``r="fc -s"'',
.\"O .if t \f(CWr='fc \-s'\fP,
.\"O so that typing
.\"O .if n ``r cc''
.\"O .if t \f(CWr cc\fP
.\"O runs the last command beginning with
.\"O .if n ``cc''
.\"O .if t \f(CWcc\fP
.\"O and typing
.\"O .if n ``r''
.\"O .if t \f(CWr\fP
.\"O re-executes the last command.
これを利用している便利なエイリアスの例として
.if n ``r="fc -s"''
.if t \f(CWr='fc \-s'\fP
があります。
これを用いると
.if n ``r cc''
.if t \f(CWr cc\fP
と入力すれば
.if n ``cc''
.if t \f(CWcc\fP
で始まる最も新しいコマンドを実行でき、
.if n ``r''
.if t \f(CWr\fP
と入力すれば直前のコマンドを再実行できます。
.sp 1
.\"O If the first form is used, the return value is 0 unless an invalid
.\"O option is encountered or
.\"O .I first
.\"O or
.\"O .I last
.\"O specify history lines out of range.
最初の形式を用いた場合、不正なオプションがあるか、
.I first
または
.I last
が履歴行の範囲外を指定していなければ、返り値は 0 となります。
.\"O If the
.\"O .B \-e
.\"O option is supplied, the return value is the value of the last
.\"O command executed or failure if an error occurs with the temporary
.\"O file of commands.  If the second form is used, the return status
.\"O is that of the command re-executed, unless
.\"O .I cmd
.\"O does not specify a valid history line, in which case
.\"O .B fc
.\"O returns failure.
.B \-e
オプションが与えられた場合、
返り値は最後に実行されたコマンドの返り値となります。
ただし、コマンドの一時ファイルでエラーが起きた場合には返り値は偽 (失敗) となります。
2 番目の形式を用いた場合、
終了ステータスは再実行されたコマンドの終了ステータスとなります。
ただし、
.I cmd
が有効な履歴行を指定していない場合は、
.B fc
は偽 (失敗) を返します。
.TP
\fBfg\fP [\fIjobspec\fP]
.\"O Resume
.\"O .I jobspec
.\"O in the foreground, and make it the current job.
.I jobspec
の実行をフォアグラウンドで再開し、これをカレントジョブとします。
.\"O If
.\"O .I jobspec
.\"O is not present, the shell's notion of the \fIcurrent job\fP is used.
.I jobspec
がない場合、シェルが記録している\fIカレントジョブ\fPが使われます。
.\"O The return value is that of the command placed into the foreground,
.\"O or failure if run when job control is disabled or, when run with
.\"O job control enabled, if
.\"O .I jobspec
.\"O does not specify a valid job or
.\"O .I jobspec
.\"O specifies a job that was started without job control.
返り値はフォアグラウンドで再開されたコマンドの返り値ですが、
ジョブ制御が無効であるときに実行した場合や、
ジョブ制御が有効であっても
.I jobspec
が有効なジョブを指定していない場合や
.I jobspec
がジョブ制御なしで実行したジョブを指定している場合には偽となります。
.TP
\fBgetopts\fP \fIoptstring\fP \fIname\fP [\fIargs\fP]
.\"O .B getopts
.\"O is used by shell procedures to parse positional parameters.
.B getopts
は位置パラメータを解釈するシェルの処理で使います。
.\"O .I optstring
.\"O contains the option characters to be recognized; if a character
.\"O is followed by a colon, the option is expected to have an
.\"O argument, which should be separated from it by white space.
.\"O The colon and question mark characters may not be used as
.\"O option characters.
.I optstring
は識別の対象であるオプション文字列です。
ある文字の後にコロンがある場合、
そのオプションは引き数を一つ取ることが期待されます。
引き数は空白でオプション文字と区切られていなければなりません。
コロンと疑問符はオプション文字として使えません。
.\"O Each time it is invoked,
.\"O .B getopts
.\"O places the next option in the shell variable
.\"O .IR name ,
.\"O initializing
.\"O .I name
.\"O if it does not exist,
.\"O and the index of the next argument to be processed into the
.\"O variable
.\"O .SM
.\"O .BR OPTIND .
呼び出されるたびに、
.B getopts
は次に見つかったオプションをシェル変数
.I name
に格納し
.RI ( name
が存在しなければ初期化を行います)、
次に処理される引き数のインデックスを変数
.SM
.B OPTIND
に格納します。
.\"O .SM
.\"O .B OPTIND
.\"O is initialized to 1 each time the shell or a shell script
.\"O is invoked.  When an option requires an argument,
.\"O .B getopts
.\"O places that argument into the variable
.\"O .SM
.\"O .BR OPTARG .
.SM
.B OPTIND
はシェルまたはシェルスクリプトが呼び出されるたびに 1 に初期化されます。
オプションが引き数を必要とする場合には、
.B getopts
はその引き数を変数
.SM
.B OPTARG
に格納します。
.\"O The shell does not reset
.\"O .SM
.\"O .B OPTIND
.\"O automatically; it must be manually reset between multiple
.\"O calls to
.\"O .B getopts
.\"O within the same shell invocation if a new set of parameters
.\"O is to be used.
シェルが
.SM
.B OPTIND
を自動的に再設定することはありません。
1 つのシェルが呼び出されている間に別のパラメータの組み合わせを使う場合には、
再度
.B getopts
を呼び出す前に手動で
.B OPTIND
の再設定を行わなければなりません。
.sp 1
.\"O When the end of options is encountered, \fBgetopts\fP exits with a
.\"O return value greater than zero.
オプションの終わりに到達すると、
\fBgetopts\fP は 0 より大きい返り値で終了します。
.\"O .SM
.\"O .B OPTIND
.\"O is set to the index of the first non-option argument,
.\"O and \fIname\fP is set to ?.
.SM
.B OPTIND
にはオプションでない最初の引き数のインデックスが設定され、
\fIname\fP には ? が設定されます。
.sp 1
.\"O .B getopts
.\"O normally parses the positional parameters, but if more arguments are
.\"O given in
.\"O .IR args ,
.\"O .B getopts
.\"O parses those instead.
.B getopts
は通常位置パラメータを展開しますが、他の引き数が
.I args
に指定されている場合には、
.B getopts
は位置パラメータでなくこれらの引き数を解釈対象とします。
.sp 1
.\"O .B getopts
.\"O can report errors in two ways.  If the first character of
.\"O .I optstring
.\"O is a colon,
.\"O .I silent
.\"O error reporting is used.  In normal operation diagnostic messages
.\"O are printed when invalid options or missing option arguments are
.\"O encountered.
.B getopts
は 2 通りの方法でエラーを報告します。
.I optstring
の最初の文字がコロンならば、
.I 静かな (silent)
エラー報告が行われます。
通常の動作では、不正なオプションがある場合や
オプションの引き数が足りない場合に診断メッセージが出力されます。
.\"O If the variable
.\"O .SM
.\"O .B OPTERR
.\"O is set to 0, no error messages will be displayed, even if the first
.\"O character of 
.\"O .I optstring
.\"O is not a colon.
変数
.SM
.B OPTERR
に 0 が設定されている場合、
.I optstring
の最初の文字がコロンでない場合であっても、
エラーメッセージは全く出力されません。
.sp 1
.\"O If an invalid option is seen,
.\"O .B getopts
.\"O places ? into
.\"O .I name
.\"O and, if not silent,
.\"O prints an error message and unsets
.\"O .SM
.\"O .BR OPTARG .
不正なオプションがあった場合、
.B getopts
は ? を
.I name
に設定します。
さらに、静かなモードでない場合にはエラーメッセージが出力され、
.SM
.B OPTARG
が削除されます。
.\"O If
.\"O .B getopts
.\"O is silent,
.\"O the option character found is placed in
.\"O .SM
.\"O .B OPTARG
.\"O and no diagnostic message is printed.
.B getopts
が静かなモードであれば、見つかったオプション文字は
.SM
.B OPTARG
に設定され、診断メッセージは出力されません。
.sp 1
.\"O If a required argument is not found, and
.\"O .B getopts
.\"O is not silent,
.\"O a question mark (\^\fB?\fP\^) is placed in
.\"O .IR name ,
.\"O .SM
.\"O .B OPTARG
.\"O is unset, and a diagnostic message is printed.
必要な引き数が見つからず、かつ
.B getopts
が静かなモードでない場合には、疑問符 (\^\fB?\fP\^) が
.I name
に設定され、
.SM
.B OPTARG
が削除され、診断メッセージが出力されます。
.\"O If
.\"O .B getopts
.\"O is silent, then a colon (\^\fB:\fP\^) is placed in
.\"O .I name
.\"O and
.\"O .SM
.\"O .B OPTARG
.\"O is set to the option character found.
.B getopts
が静かなモードならば、コロン (\^\fB:\fP\^) が
.I name
に設定され、
.SM
.B OPTARG
には見つかったオプション文字が設定されます。
.sp 1
.\"O .B getopts
.\"O returns true if an option, specified or unspecified, is found.
.\"O It returns false if the end of options is encountered or an
.\"O error occurs.
(指定の有無に関係なく) オプションが見つかった場合、
.B getopts
は真を返します。
オプションの最後に到達した場合や、エラーが起きた場合には、
偽を返します。
.TP
\fBhash\fP [\fB\-lr\fP] [\fB\-p\fP \fIfilename\fP] [\fB\-dt\fP] [\fIname\fP]
.\"O Each time \fBhash\fP is invoked,
.\"O the full pathname of the command 
.\"O .I name
.\"O is determined by searching
.\"O the directories in
.\"O .B $PATH
.\"O and remembered.  Any previously-remembered pathname is discarded.
\fBhash\fP が実行される度に、
.B $PATH
に含まれるディレクトリの検索を行ってコマンド
.I name
の完全なパス名を調べ、
その結果を記憶します。
それまでに記憶されていたパス名は捨てられます。
.\"O If the
.\"O .B \-p
.\"O option is supplied, no path search is performed, and
.\"O .I filename
.\"O is used as the full file name of the command.
.B \-p
オプションが指定されると、パス検索は実行されず、
.I filename
がそのコマンドの完全なファイル名として使われます。
.\"O The
.\"O .B \-r
.\"O option causes the shell to forget all
.\"O remembered locations.
.B \-r
オプションを与えると、シェルは記憶しているパス名を全て忘れます。
.\"O The
.\"O .B \-d
.\"O option causes the shell to forget the remembered location of each \fIname\fP.
.B \-d
オプションを与えると、シェルは各 \fIname\fP について記憶しているパス名を忘れます。
.\"O If the
.\"O .B \-t
.\"O option is supplied, the full pathname to which each \fIname\fP corresponds
.\"O is printed.  If multiple \fIname\fP arguments are supplied with \fB\-t\fP,
.\"O the \fIname\fP is printed before the hashed full pathname.
.B \-t
オプションを与えると、\fIname\fP に対応する完全なファイル名が表示されます。
\fB\-t\fP に複数の  \fIname\fP 引き数が指定された場合、
記憶されている完全なファイル名の前に \fIname\fP が表示されます。
.\"O The
.\"O .B \-l
.\"O option causes output to be displayed in a format that may be reused as input.
.\"O If no arguments are given, or if only \fB\-l\fP is supplied,
.\"O information about remembered commands is printed.
.B \-l
オプションを与えると、入力として再利用できる形で出力されます。
引き数が与えられていない場合や、\fB\-l\fP だけが与えられた場合は、
記憶しているコマンドに関する情報が出力されます。
.\"O The return status is true unless a
.\"O .I name
.\"O is not found or an invalid option is supplied.
.I name
が見つからない場合と不正なオプションが与えられた場合を除き、
返却ステータスは真となります。
.TP
\fBhelp\fP [\fB\-dms\fP] [\fIpattern\fP]
.\"O Display helpful information about builtin commands.  If
.\"O .I pattern
.\"O is specified,
.\"O .B help
.\"O gives detailed help on all commands matching
.\"O .IR pattern ;
.\"O otherwise help for all the builtins and shell control structures
.\"O is printed.
組み込みコマンドのヘルプ情報を表示します。
.I pattern
が指定された場合には、
.B help
は
.I pattern
にマッチする全てのコマンドに関する詳しいヘルプを出力します。
指定されなかった場合には、
全ての組み込みコマンドと制御構造についての説明が出力されます。
.RS
.PD 0
.TP
.B \-d
.\"O Display a short description of each \fIpattern\fP
\fIpattern\fP それぞれの短い説明を表示します。
.TP
.B \-m
.\"O Display the description of each \fIpattern\fP in a manpage-like format
\fIpattern\fP それぞれの説明を manpage 風のフォーマットで表示します。
.TP
.B \-s
.\"O Display only a short usage synopsis for each \fIpattern\fP
\fIpattern\fP それぞれの短い書式のみを表示します。
.PD
.PP
.\"O The return status is 0 unless no command matches
.\"O .IR pattern .
.I pattern
にマッチするコマンドが全くない場合を除き、返却ステータスは 0 です。
.RE
.TP
\fBhistory [\fIn\fP]
.PD 0
.TP
\fBhistory\fP \fB\-c\fP
.TP
\fBhistory \-d\fP \fIoffset\fP
.TP
\fBhistory\fP \fB\-anrw\fP [\fIfilename\fP]
.TP
\fBhistory\fP \fB\-p\fP \fIarg\fP [\fIarg ...\fP]
.TP
\fBhistory\fP \fB\-s\fP \fIarg\fP [\fIarg ...\fP]
.PD
.\"O With no options, display the command
.\"O history list with line numbers.  Lines listed
.\"O with a 
.\"O .B *
.\"O have been modified.  An argument of
.\"O .I n
.\"O lists only the last
.\"O .I n
.\"O lines.
オプションがない場合には、行番号付きでコマンド履歴を表示します。
.B *
付きでリスト表示されている行は変更された行です。
引き数
.I n
を指定すると、最新の
.I n
行だけがリスト表示されます。
.\"O If the shell variable
.\"O .B HISTTIMEFORMAT
.\"O is set and not null,
.\"O it is used as a format string for \fIstrftime\fP(3) to display
.\"O the time stamp associated with each displayed history entry.
.\"O No intervening blank is printed between the formatted time stamp
.\"O and the history line.
シェル変数
.SM
.B HISTTIMEFORMAT
に空でない値が設定されると、履歴エントリを表示するときに
タイムスタンプを表示するための \fIstrftime\fP(3) の書式文字列
として使われます。
タイムスタンプと履歴行の間には空白は表示されません。
.\"O If \fIfilename\fP is supplied, it is used as the
.\"O name of the history file; if not, the value of
.\"O .SM
.\"O .B HISTFILE
.\"O is used.  Options, if supplied, have the following meanings:
\fIfilename\fP が指定されている場合、
履歴ファイルの名前として使われます。
指定されていない場合には
.SM
.B HISTFILE
の値が使われます。指定された場合、オプションは以下の意味を持ちます:
.RS
.PD 0
.TP
.B \-c
.\"O Clear the history list by deleting all the entries.
全てのエントリを削除し、履歴リストをクリアします。
.TP
\fB\-d\fP \fIoffset\fP
.\"O Delete the history entry at position \fIoffset\fP.
\fIoffset\fP 番目にある履歴エントリを削除します。
.TP
.B \-a
.\"O Append the ``new'' history lines (history lines entered since the
.\"O beginning of the current \fBbash\fP session) to the history file.
「新しい」履歴行
(\fBbash\fP の現在のセッションの開始以降に入力された履歴行)
を履歴ファイルに追加します。
.TP
.B \-n
.\"O Read the history lines not already read from the history
.\"O file into the current history list.  These are lines
.\"O appended to the history file since the beginning of the
.\"O current \fBbash\fP session.
まだ履歴ファイルから読み込んでいない履歴行を
現在の履歴リストに読み込みます。
読み込まれるのは、\fBbash\fP の現在のセッションの開始以降に
履歴ファイルに追加された行です。
.TP
.B \-r
.\"O Read the contents of the history file
.\"O and use them as the current history.
履歴ファイルの内容を読み込み、これらを現在の履歴として用います。
.TP
.B \-w
.\"O Write the current history to the history file, overwriting the
.\"O history file's contents.
現在の履歴を履歴ファイルに書き込みます。履歴ファイルの内容は上書きされます。
.TP
.B \-p
.\"O Perform history substitution on the following \fIargs\fP and display
.\"O the result on the standard output.
.\"O Does not store the results in the history list.
.\"O Each \fIarg\fP must be quoted to disable normal history expansion.
後に続く \fIargs\fP に対して履歴置換を行い、
その結果を標準出力に表示します。
この結果は履歴リストには格納されません。
通常の履歴展開が行われないようにするため、
\fIarg\fP はそれぞれクォートしなければなりません。
.TP
.B \-s
.\"O Store the
.\"O .I args
.\"O in the history list as a single entry.  The last command in the
.\"O history list is removed before the
.\"O .I args
.\"O are added.
.I args
を 1 つのエントリとして履歴リストに格納します。
履歴リストの最後のコマンドは、
.I args
が追加される前に削除されます。
.PD
.PP
.\"O If the
.\"O .SM
.\"O .B HISTTIMEFORMAT
.\"O variable is set, the time stamp information
.\"O associated with each history entry is written to the history file,
.\"O marked with the history comment character.
.\"O When the history file is read, lines beginning with the history
.\"O comment character followed immediately by a digit are interpreted
.\"O as timestamps for the previous history line.
.\"O The return value is 0 unless an invalid option is encountered, an
.\"O error occurs while reading or writing the history file, an invalid
.\"O \fIoffset\fP is supplied as an argument to \fB\-d\fP, or the
.\"O history expansion supplied as an argument to \fB\-p\fP fails.
.SM
.B HISTTIMEFORMAT
変数が設定されていると、履歴エントリのタイムスタンプの情報は、
履歴のコメント文字を付けて履歴ファイルに書き込まれます。
履歴ファイルを読み込むときに、履歴のコメント文字で始まり直後に数字が続く行は、
直前の履歴行のタイムスタンプとして解釈されます。
不正なオプションがある場合、
履歴ファイルの読み書き時にエラーが起きた場合、
\fB\-d\fP オプションの引き数として不正な \fIoffset\fP の値が与えられた場合、
\fB\-p\fP オプションの引き数として与えられた履歴展開が失敗した場合を除き、
返り値は 0 になります。
.RE
.TP
\fBjobs\fP [\fB\-lnprs\fP] [ \fIjobspec\fP ... ]
.PD 0
.TP
\fBjobs\fP \fB\-x\fP \fIcommand\fP [ \fIargs\fP ... ]
.PD
.\"O The first form lists the active jobs.  The options have the following
.\"O meanings:
最初の形式を実行すると、アクティブなジョブがリスト表示されます。
オプションは以下の意味を持ちます:
.RS
.PD 0
.TP
.B \-l
.\"O List process IDs
.\"O in addition to the normal information.
通常の情報に加えて、プロセス ID をリスト表示します。
.TP
.B \-n
.\"O Display information only about jobs that have changed status since
.\"O the user was last notified of their status.
ユーザがステータスを最後に通知されて以降に、
ステータスの変更があったジョブに関する情報だけを表示します。
.TP
.B \-p
.\"O List only the process ID of the job's process group
.\"O leader.
そのジョブが属するプロセスグループのリーダーのプロセス ID だけを表示します。
.TP
.B \-r
.\"O Restrict output to running jobs.
実行中のジョブだけを出力します。
.TP
.B \-s
.\"O Restrict output to stopped jobs.
停止中のジョブだけを出力します。
.PD
.PP
.\"O If
.\"O .I jobspec
.\"O is given, output is restricted to information about that job.
.\"O The return status is 0 unless an invalid option is encountered
.\"O or an invalid
.\"O .I jobspec
.\"O is supplied.
.I jobspec
が指定された場合、
そのジョブに関する情報だけが出力されます。
不正なオプションがある場合や、不正な
.I jobspec
が与えられた場合を除き、返却ステータスは 0 です。
.PP
.\"O If the
.\"O .B \-x
.\"O option is supplied,
.\"O .B jobs
.\"O replaces any
.\"O .I jobspec
.\"O found in
.\"O .I command
.\"O or
.\"O .I args
.\"O with the corresponding process group ID, and executes
.\"O .I command
.\"O passing it
.\"O .IR args ,
.\"O returning its exit status.
.B \-x
オプションが指定されると、
.B jobs
は
.I command
や
.I args
中の
.I jobspec
を対応するプロセスのグループ ID で置き換え、
.I command
に
.I args
を与えて実行し、その終了ステータスを返します。
.RE
.TP
\fBkill\fP [\fB\-s\fP \fIsigspec\fP | \fB\-n\fP \fIsignum\fP | \fB\-\fP\fIsigspec\fP] [\fIpid\fP | \fIjobspec\fP] ...
.PD 0
.TP
\fBkill\fP \fB\-l\fP [\fIsigspec\fP | \fIexit_status\fP]
.PD
.\"O Send the signal named by
.\"O .I sigspec
.\"O or
.\"O .I signum
.\"O to the processes named by
.\"O .I pid
.\"O or
.\"O .IR jobspec .
.I sigspec
または
.I signum
で指定されたシグナルを、
.I pid
または
.I jobspec
で指定されたプロセスに送ります。
.\"O .I sigspec
.\"O is either a case-insensitive signal name such as
.\"O .SM
.\"O .B SIGKILL
.\"O (with or without the
.\"O .SM
.\"O .B SIG
.\"O prefix) or a signal number;
.I sigspec
は、
.SM
.B SIGKILL
のようなシグナル名 (先頭の
.SM
.B SIG
は省略可能)、またはシグナルの番号です。
.\"O .I signum
.\"O is a signal number.
.I signum
はシグナルの番号です。
.\"O If
.\"O .I sigspec
.\"O is not present, then
.\"O .SM
.\"O .B SIGTERM
.\"O is assumed.
.I sigspec
が存在しない場合には、
.SM
.B SIGTERM
が指定されたものとします。
.\"O An argument of
.\"O .B \-l
.\"O lists the signal names.
.\"O If any arguments are supplied when
引き数に
.B \-l
を与えるとシグナル名がリスト表示されます。
.\"O .B \-l
.\"O is given, the names of the signals corresponding to the arguments are
.\"O listed, and the return status is 0.
.B \-l
と同時に引き数を与えると、
引き数に対応するシグナルの名前がリスト表示され、
返却ステータスは 0 となります。
.\"O The \fIexit_status\fP argument to
.\"O .B \-l
.\"O is a number specifying either a signal number or the exit status of
.\"O a process terminated by a signal.
.\"O .B kill
.\"O returns true if at least one signal was successfully sent, or false
.\"O if an error occurs or an invalid option is encountered.
.B \-l
に対する引き数 \fIexit_status\fP は、
シグナル番号、またはシグナルによって終了させられた
プロセスの終了ステータスを指定する数です。
少なくとも 1 つのシグナルを正常に送れた場合、
.B kill
は真を返します。
エラーが起きた場合や不正なオプションがあった場合には、
.B kill
は偽を返します。
.TP
\fBlet\fP \fIarg\fP [\fIarg\fP ...]
.\"O Each
.\"O .I arg
.\"O is an arithmetic expression to be evaluated (see
.\"O .SM
.\"O .B "ARITHMETIC EVALUATION"
.\"O above).
各
.I arg
は評価を行う算術式です
.SM
.RB ( 算術式展開
を参照)。
.\"O If the last
.\"O .I arg
.\"O evaluates to 0,
.\"O .B let
.\"O returns 1; 0 is returned otherwise.
最後の
.I arg
を評価した結果が 0 であれば、
.B let
は 1 を返します。
それ以外の場合には 0 が返されます。
.TP
\fBlocal\fP [\fIoption\fP] [\fIname\fP[=\fIvalue\fP] ...]
.\"O For each argument, a local variable named
.\"O .I name 
.\"O is created, and assigned
.\"O .IR value .
.\"O The \fIoption\fP can be any of the options accepted by \fBdeclare\fP.
それぞれの引き数に対して
.I name 
という名前のローカル変数が生成され、
.I value
が代入されます。
\fIoption\fP には、
\fBdeclare\fP コマンドに使えるオプションが全て使えます。
.\"O When
.\"O .B local
.\"O is used within a function, it causes the variable
.\"O .I name
.\"O to have a visible scope restricted to that function and its children.
.\"O With no operands,
.\"O .B local
.\"O writes a list of local variables to the standard output.  It is
.\"O an error to use
.\"O .B local
.\"O when not within a function.  The return status is 0 unless
.\"O .B local
.\"O is used outside a function, an invalid
.\"O .I name
.\"O is supplied, or
.\"O \fIname\fP is a readonly variable.
関数内で
.B local
を使った場合、この変数
.I name
の可視スコープは、この関数とこの関数の子に制限されます。
オペランドがない場合、
.B local
はローカル変数の一覧を標準出力に出力します。
関数の内部以外で
.B local
を使うとエラーになります。
.B local
が関数の外部で使われた場合、
不正な
.I name
が与えられた場合、
\fIname\fP が読み取り専用の変数であった場合以外は、
.B local
の返却ステータスは 0 となります。
.TP
.B logout
.\"O Exit a login shell.
ログインシェルを終了します。
.TP
\fBmapfile\fP [\fB\-n\fP \fIcount\fP] [\fB\-O\fP \fIorigin\fP] [\fB\-s\fP \fIcount\fP] [\fB\-t\fP] [\fB\-u\fP \fIfd\fP] [\fB\-C\fP \fIcallback\fP] [\fB\-c\fP \fIquantum\fP] [\fIarray\fP]
.PD 0
.TP
\fBreadarray\fP [\fB\-n\fP \fIcount\fP] [\fB\-O\fP \fIorigin\fP] [\fB\-s\fP \fIcount\fP] [\fB\-t\fP] [\fB\-u\fP \fIfd\fP] [\fB\-C\fP \fIcallback\fP] [\fB\-c\fP \fIquantum\fP] [\fIarray\fP]
.PD
.\"O Read lines from the standard input into the indexed array variable
.\"O .IR array ,
.\"O or from file descriptor 
.\"O .IR fd
.\"O if the 
.\"O .B \-u
.\"O option is supplied.
標準入力の各行を配列変数
.I array
に読み込みます。
.B \-u
オプションが指定されたときは、ファイル・ディスクリプター
.I fd
から読み込みます。
.\"O The variable
.\"O .SM
.\"O .B MAPFILE
.\"O is the default \fIarray\fP.
.\"O Options, if supplied, have the following meanings:
変数
.SM
.B MAPFILE
がデフォルトの \fIarray\fP です。
オプションが指定された場合、以下の意味を持ちます:
.RS
.PD 0
.TP
.B \-n
.\"O Copy at most
.\"O .I count
.\"O lines.  If \fIcount\fP is 0, all lines are copied.
最大
.I count
行をコピーします。\fIcount\fP が 0 であれば、全ての行をコピーします。
.TP
.B \-O
.\"O Begin assigning to
.\"O .I array
.\"O at index
.\"O .IR origin .
.\"O The default index is 0.
.I array
のインデックス
.I origin
から代入を始めます。デフォルトのインデックスは 0 です。
.TP
.B \-s
.\"O Discard the first \fIcount\fP lines read.
最初の \fIcount\fP 行を読み捨てます。
.TP
.B \-t
.\"O Remove a trailing newline from each line read.
読み込んだ各行の末尾にある改行文字を削除します。
.TP
.B \-u
.\"O Read lines from file descriptor \fIfd\fP instead of the standard input.
標準入力の代わりにファイル・ディスクリプター \fIfd\fP から行を読み込みます。
.TP
.B \-C
.\"O Evaluate
.\"O .I callback
.\"O each time \fIquantum\fP lines are read.  The \fB\-c\fP option specifies
.\"O .IR quantum .
\fIquantum\fP 行が読み込まれるごとに
.I callback
を評価します。\fB\-c\fP オプションで
.I quantum
を指定します。
.TP
.B \-c
.\"O Specify the number of lines read between each call to
.\"O .IR callback .
.I callback
を呼び出す間隔の行数を指定します。
.PD
.PP
.\"O If
.\"O .B \-C
.\"O is specified without 
.\"O .BR \-c ,
.\"O the default quantum is 5000.
.BR \-c
なしで
.B \-C
が指定されたとき、デフォルトの間隔は 5000 です。
.\"O When \fIcallback\fP is evaluated, it is supplied the index of the next
.\"O array element to be assigned and the line to be assigned to that element
.\"O as additional arguments.
.\"O \fIcallback\fP is evaluated after the line is read but before the 
.\"O array element is assigned.
\fIcallback\fP が評価されるとき、
次に代入される配列要素のインデックスと、
その要素に代入される行が、引き数として与えられます。
\fIcallback\fP は、行が読み込まれてから
配列の要素に代入されるまでの間に評価されます。
.PP
.\"O If not supplied with an explicit origin, \fBmapfile\fP will clear \fIarray\fP
.\"O before assigning to it.
始点が明示的に指定されない場合、\fBmapfile\fP は値を代入する前に
\fIarray\fP をクリアします。
.PP
.\"O \fBmapfile\fP returns successfully unless an invalid option or option
.\"O argument is supplied, \fIarray\fP is invalid or unassignable, or if
.\"O \fIarray\fP is not an indexed array.
\fBmapfile\fP は、
不正なオプションやオプション引き数が指定された場合や、
\fIarray\fP が不正か代入できない場合や、
\fIarray\fP がインデックスによる配列でない場合でなければ、
成功の状態を返します。
.RE
.TP
\fBpopd\fP [\-\fBn\fP] [+\fIn\fP] [\-\fIn\fP]
.\"O Removes entries from the directory stack.  With no arguments,
.\"O removes the top directory from the stack, and performs a
.\"O .B cd
.\"O to the new top directory.
ディレクトリスタックからエントリを削除します。
引き数がない場合には、スタック先頭のディレクトリが削除され、
新しく先頭となったディレクトリへの
.B cd
が実行されます。
.\"O Arguments, if supplied, have the following meanings:
引き数が指定された場合には、これは以下の意味を持ちます:
.RS
.PD 0
.TP
.B \-n
.\"O Suppresses the normal change of directory when removing directories
.\"O from the stack, so that only the stack is manipulated.
スタックからディレクトリを削除する際に、
通常のディレクトリ変更を行いません。
したがって、スタックだけが操作されます。
.TP
\fB+\fP\fIn\fP
.\"O Removes the \fIn\fPth entry counting from the left of the list
.\"O shown by
.\"O .BR dirs ,
.\"O starting with zero.  For example:
.BR dirs
で表示されるリストの左から数えて \fIn\fP 番目のエントリを削除します。
エントリは 0 から数えます。例えば、
.if n ``popd +0''
.if t \f(CWpopd +0\fP
.\"O removes the first directory,
は最初のディレクトリを削除し、
.if n ``popd +1''
.if t \f(CWpopd +1\fP
.\"O the second.
は 2 番目のディレクトリを削除します。
.TP
\fB\-\fP\fIn\fP
.\"O Removes the \fIn\fPth entry counting from the right of the list
.\"O shown by
.\"O .BR dirs ,
.\"O starting with zero.  For example:
.B dirs
で表示されるリストの右から数えて \fIn\fP 番目のエントリを削除します。
エントリは 0 から数えます。例えば、
.if n ``popd -0''
.if t \f(CWpopd -0\fP
.\"O removes the last directory,
は最後のディレクトリを削除し、
.if n ``popd -1''
.if t \f(CWpopd -1\fP
.\"O the next to last.
は最後の 1 つ前のディレクトリを削除します。
.PD
.PP
.\"O If the
.\"O .B popd
.\"O command is successful, a 
.\"O .B dirs
.\"O is performed as well, and the return status is 0.
.B popd
コマンドが成功した場合、
.B dirs
も実行され、返却ステータスは 0 となります。
.\"O .B popd
.\"O returns false if an invalid option is encountered, the directory stack
.\"O is empty, a non-existent directory stack entry is specified, or the
.\"O directory change fails.
.B popd
が偽を返すのは、不正なオプションがあった場合、
ディレクトリスタックが空の場合、
ディレクトリスタックの存在しないエントリが指定された場合、
ディレクトリ変更に失敗した場合です。
.RE
.TP
\fBprintf\fP [\fB\-v\fP \fIvar\fP] \fIformat\fP [\fIarguments\fP]
.\"O Write the formatted \fIarguments\fP to the standard output under the
.\"O control of the \fIformat\fP.
.\"O The \fB\-v\fP option causes the output to be assigned to the variable
.\"O \fIvar\fP rather than being printed to the standard output.
\fIarguments\fP を整形して標準出力に書き出します。
フォーマットは \fIformat\fP で制御します。
\fB\-v\fP オプションが与えられると、標準出力に書き出す代わりに、
変数 \fIvar\fP に代入されます。
.sp 1
.\"O The \fIformat\fP is a character string which contains three types of objects:
.\"O plain characters, which are simply copied to standard output, character
.\"O escape sequences, which are converted and copied to the standard output, and
.\"O format specifications, each of which causes printing of the next successive
.\"O \fIargument\fP.
.\"O In addition to the standard \fIprintf\fP(1) format specifications,
.\"O \fBprintf\fP interprets the following extensions:
\fIformat\fP は 3 つのタイプのオブジェクトを含む文字列です。
3 つのオブジェクトとは、普通の文字 (そのまま標準出力にコピーされる)、
文字エスケープシーケンス (変換されて標準出力にコピーされる)、
表示フォーマット指定 (\fIformat\fP の後に続く各引き数 \fIargument\fP
の表示を行う)、です。
\fIprintf\fP(1) 標準のフォーマット指定以外に、以下の拡張フォーマットが使えます。
.RS
.PD 0
.TP
.B %b
.\"O causes
.\"O \fBprintf\fP to expand backslash escape sequences in the corresponding
.\"O \fIargument\fP (except that \fB\ec\fP terminates output, backslashes in
.\"O \fB\e\(aq\fP, \fB\e"\fP, and \fB\e?\fP are not removed, and octal escapes
.\"O beginning with \fB\e0\fP may contain up to four digits).
\fBprintf\fP は対応する \fIargument\fP 中の
バックスラッシュのエスケープシーケンスを展開します。
ただし、\fB\ec\fP で出力を終了し、\fB\e\(aq\fP, \fB\e"\fP,
\fB\e?\fP のバックスラッシュは削られず、
\fB\e0\fP で始まる 8 進数のエスケープシーケンスは 4 桁までです。
.TP
.B %q
.\"O causes \fBprintf\fP to output the corresponding
.\"O \fIargument\fP in a format that can be reused as shell input.
\fBprintf\fP は対応する
\fIargument\fP をシェルの入力として再利用できるフォーマットで出力します。
.TP
.B %(\fIdatefmt\fP)T
.\"O causes \fBprintf\fP to output the date-time string resulting from using
.\"O \fIdatefmt\fP as a format string for \fIstrftime\fP(3).  The corresponding
.\"O \fIargument\fP is an integer representing the number of seconds since the
.\"O epoch.  Two special argument values may be used: -1 represents the current
.\"O time, and -2 represents the time the shell was invoked.
\fBprintf\fP は \fIdatefmt\fP を \fIstrftime\fP(3)
の書式文字列として使って日付と時刻の文字列を出力します。
対応する \fIargument\fP は、紀元 (1970年 1 月 1 日 00:00:00 UTC)
からの秒数を表す整数値です。\fIargument\fP には 2 つの特別な値が使えます。
-1 は現在時刻を表します。-2 はシェルが起動した時刻を表します。
.PD
.PP
.\"O Arguments to non-string format specifiers are treated as C constants,
.\"O except that a leading plus or minus sign is allowed, and if the leading
.\"O character is a single or double quote, the value is the ASCII value of
.\"O the following character.
文字列でないフォーマット指定に対する引き数は、C の定数として扱われます。
ただし、先頭のプラスとマイナスの記号は許されます。
また、先頭の文字がシングルクォートやダブルクォートであれば、
続く文字の ASCII コードの値が引き数の値となります。
.PP
.\"O The \fIformat\fP is reused as necessary to consume all of the \fIarguments\fP.
.\"O If the \fIformat\fP requires more \fIarguments\fP than are supplied, the
.\"O extra format specifications behave as if a zero value or null string, as
.\"O appropriate, had been supplied.
.\"O The return value is zero on success, non-zero on failure.
\fIformat\fP は必要に応じて再利用され、
全ての \fIarguments\fP を処理します。
与えられたよりも多くの \fIarguments\fP を
\fIformat\fP が必要とする場合、余分のフォーマット指定は、
0 と空文字列のうち、適切な方が指定されたかのように動作します。
成功した場合の返り値は 0 で、失敗した場合の返り値は 0 以外です。
.RE
.TP
\fBpushd\fP [\fB\-n\fP] [+\fIn\fP] [\-\fIn\fP]
.PD 0
.TP
\fBpushd\fP [\fB\-n\fP] [\fIdir\fP]
.PD
.\"O Adds a directory to the top of the directory stack, or rotates
.\"O the stack, making the new top of the stack the current working
.\"O directory.  With no arguments, exchanges the top two directories
.\"O and returns 0, unless the directory stack is empty.
.\"O Arguments, if supplied, have the following meanings:
ディレクトリをディレクトリのスタックに追加するか、
スタックをローテートさせます。
このとき、新しいスタックの最も上にあるものを
カレントの作業ディレクトリにします。
引き数を与えなければ、
一番上の 2 つのディレクトリを交換し、0 を返します。
ただし、ディレクトリスタックが空の場合を除きます。
引き数を与えた場合には、以下の意味を持ちます:
.RS
.PD 0
.TP
.B \-n
.\"O Suppresses the normal change of directory when adding directories
.\"O to the stack, so that only the stack is manipulated.
ディレクトリをスタックに追加したときに、
通常のディレクトリ変更を行いません。
したがって、スタックだけが操作されます。
.TP
\fB+\fP\fIn\fP
.\"O Rotates the stack so that the \fIn\fPth directory
.\"O (counting from the left of the list shown by
.\"O .BR dirs ,
.\"O starting with zero)
.\"O is at the top.
スタックをローテートさせ、\fIn\fP 番目のディレクトリを一番上にします。
このとき
.B dirs
が表示するリストは左から数え始め、その左端は 0 となります。
.TP
\fB\-\fP\fIn\fP
.\"O Rotates the stack so that the \fIn\fPth directory
.\"O (counting from the right of the list shown by
.\"O .BR dirs ,
.\"O starting with zero) is at the top.
スタックをローテートさせ、\fIn\fP 番目のディレクトリを一番上にします。
このとき
.B dirs
が表示するリストは右から数え始め、その右端は 0 となります。
.TP
.I dir
.\"O Adds
.\"O .I dir
.\"O to the directory stack at the top, making it the
.\"O new current working directory.
.I dir
をディレクトリスタックの一番上に追加し、
そのディレクトリを新しいカレントの作業ディレクトリにします。
.PD
.PP
.\"O If the
.\"O .B pushd
.\"O command is successful, a 
.\"O .B dirs
.\"O is performed as well.
.B pushd
コマンドが成功すると、
.B dirs
コマンドも実行されます。
.\"O If the first form is used,
.\"O .B pushd
.\"O returns 0 unless the cd to
.\"O .I dir
.\"O fails.  With the second form,
.\"O .B pushd
.\"O returns 0 unless the directory stack is empty,
.\"O a non-existent directory stack element is specified,
.\"O or the directory change to the specified new current directory
.\"O fails.
.\"O motoki: 原文が間違っているが、最初の形式と2番目の形式が逆になっている。
2 番目の形式を使った場合、
.I dir
への cd が失敗しなければ、
.B pushd
は 0 を返します。
最初の形式を使った場合には、
ディレクトリスタックが空の場合、
ディレクトリスタックの存在しない要素が指定された場合、
指定された新しいカレントディレクトリへの
ディレクトリ変更が失敗した場合以外は、
.B pushd
は基本的には 0 を返します。
.RE
.TP
\fBpwd\fP [\fB\-LP\fP]
.\"O Print the absolute pathname of the current working directory.
.\"O The pathname printed contains no symbolic links if the
.\"O .B \-P
.\"O option is supplied or the 
.\"O .B \-o physical
.\"O option to the
.\"O .B set
.\"O builtin command is enabled.
現在の作業ディレクトリの絶対パス名を出力します。
.B \-P
オプションが指定された場合や、組み込みコマンド
.B set
の
.B \-o physical
オプションが有効になっている場合には、
シンボリックリンクを展開したパス名が出力されます。
.\"O If the
.\"O .B \-L
.\"O option is used, the pathname printed may contain symbolic links.
.\"O The return status is 0 unless an error occurs while
.\"O reading the name of the current directory or an
.\"O invalid option is supplied.
.B \-L
オプションを使うと、
出力されるパス名にはシンボリックリンクが含まれているかもしれません。
カレントディレクトリの名前を読む際にエラーが起きたり、
不正なオプションが指定されたりしなければ、返却ステータスは 0 となります。
.TP
\fBread\fP [\fB\-ers\fP] [\fB\-a\fP \fIaname\fP] [\fB\-d\fP \fIdelim\fP] [\fB\-i\fP \fItext\fP] [\fB\-n\fP \fInchars\fP] [\fB\-N\fP \fInchars\fP] [\fB\-p\fP \fIprompt\fP] [\fB\-t\fP \fItimeout\fP] [\fB\-u\fP \fIfd\fP] [\fIname\fP ...]
.\"O One line is read from the standard input, or from the file descriptor
.\"O \fIfd\fP supplied as an argument to the \fB\-u\fP option, and the first word
.\"O is assigned to the first
.\"O .IR name ,
.\"O the second word to the second
.\"O .IR name ,
.\"O and so on, with leftover words and their intervening separators assigned
.\"O to the last
.\"O .IR name .
.\"O If there are fewer words read from the input stream than names,
.\"O the remaining names are assigned empty values.
.\"O The characters in 
.\"O .SM
.\"O .B IFS
.\"O are used to split the line into words.
標準入力、
または \fB\-u\fP オプションの引き数として指定されたファイル・ディスクリプター \fIfd\fP
から 1 行を読み込み、最初の単語を最初の
.I name
に代入し、2 番目の単語を 2 番目の
.I name
に代入します。以降も同様です。
余った単語とそれらの間の区切り文字は、最後の
.I name
に代入されます。
.I name
よりも標準入力から読み込んだ単語の方が少ない場合には、
.\"O motoki: 空の値と空文字列は同じか？
余っている
.I name
には空文字列が値として代入されます。
.SM
.B IFS
中の文字が、行を単語に分割するために使われます。
.\"O The backslash character (\fB\e\fP) may be used to remove any special
.\"O meaning for the next character read and for line continuation.
バックスラッシュ文字 (\fB\e\fP) を使うと、
次に読み込んだ文字の特殊な意味を消したり、行を連結したりできます。
.\"O Options, if supplied, have the following meanings:
オプションが与えられていれば、以下の意味を持ちます:
.RS
.PD 0
.TP
.B \-a \fIaname\fP
.\"O The words are assigned to sequential indices
.\"O of the array variable
.\"O .IR aname ,
.\"O starting at 0.
単語を配列変数
.I aname
にインデックス順に代入します。インデックスは 0 から始まります。
.\"O .I aname
.\"O is unset before any new values are assigned.
.\"O Other \fIname\fP arguments are ignored.
新しい値が代入される前に
.I aname
は削除されます。他の
\fIname\fP
引き数は無視されます。
.TP
.B \-d \fIdelim\fP
.\"O The first character of \fIdelim\fP is used to terminate the input line,
.\"O rather than newline.
改行ではなく、\fIdelim\fP の最初の文字が、入力行を終了するために使われます。
.TP
.B \-e
.\"O If the standard input
.\"O is coming from a terminal,
標準入力を端末から読み込む場合、
.\"O .B readline
.\"O (see
.\"O .SM
.\"O .B READLINE
.\"O above) is used to obtain the line.
.B readline
(前述の
.SM
.B READLINE ライブラリ
のセクションを参照) を使って行を取得します。
.\"O Readline uses the current (or default, if line editing was not previously
.\"O active) editing settings.
readline は現在の (行編集がそれまで有効になっていなければデフォルトの)
編集設定を使います。
.TP
.B \-i \fItext\fP
.\"O If
.\"O .B readline
.\"O is being used to read the line, \fItext\fP is placed into the editing
.\"O buffer before editing begins.
行を取得するのに
.B readline
が使われるとき、入力を開始する前に編集バッファに \fItext\fP が置かれます。
.TP
.B \-n \fInchars\fP
.\"O \fBread\fP returns after reading \fInchars\fP characters rather than
.\"O waiting for a complete line of input, but honor a delimiter if fewer
.\"O than \fInchars\fP characters are read before the delimiter.
.\"O motoki: ここだけ「組み込みコマンド」があるが、不要だと思います。
.\"O emasaka: そうは思いますが、bash.1 全体で「組み込みコマンド」が付く
.\"O emasaka: パターンが不明なので。
組み込みコマンド \fBread\fP は、
入力行全体が読み込まれるのを待たず、
\fInchars\fP 文字を読み込んだ時点で戻ります。
ただし、\fInchars\fP 文字が読み込まれる前に区切り文字が現われたときは、
区切り文字を優先します。
.TP
.B \-N \fInchars\fP
.\"O \fBread\fP returns after reading exactly \fInchars\fP characters rather
.\"O than waiting for a complete line of input, unless EOF is encountered or
.\"O \fBread\fP times out.
.\"O Delimiter characters encountered in the input are
.\"O not treated specially and do not cause \fBread\fP to return until
.\"O \fInchars\fP characters are read.
入力行全体が読み込まれるのを待たず、
\fInchars\fP 文字を読み込んだ時点で戻ります。
ただし、入力に EOF が現れたときや、
\fBread\fP がタイムアウトになったときを除きます。
入力に区切り文字が現れても特別扱いはせず、
\fInchars\fP 文字を読み込むまでは \fBread\fP が戻ることはありません。
.TP
.B \-p \fIprompt\fP
.\"O Display \fIprompt\fP on standard error, without a
.\"O trailing newline, before attempting to read any input.  The prompt
.\"O is displayed only if input is coming from a terminal.
入力を読み込もうとする前に標準エラー出力に \fIprompt\fP を表示します。
末尾に改行は付きません。
プロンプトが表示されるのは、入力を端末から読み込む場合だけです。
.TP
.B \-r
.\"O Backslash does not act as an escape character.
.\"O The backslash is considered to be part of the line.
.\"O In particular, a backslash-newline pair may not be used as a line
.\"O continuation.
バックスラッシュはエスケープ文字として作用しません。
バックスラッシュは行の一部とみなされます。
特に、バックスラッシュと改行の組み合わせを使って
複数の行を接続することはできません。
.TP
.B \-s
.\"O Silent mode.  If input is coming from a terminal, characters are
.\"O not echoed.
静かな (silent) モード。端末に入力が行われても、文字はエコーされません。
.TP
.B \-t \fItimeout\fP
.\"O Cause \fBread\fP to time out and return failure if a complete line of
.\"O input is not read within \fItimeout\fP seconds.
.\"O \fItimeout\fP may be a decimal number with a fractional portion following
.\"O the decimal point.
.\"O This option is only effective if \fBread\fP is reading input from a
.\"O terminal, pipe, or other special file; it has no effect when reading
.\"O from regular files.
.\"O If \fItimeout\fP is 0, \fBread\fP returns success if input is available on
.\"O the specified file descriptor, failure otherwise.
.\"O The exit status is greater than 128 if the timeout is exceeded.
.\"O motoki: special files は「スペシャルファイル」でよいのでは。
入力行全体が \fItimeout\fP 秒以内で読み込まれない場合、
\fBread\fP をタイムアウトさせて、失敗の状態を返します。
\fItimeout\fP は小数部を持つ十進数でもかまいません。
このオプションは、
\fBread\fP が入力を端末やパイプ、その他の特殊ファイルから
読み込んでいる場合にのみ効果があります。
通常のファイルから読み込んでいる場合には影響ありません。
\fItimeout\fP が 0 のときは、\fBread\fP は指定したファイル・ディスクリプター
から読み込める状態であれば成功の状態を返し、そうでなければ失敗の状態を返します。
タイムアウト時間を超えた場合、終了ステータスは 128 より大きい値になります。
.TP
.B \-u \fIfd\fP
.\"O Read input from file descriptor \fIfd\fP.
ファイル・ディスクリプター \fIfd\fP から入力を読み込みます。
.PD
.PP
.\"O If no
.\"O .I names
.\"O are supplied, the line read is assigned to the variable
.\"O .SM
.\"O .BR REPLY .
.I name
が全く与えられていない場合、読み込まれた行は変数
.SM
.B REPLY
に代入されます。
.\"O The return code is zero, unless end-of-file is encountered, \fBread\fP
.\"O times out (in which case the return code is greater than 128), or an
.\"O invalid file descriptor is supplied as the argument to \fB\-u\fP.
ファイル末尾に到達した場合、
\fBread\fP がタイムアウトした場合
(この場合には終了ステータスは 128 より大きい値になります)、
\fB\-u\fP の引き数として不正なファイル・ディスクリプターが指定した場合以外は、
終了コードは 0 です。
.RE
.TP
\fBreadonly\fP [\fB\-aAf\fP] [\fB\-p\fP] [\fIname\fP[=\fIword\fP] ...]
.PD
.\"O The given
.\"O \fInames\fP are marked readonly; the values of these
.\"O .I names
.\"O may not be changed by subsequent assignment.
指定された \fIname\fP に読み込み専用の印を付けます。
それ以降は、これらの
.I name
の値を変更することはできません。
.\"O If the
.\"O .B \-f
.\"O option is supplied, the functions corresponding to the
.\"O \fInames\fP are so
.\"O marked.
.B \-f
オプションを与えた場合、\fIname\fP に対応する関数に同様の印が付きます。
.\"O The
.\"O .B \-a
.\"O option restricts the variables to indexed arrays; the
.\"O .B \-A
.\"O option restricts the variables to associative arrays.
.\"O If both options are supplied,
.\"O .B \-A
.\"O takes precedence.
.B \-a
オプションを与えると、配列変数だけが対象となります。
.B \-A
オプションを与えると、連想配列変数だけが対象となります。
両方のオプションを与えると、
.B \-A
が優先されます。
.\"O If no
.\"O .I name
.\"O arguments are given, or if the
.\"O .B \-p
.\"O option is supplied, a list of all readonly names is printed.
.\"O The other options may be used to restrict the output to a subset of
.\"O the set of readonly names.
.I name
引き数が全く与えられてない場合、または
.B \-p
オプションが与えられた場合、読み込み専用の名前全ての一覧が出力されます。
ほかのオプションを合わせて指定すると、出力を読み込み専用の名前の一部に限定します。
.\"O The
.\"O .B \-p
.\"O option causes output to be displayed in a format that
.\"O may be reused as input.
.\"O If a variable name is followed by =\fIword\fP, the value of
.\"O the variable is set to \fIword\fP.
.B \-p
オプションを使うと、
入力として再利用できるようなフォーマットで出力が行われます。
変数名に =\fIword\fP が続くと、変数の値に \fIword\fP が設定されます。
.\"O The return status is 0 unless an invalid option is encountered,
.\"O one of the
.\"O .I names
.\"O is not a valid shell variable name, or
.\"O .B \-f
.\"O is supplied with a
.\"O .I name
.\"O that is not a function.
返却ステータスは基本的に 0 ですが、
無効なオプションがあった場合、
.I name
のいずれかが有効なシェル変数名でなかった場合、
.B \-f
オプションの際に関数でない
.I name
を与えた場合は除きます。
.TP
\fBreturn\fP [\fIn\fP]
.\"O Causes a function to exit with the return value specified by
.\"O .IR n .
指定した返り値
.IR n
で関数を終了させます。
.\"O If 
.\"O .I n
.\"O is omitted, the return status is that of the last command
.\"O executed in the function body.  If used outside a function,
.\"O but during execution of a script by the 
.\"O .B .
.\"O (\fBsource\fP) command, it causes the shell to stop executing
.\"O that script and return either
.\"O .I n
.\"O or the exit status of the last command executed within the
.\"O script as the exit status of the script.  If used outside a
.\"O function and not during execution of a script by \fB.\fP\^,
.\"O the return status is false.
.I n
を省略すると、返却ステータスは
関数内で最後に実行したコマンドの返却ステータスになります。
関数の外側で使われているが、
.B .
(\fBsource\fP) コマンドによるスクリプトの実行中である場合、
シェルはそのスクリプトの実行を止め、
.I n
またはスクリプト内で最後に実行されたコマンドの終了ステータスを
スクリプトの終了ステータスとして返します。
関数の外側で \fB.\fP\^ によるスクリプトの実行中以外に使われた場合、
返却ステータスは偽となります。
.\"O Any command associated with the \fBRETURN\fP trap is executed
.\"O before execution resumes after the function or script.
関数やスクリプトから実行が戻る前に、
\fBRETURN\fP トラップ に設定されたコマンドが実行されます。
.TP
\fBset\fP [\fB\-\-abefhkmnptuvxBCEHPT\fP] [\fB\-o\fP \fIoption\-name\fP] [\fIarg\fP ...]
.PD 0
.TP
\fBset\fP [\fB+abefhkmnptuvxBCEHPT\fP] [\fB+o\fP \fIoption\-name\fP] [\fIarg\fP ...]
.PD
.\"O Without options, the name and value of each shell variable are displayed
.\"O in a format that can be reused as input
.\"O for setting or resetting the currently-set variables.
.\"O Read-only variables cannot be reset.
.\"O In \fIposix mode\fP, only shell variables are listed.
.\"O The output is sorted according to the current locale.
.\"O When options are specified, they set or unset shell attributes.
.\"O Any arguments remaining after option processing are treated
.\"O as values for the positional parameters and are assigned, in order, to 
.\"O .BR $1 ,
.\"O .BR $2 ,
.\"O .B ...
.\"O .BR $\fIn\fP .
オプションなしの場合は、シェル変数全ての名前と値の組が表示されます。
表示は、現在設定されている変数を設定や再設定をする入力
として再利用できるフォーマットで行われます。
読み込み専用の変数は再設定できません。
\fIposix モード\fP ではシェル変数だけが表示されます。
出力は現在のロケールに従ってソートされます。
オプションが指定されている場合、
オプションはシェルの属性を設定または解除します。
オプションが処理された後に残っている引き数があれば、
これは位置パラメータの値として扱われ、
.BR $1 ,
.BR $2 ,
.B ...
.BR $\fIn\fP
の順に代入されます。
.\"O Options, if specified, have the following meanings:
オプションが指定されていれば、以下の意味を持ちます:
.RS
.PD 0
.TP 8
.B \-a
.\"O Automatically mark variables and functions which are modified or
.\"O created for export to the environment of subsequent commands.
値を変更したり新規に設定したりした変数および関数が、
(これ以降に実行するコマンドの) 環境として
自動的にエクスポートされます。
.TP 8
.B \-b
.\"O Report the status of terminated background jobs
.\"O immediately, rather than before the next primary prompt.  This is
.\"O effective only when job control is enabled.
終了したバックグラウンドジョブのステータス報告を、
次のプライマリプロンプトの前ではなく、即座に行います。
これはジョブ制御が有効な場合に限り有効です。
.TP 8
.B \-e
.\"O Exit immediately if a \fIpipeline\fP (which may consist of a single
.\"O \fIsimple command\fP),  a \fIsubshell\fP command enclosed in parentheses,
.\"O or one of the commands executed as part of a command list enclosed
.\"O by braces (see
.\"O .SM
.\"O .B SHELL GRAMMAR
.\"O above) exits with a non-zero status.
\fIパイプライン\fP (1 つの \fI単純なコマンド\fP からなるものでもよい)、
括弧で囲まれた \fIサブシェル\fP のコマンド、
ブレース (前述の
.SM
.B シェルの文法
を参照) で囲まれたコマンドのリストの一部として実行されたコマンドの 1 つ
が 0 でないステータスで終了した場合、即座に終了します。
.\"O The shell does not exit if the
.\"O command that fails is part of the command list immediately following a
.\"O .B while
.\"O or
.\"O .B until
.\"O keyword, 
.\"O part of the test following the
.\"O .B if
.\"O or
.\"O .B elif
.\"O reserved words, part of any command executed in a
.\"O .B &&
.\"O or
.\"O .B ||
.\"O list except the command following the final \fB&&\fP or \fB||\fP,
.\"O any command in a pipeline but the last,
.\"O or if the command's return value is
.\"O being inverted with
.\"O .BR ! .
ただし、失敗したコマンドが、キーワード
.B while
または
.B until
の直後のコマンドの一部である場合、予約語
.B if
または
.B elif
に続く条件式の一部である場合、
.B &&
または
.B ||
によるコマンドのリストの一部である場合 (最後の \fB&&\fP や \fB||\fP の後のコマンドを除く)、
パイプラインの中の最後のコマンド以外である、
コマンドの返り値が
.B !
で反転されている場合、のいずれかであれば、シェルは終了しません。
.\"O A trap on \fBERR\fP, if set, is executed before the shell exits.
.\"O This option applies to the shell environment and each subshell environment
.\"O separately (see
.\"O .SM
.\"O .B "COMMAND EXECUTION ENVIRONMENT"
.\"O above), and may cause
.\"O subshells to exit before executing all the commands in the subshell.
\fBERR\fP に対するトラップが設定されていれば、シェルが終了する前に実行されます。
このオプションはシェルの環境と各サブシェルの環境に別々に適用され
(前述の
.SM
.B "コマンド実行環境"
を参照)、
サブシェルはサブシェル内の全てのコマンドを実行する前に終了するかもしれません。
.TP 8
.B \-f
.\"O Disable pathname expansion.
パス名展開を無効にします。
.TP 8 
.B \-h
.\"O Remember the location of commands as they are looked up for execution.
.\"O This is enabled by default.
.\"O motoki: 何ができるようになるのかは理解できず。
.\"O emasaka: hash -r でクリアしたりするコマンドのハッシュテーブルの
.\"O emasaka: 有効無効の設定ですね。
実行時に参照できるようにコマンドの位置を記憶します。
これはデフォルトで有効になっています。
.TP 8
.B \-k
.\"O All arguments in the form of assignment statements
.\"O are placed in the environment for a command, not just
.\"O those that precede the command name.
.\"O motoki: "placed" なので、追加するではなく、反映させる、といった方が正しいか。
.\"O すでにある場合は上書きすることになるはず。
.\"O motoki: "for a command" ということは、ある一つのコマンドの実行環境だけが変更されるということか？
.\"O motoki: 全体の書式が書かれていないので、詳しいことは分からないが。
.\"O emasaka: foo=xxx cmd と同じように cmd foo=xxx が使えるようになります。
コマンド名の前にある代入文だけでなく、
引数として指定された全て代入文も、
そのコマンドに対する環境変数に追加されます。
.TP 8
.B \-m
.\"O Monitor mode.  Job control is enabled.  This option is on
.\"O by default for interactive shells on systems that support
.\"O it (see
.\"O .SM
.\"O .B JOB CONTROL
.\"O above).  Background processes run in a separate process
.\"O group and a line containing their exit status is printed
.\"O upon their completion.
監視モード。ジョブ制御は有効になります。ジョブ制御 (前述の
.SM
.B ジョブ制御
セクションを参照) をサポートしているシステム上の対話的シェルでは、
このオプションはデフォルトで有効です。
別のプロセスグループで実行されたバックグラウンドプロセスと、
これらの終了ステータスが書かれた行が、プロセスの終了時に表示されます。
.TP 8
.B \-n
.\"O Read commands but do not execute them.  This may be used to 
.\"O check a shell script for syntax errors.  This is ignored by
.\"O interactive shells.
コマンドを読み込みますが実行はしません。
これを使うとシェルスクリプトの文法エラーをチェックできます。
このオプションは対話的シェルでは無視されます。
.TP 8
.B \-o \fIoption\-name\fP
.\"O The \fIoption\-name\fP can be one of the following:
\fIoption\-name\fP には、以下のいずれかを指定できます:
.RS
.TP 8
.B allexport
.\"O Same as
.\"O .BR \-a .
.BR \-a
と同じです。
.TP 8
.B braceexpand
.\"O Same as
.\"O .BR \-B .
.BR \-B
と同じです。
.TP 8
.B emacs
.\"O Use an emacs-style command line editing interface.  This is enabled
.\"O by default when the shell is interactive, unless the shell is started
.\"O with the
.\"O .B \-\-noediting
.\"O option.
emacs 形式のコマンド行編集インタフェースを使います。
これはシェルが対話的な場合には、デフォルトで有効です。
ただし、
.B \-\-noediting
オプション付きでシェルを実行した場合は除きます。
.\"O This also affects the editing interface used for \fBread \-e\fP.
これは、\fBread \-e\fP での編集インタフェースにも影響します。
.TP 8
.B errexit
.\"O Same as
.\"O .BR \-e .
.BR \-e
と同じです。
.TP 8
.B errtrace
.\"O Same as
.\"O .BR \-E .
.BR \-E
と同じです。
.TP 8
.B functrace
.\"O Same as
.\"O .BR \-T .
.BR \-T
と同じです。
.TP 8
.B hashall
.\"O Same as
.\"O .BR \-h .
.BR \-h
と同じです。
.TP 8
.B histexpand
.\"O Same as
.\"O .BR \-H .
.BR \-H
と同じです。
.TP 8
.B history
.\"O Enable command history, as described above under
.\"O .SM
.\"O .BR HISTORY .
コマンド履歴を有効にします。コマンド履歴については
.SM
.B 履歴
セクションで説明しています。
.\"O This option is on by default in interactive shells.
このオプションは、対話的シェルではデフォルトで有効です。
.TP 8
.B ignoreeof
.\"O The effect is as if the shell command
.\"O .if t \f(CWIGNOREEOF=10\fP
.\"O .if n ``IGNOREEOF=10''
.\"O had been executed
.\"O (see
.\"O .B Shell Variables
.\"O above).
シェルコマンドの
.if t \f(CWIGNOREEOF=10\fP
.if n ``IGNOREEOF=10''
を実行した場合と同じ効果を持ちます
(前述の
.B シェル変数
を参照)。
.TP 8
.B keyword
.\"O Same as
.\"O .BR \-k .
.BR \-k
と同じです。
.TP 8
.B monitor
.\"O Same as
.\"O .BR \-m .
.BR \-m
と同じです。
.TP 8
.B noclobber
.\"O Same as
.\"O .BR \-C .
.BR \-C
と同じです。
.TP 8
.B noexec
.\"O Same as
.\"O .BR \-n .
.BR \-n
と同じです。
.TP 8
.B noglob
.\"O Same as
.\"O .BR \-f .
.BR \-f
と同じです。
.TP 8
.B nolog
.\"O Currently ignored.
現在は無視されます。
.TP 8
.B notify
.\"O Same as
.\"O .BR \-b .
.BR \-b
と同じです。
.TP 8
.B nounset
.\"O Same as
.\"O .BR \-u .
.BR \-u
と同じです。
.TP 8
.B onecmd
.\"O Same as
.\"O .BR \-t .
.BR \-t
と同じです。
.TP 8
.B physical
.\"O Same as
.\"O .BR \-P .
.BR \-P
と同じです。
.TP 8
.B pipefail
.\"O If set, the return value of a pipeline is the value of the last
.\"O (rightmost) command to exit with a non-zero status, or zero if all
.\"O commands in the pipeline exit successfully.
.\"O This option is disabled by default.
設定されている場合、パイプラインの返り値は、
0 以外のステータスで終了した最後の (一番右の) コマンドの値になります。
パイプラインの全てのコマンドが成功の状態で終了すると 0 になります。
このオプションは、デフォルトで無効です。
.TP 8
.B posix
.\"O Change the behavior of
.\"O .B bash
.\"O where the default operation differs
.\"O from the POSIX standard to match the standard (\fIposix mode\fP).
.B bash
の動作を変えます。
.B bash
のデフォルトの操作は POSIX 標準と異なりますが、
これを標準に準拠するようにします (\fIposix モード\fP)。
.TP 8
.B privileged
.\"O Same as
.\"O .BR \-p .
.BR \-p
と同じです。
.TP 8
.B verbose
.\"O Same as
.\"O .BR \-v .
.BR \-v
と同じです。
.TP 8
.B vi
.\"O Use a vi-style command line editing interface.
.\"O This also affects the editing interface used for \fBread \-e\fP.
vi 形式のコマンド行編集インタフェースを使います。
これは、\fBread \-e\fP での編集インタフェースにも影響します。
.TP 8
.B xtrace
.\"O Same as
.\"O .BR \-x .
.BR \-x
と同じです。
.sp .5
.PP
.\"O If
.\"O .B \-o
.\"O is supplied with no \fIoption\-name\fP, the values of the current options are
.\"O printed.
\fIoption\-name\fP なしで
.B \-o
オプションを与えた場合、現在のオプションが出力されます。
.\"O If
.\"O .B +o
.\"O is supplied with no \fIoption\-name\fP, a series of
.\"O .B set
.\"O commands to recreate the current option settings is displayed on
.\"O the standard output.
\fIoption\-name\fP なしで
.B +o
オプションを与えた場合、現在のオプション設定を再生成する
.B set
コマンドの列が標準出力に出力されます。
.RE
.TP 8
.B \-p
.\"O Turn on
.\"O .I privileged
.\"O mode.  In this mode, the
.\"O .SM
.\"O .B $ENV
.\"O and
.\"O .SM
.\"O .B $BASH_ENV
.\"O files are not processed, shell functions are not inherited from the
.\"O environment, and the
.\"O .SM
.\"O .BR SHELLOPTS ,
.\"O .SM
.\"O .BR BASHOPTS ,
.\"O .SM
.\"O .BR CDPATH ,
.\"O and
.\"O .SM
.\"O .B GLOBIGNORE
.\"O variables, if they appear in the environment, are ignored.
.I 特権 (privileged)
モードを有効にします。
このモードでは
.SM
.B $ENV
と
.SM
.B $BASH_ENV
ファイルは処理されず、シェル関数は環境から継承されず、
.SM
.BR SHELLOPTS ,
.SM
.BR BASHOPTS ,
.SM
.BR CDPATH ,
.SM
.B GLOBIGNORE
環境変数は定義されていても無視されます。
.\"O If the shell is started with the effective user (group) id not equal to the
.\"O real user (group) id, and the \fB\-p\fP option is not supplied, these actions
.\"O are taken and the effective user id is set to the real user id.
.\"O If the \fB\-p\fP option is supplied at startup, the effective user id is
.\"O not reset.
.\"O Turning this option off causes the effective user
.\"O and group ids to be set to the real user and group ids.
実ユーザ (グループ) ID と異なる実効ユーザ (グループ) ID でシェルが起動され、
かつ \fB\-p\fP オプションが与えられていない場合、
これらの動作が行われ、実効ユーザ ID には実ユーザ ID が設定されます。
起動時に \fB\-p\fP オプションが与えられた場合、
実効ユーザ ID は再設定されません。
このオプションを無効にすると、
実効ユーザ ID と実効グループ ID には、
実ユーザ ID と 実グループ ID が設定されます。
.TP 8
.B \-t
.\"O Exit after reading and executing one command.
コマンドを 1 つ読み込み、実行してから終了します。
.TP 8
.B \-u
.\"O Treat unset variables and parameters other than the special
.\"O parameters "@" and "*" as an error when performing
.\"O parameter expansion.  If expansion is attempted on an
.\"O unset variable or parameter, the shell prints an error message, and,
.\"O if not interactive, exits with a non-zero status.
パラメータ展開の実行中に、特殊パラメータ "@" と "*" 以外で
設定されていない変数やパラメータをエラーとして扱います。
設定されていない変数やパラメータを展開しようとした場合、
シェルはエラーメッセージを出力します。
シェルが対話的でなければ、0 でないステータスで終了します。
.TP 8
.B \-v
.\"O Print shell input lines as they are read.
シェルの入力行を、読み込んだ際に表示します。
.TP 8
.B \-x
.\"O After expanding each \fIsimple command\fP,
.\"O \fBfor\fP command, \fBcase\fP command, \fBselect\fP command, or
.\"O arithmetic \fBfor\fP command, display the expanded value of
.\"O .SM
.\"O .BR PS4 ,
.\"O followed by the command and its expanded arguments
.\"O or associated word list.
.\"O motoki: 各コマンドの展開を行うたびに表示を行うのか、コマンドの一つ一つを展開した後で、
.\"O motoki: 一回表示を行うのかが、よく分からなかった。原文でもよく分からないが。
\fI単純なコマンド\fP、\fBfor\fP コマンド、\fBcase\fP コマンド、
\fBselect\fP コマンド、算術 \fBfor\fP コマンドをそれぞれ展開した後、
.SM
.BR PS4
を展開した値を表示し、その後にそのコマンドと展開した引き数や、
結び付いた単語のリストを表示します。
.TP 8
.B \-B
.\"O The shell performs brace expansion (see
.\"O .B Brace Expansion
.\"O above).  This is on by default.
シェルはブレース展開 (前述の
.B ブレース展開
を参照) を実行します。これはデフォルトで有効です。
.TP 8
.B \-C
.\"O If set,
.\"O .B bash
.\"O does not overwrite an existing file with the
.\"O .BR > ,
.\"O .BR >& ,
.\"O and
.\"O .B <>
.\"O redirection operators.  This may be overridden when 
.\"O creating output files by using the redirection operator
.\"O .B >|
.\"O instead of
.\"O .BR > .
設定されている場合、
.B bash
はリダイレクト演算子
.BR > ,
.BR >& ,
.B <>
で既存のファイルを上書きしません。
上書きができるのは、リダイレクト演算子
.B >|
を
.BR >
の代わりに使ったときです。
.TP 8
.B \-E
.\"O If set, any trap on \fBERR\fP is inherited by shell functions, command
.\"O substitutions, and commands executed in a subshell environment.
設定されている場合、\fBERR\fP のトラップは、
シェル関数、コマンド置換、サブシェル環境で実行されるコマンド
に継承されます。
.\"O The \fBERR\fP trap is normally not inherited in such cases.
通常、このような場面では \fBERR\fP のトラップは継承されません。
.TP 8
.B \-H
.\"O Enable
.\"O .B !
.\"O style history substitution.  This option is on by
.\"O default when the shell is interactive.
.B !
形式の履歴置換を有効にします。
このオプションは、シェルが対話的なときにはデフォルトで有効です。
.TP 8
.B \-P
.\"O If set, the shell does not follow symbolic links when executing
.\"O commands such as
.\"O .B cd
.\"O that change the current working directory.  It uses the
.\"O physical directory structure instead.  By default,
.\"O .B bash
.\"O follows the logical chain of directories when performing commands
.\"O which change the current directory.
設定されている場合、
.B cd
のような現在の作業ディレクトリを変更するコマンドを実行するときに、
シェルはシンボリックリンクを辿りません。
代わりに物理的ディレクトリ構造が使われます。
デフォルトでは、
.B bash
がカレントディレクトリを変更するコマンドを実行する際には、
ディレクトリの論理的な接続が辿られます。
.TP 8
.B \-T
.\"O If set, any traps on \fBDEBUG\fP and \fBRETURN\fP are inherited by shell
.\"O functions, command substitutions, and commands executed in a
.\"O subshell environment.
.\"O The \fBDEBUG\fP and \fBRETURN\fP traps are normally not inherited
.\"O in such cases.
設定されている場合、\fBDEBUG\fP と \fBRETURN\fP のトラップは、
シェル関数、コマンド置換、サブシェル環境で実行されるコマンド
に継承されます。
通常、このような場面では
\fBDEBUG\fP と \fBRETURN\fP のトラップは継承されません。
.TP 8
.B \-\-
.\"O If no arguments follow this option, then the positional parameters are
.\"O unset.  Otherwise, the positional parameters are set to the
.\"O \fIarg\fPs, even if some of them begin with a
.\"O .BR \- .
このオプションの後に引き数が続いていない場合には、
位置パラメータの設定が取り消されます。
引き数が続いている場合には、位置パラメータに \fIarg\fP が設定されます。
\fIarg\fP に
.B \-
で始まるものが含まれていても、
オプションではなく位置パラメータとして扱われます。
.TP 8
.B \-
.\"O Signal the end of options, cause all remaining \fIarg\fPs to be
.\"O assigned to the positional parameters.  The
.\"O .B \-x
.\"O and
.\"O .B \-v
.\"O options are turned off.
オプションの終わりを示します。
残りの \fIarg\fP は全て位置パラメータに代入されます。
.B \-x
オプションと
.B \-v
オプションは無効になります。
.\"O If there are no \fIarg\fPs,
.\"O the positional parameters remain unchanged.
\fIarg\fP がない場合には、位置パラメータの内容は変化しません。
.PD
.PP
.\"O The options are off by default unless otherwise noted.
.\"O Using + rather than \- causes these options to be turned off.
.\"O The options can also be specified as arguments to an invocation of
.\"O the shell.
.\"O The current set of options may be found in
.\"O .BR $\- .
.\"O The return status is always true unless an invalid option is encountered.
特に断らない限り、各オプションはデフォルトで無効になっています。
\- の代わりに + を使うと、これらのオプションは無効になります。
オプションはシェルを起動する際の引き数としても指定できます。
現在のオプションの集合は、
.BR $\-
で知ることができます。
不正なオプションが無ければ、終了ステータスは必ず真となります。
.RE
.TP
\fBshift\fP [\fIn\fP]
.\"O The positional parameters from \fIn\fP+1 ... are renamed to
.\"O .B $1
.\"O .B ....
.\"O Parameters represented by the numbers \fB$#\fP
.\"O down to \fB$#\fP\-\fIn\fP+1 are unset.
\fIn\fP+1 ... からの位置パラメータの名前を変え、
.B $1
.B ...
とします。
\fB$#\fP から \fB$#\fP\-\fIn\fP+1 までの数字で表される
パラメータは unset されます。
.\"O .I n
.\"O must be a non-negative number less than or equal to \fB$#\fP.
.I n
は 0 以上 \fB$#\fP 以下の数でなければなりません。
.\"O If
.\"O .I n
.\"O is 0, no parameters are changed.
.I n
が 0 ならば、どのパラメータも変更されません。
.\"O If
.\"O .I n 
.\"O is not given, it is assumed to be 1.
.I n 
が与えられない場合には、1 が指定されたものとみなされます。
.\"O If
.\"O .I n
.\"O is greater than \fB$#\fP, the positional parameters are not changed.
.\"O The return status is greater than zero if
.\"O .I n
.\"O is greater than
.\"O .B $#
.\"O or less than zero; otherwise 0.
.I n
が \fB$#\fP より大きい場合、位置パラメータは変化しません。
.I n
が
.B $#
より大きい場合や 0 より小さい場合には、
返却ステータスは 0 より大きい数になります。
それ以外の場合には 0 になります。
.TP
\fBshopt\fP [\fB\-pqsu\fP] [\fB\-o\fP] [\fIoptname\fP ...]
.\"O Toggle the values of variables controlling optional shell behavior.
シェルのオプション動作を制御する変数の値をトグルさせます。
.\"O With no options, or with the
.\"O .B \-p
.\"O option, a list of all settable options is displayed, with
.\"O an indication of whether or not each is set.
.\"O The \fB\-p\fP option causes output to be displayed in a form that
.\"O may be reused as input.
オプションがない場合や、
.B \-p
オプションが指定されている場合には、
設定可能なオプション全てのリストが表示されます。
表示の際には、それぞれが設定されているかどうかも示されます。
オプションの表示は、入力として再利用できるフォーマットで行われます。
.\"O Other options have the following meanings:
その他のオプションは、以下の意味を持っています:
.RS
.PD 0
.TP
.B \-s
.\"O Enable (set) each \fIoptname\fP.
\fIoptname\fP をそれぞれ有効にします (設定します)。
.TP
.B \-u
.\"O Disable (unset) each \fIoptname\fP.
\fIoptname\fP をそれぞれ無効にします (設定解除します)。
.TP
.B \-q
.\"O Suppresses normal output (quiet mode); the return status indicates
.\"O whether the \fIoptname\fP is set or unset.
.\"O If multiple \fIoptname\fP arguments are given with
.\"O .BR \-q ,
.\"O the return status is zero if all \fIoptnames\fP are enabled; non-zero
.\"O otherwise.
通常の出力を止めます (静かなモード)。
返却ステータスは \fIoptname\fP が設定されているかどうかを示します。
複数の \fIoptname\fP 引き数と
.B \-q 
が指定されている場合には、
全ての \fIoptnames\fP が有効であるときに返却ステータスが 0 となります。
それ以外のときには、0 でない値となります。
.TP
.B \-o
.\"O Restricts the values of \fIoptname\fP to be those defined for the
.\"O .B \-o
.\"O option to the
.\"O .B set
.\"O builtin.
\fIoptname\fP の値を、組み込みコマンド
.B set
の
.B \-o
オプションで定義されているものに制限します。
.PD
.PP
.\"O If either
.\"O .B \-s
.\"O or
.\"O .B \-u
.\"O is used with no \fIoptname\fP arguments, the display is limited to
.\"O those options which are set or unset, respectively.
引き数 \fIoptname\fP なしで
.B \-s
オプションまたは
.B \-u
オプションを使った場合、それぞれ設定されているもの、
または設定されていないものだけに表示が限定されます。
.\"O Unless otherwise noted, the \fBshopt\fP options are disabled (unset)
.\"O by default.
特に断らない限り、\fBshopt\fP オプションは
デフォルトで無効 (設定解除) になっています。
.PP
.\"O The return status when listing options is zero if all \fIoptnames\fP
.\"O are enabled, non-zero otherwise.  When setting or unsetting options,
.\"O the return status is zero unless an \fIoptname\fP is not a valid shell
.\"O option.
オプションをリスト表示したときの返却ステータスは、
全ての \fIoptnames\fP が有効になっている場合は 0 となります。
それ以外の場合には 0 でない値となります。
設定または設定取り消しのオプションのときには、
\fIoptname\fP が不正なシェルオプションでなければ、
返却ステータスは 0 となります。
.PP
.\"O The list of \fBshopt\fP options is:
\fBshopt\fP オプションのリストを以下に示します:
.if t .sp .5v
.if n .sp 1v
.PD 0
.TP 8
.B autocd
.\"O If set, a command name that is the name of a directory is executed as if
.\"O it were the argument to the \fBcd\fP command.
.\"O This option is only used by interactive shells.
設定されている場合、ディレクトリの名前のコマンド名は、
それが \fBcd\fP コマンドの引き数に指定されたものとして実行されます。
このオプションが使われるのは対話的シェルだけです。
.TP 8
.B cdable_vars
.\"O If set, an argument to the
.\"O .B cd
.\"O builtin command that
.\"O is not a directory is assumed to be the name of a variable whose
.\"O value is the directory to change to.
設定されている場合、組み込みコマンド
.B cd
への引き数でディレクトリでないものは変数の名前とみなされ、
その値が変更先のディレクトリとなります。
.TP 8
.B cdspell
.\"O If set, minor errors in the spelling of a directory component in a
.\"O .B cd
.\"O command will be corrected.
.\"O The errors checked for are transposed characters,
.\"O a missing character, and one character too many.
.\"O If a correction is found, the corrected file name is printed,
.\"O and the command proceeds.
.\"O This option is only used by interactive shells.
設定されている場合、
.B cd
コマンドのディレクトリ要素におけるスペルのちょっとした誤りは修正されます。
チェックされる誤りは、文字の入れ替わり・文字の欠け・
1 文字余分にあることです。
訂正できた場合には、訂正後のファイル名が表示され、
コマンドは続けて実行されます。
このオプションが使われるのは対話的シェルだけです。
.TP 8
.B checkhash
.\"O If set, \fBbash\fP checks that a command found in the hash
.\"O table exists before trying to execute it.  If a hashed command no
.\"O longer exists, a normal path search is performed.
設定されている場合、
\fBbash\fP はハッシュ表で見つけたコマンドを実行する前に
実際に存在するかどうかをチェックします。
ハッシュされているコマンドが既になくなっている場合、
通常のパス検索が行われます。
.TP 8
.B checkjobs
.\"O If set, \fBbash\fP lists the status of any stopped and running jobs before
.\"O exiting an interactive shell.  If any jobs are running, this causes
.\"O the exit to be deferred until a second exit is attempted without an
.\"O intervening command (see
.\"O .SM
.\"O .B "JOB CONTROL"
.\"O above).  The shell always
.\"O postpones exiting if any jobs are stopped.
設定されている場合、\fBbash\fP は対話的シェルが終了する前に、
停止中のジョブや実行中のジョブの状態を一覧します。
実行中のジョブがあれば、シェルの終了は、
間にほかのコマンドを挟まずに 2 回目の終了が試みられるまで延期されます
(前述の
.SM
.B "ジョブ制御"
を参照)。
停止中のジョブがある場合は、シェルは常に終了を延期します。
.TP 8
.B checkwinsize
.\"O If set, \fBbash\fP checks the window size after each command
.\"O and, if necessary, updates the values of
.\"O .SM
.\"O .B LINES
.\"O and
.\"O .SM
.\"O .BR COLUMNS .
設定されている場合、\fBbash\fP
はコマンドの実行後に毎回ウィンドウの大きさをチェックし、
必要に応じて
.SM
.B LINES
と
.SM
.BR COLUMNS
の値を更新します。
.TP 8
.B cmdhist
.\"O If set,
.\"O .B bash
.\"O attempts to save all lines of a multiple-line
.\"O command in the same history entry.  This allows
.\"O easy re-editing of multi-line commands.
設定されている場合、
.B bash
は複数行に分かれているコマンドの全ての行を、
同じ履歴エントリに保存しようとします。
これを使うと、複数行に分かれているコマンドの再編集が容易になります。
.TP 8
.B compat31
.\"O If set,
.\"O .B bash
.\"O changes its behavior to that of version 3.1 with respect to quoted
.\"O arguments to the \fB[[\fP conditional command's \fB=~\fP operator.
設定されている場合、
.B bash
は、条件コマンド \fB[[\fP の \fB=~\fP 演算子のクォートされた引き数に関して
bash version 3.1 の動作に変更します。
.TP 8
.B compat32
.\"O If set,
.\"O .B bash
.\"O changes its behavior to that of version 3.2 with respect to locale-specific
.\"O string comparison when using the \fB[[\fP
.\"O conditional command's \fB<\fP and \fB>\fP operators.
.\"O Bash versions prior to bash-4.1 use ASCII collation and
.\"O .IR strcmp (3);
.\"O bash-4.1 and later
.\"O use the current locale's collation sequence and
.\"O .IR strcoll (3).
設定されている場合、
.B bash
は、条件コマンド \fB[[\fP の \fB<\fP 演算子と \fB>\fP
演算子によるロケール固有の文字列比較に関して、
version 3.2 の動作に変更します。
bash の bash-4.1 より前のバージョンでは、ASCII コードの照合と
.IR strcmp (3)
を使います。
bash-4.1 およびそれ以後のバージョンでは、
現在のロケールの照合順序と
.IR strcoll (3)
を使います。
.TP 8
.B compat40
.\"O If set,
.\"O .B bash
.\"O changes its behavior to that of version 4.0 with respect to locale-specific
.\"O string comparison when using the \fB[[\fP
.\"O conditional command's \fB<\fP and \fB>\fP operators (see previous item)
.\"O and the effect of interrupting a command list.
設定されている場合、
.B bash
は、条件コマンド \fB[[\fP の \fB<\fP 演算子と \fB>\fP
演算子によるロケール固有の文字列比較 (前項を参照)
とコマンドリストの解釈の効果に関して、
version 4.0 の動作に変更します。
.TP 8
.B compat41
.\"O If set,
.\"O .BR bash ,
.\"O when in posix mode, treats a single quote in a double-quoted
.\"O parameter expansion as a special character.  The single quotes must match
.\"O (an even number) and the characters between the single quotes are considered
.\"O quoted.  This is the behavior of posix mode through version 4.1.
.\"O The default bash behavior remains as in previous versions.
設定されている場合、
.BR bash
は posix モードのときに、
ダブルクォートの中のパラメータ展開で
シングルクォートを特殊文字として扱います。
シングルクォートは対応が取れている (偶数個) 必要があり、
シングルクォートの間の文字はクォートされているものとして扱われます。
これは version 4.1 の posix モードの動作です。
bash のデフォルトの動作は前のバージョンのままです。
.TP 8
.B dirspell
.\"O If set,
.\"O .B bash
.\"O attempts spelling correction on directory names during word completion
.\"O if the directory name initially supplied does not exist.
設定されている場合、
.B bash
は
指定されたディレクトリ名が存在しなければ、
単語補完のときにディレクトリ名のスペルの訂正を試みます。
.TP 8
.B dotglob
.\"O If set, 
.\"O .B bash
.\"O includes filenames beginning with a `.' in the results of pathname
.\"O expansion.
設定されている場合、
.B bash
は `.' で始まるファイル名をパス名展開の結果に含めます。
.TP 8
.B execfail
.\"O If set, a non-interactive shell will not exit if
.\"O it cannot execute the file specified as an argument to the
.\"O .B exec
.\"O builtin command.  An interactive shell does not exit if
.\"O .B exec
.\"O fails.
設定されている場合、
組み込みコマンド
.B exec
への引き数として指定されたファイルが実行できなくても、
対話的でないシェルが終了しません。
対話的シェルは
.B exec
に失敗しても終了しません。
.TP 8
.B expand_aliases
.\"O If set, aliases are expanded as described above under
.\"O .SM
.\"O .BR ALIASES .
.\"O This option is enabled by default for interactive shells.
設定されている場合、エイリアスが前述の
.SM
.BR エイリアス
セクションで説明したように展開されます。
このオプションは、対話的なシェルではデフォルトで有効です。
.TP 8
.B extdebug
.\"O If set, behavior intended for use by debuggers is enabled:
設定されている場合、デバッガのための動作が有効になります。
.RS
.TP
.B 1.
.\"O The \fB\-F\fP option to the \fBdeclare\fP builtin displays the source
.\"O file name and line number corresponding to each function name supplied
.\"O as an argument.
組み込みコマンド \fBdeclare\fP の \fB\-F\fP オプションが、
引き数で指定された各関数のソースファイル名と行番号を表示します。
.TP
.B 2.
.\"O If the command run by the \fBDEBUG\fP trap returns a non-zero value, the
.\"O next command is skipped and not executed.
\fBDEBUG\fP のトラップで実行されたコマンドが 0 以外を返したとき、
次のコマンドはスキップされ実行もされません。
.TP
.B 3.
.\"O If the command run by the \fBDEBUG\fP trap returns a value of 2, and the
.\"O shell is executing in a subroutine (a shell function or a shell script
.\"O executed by the \fB.\fP or \fBsource\fP builtins), a call to
.\"O \fBreturn\fP is simulated.
\fBDEBUG\fP のトラップで実行されたコマンドが 2 を返し、かつ、
シェルがサブルーチン (シェル関数や、組み込みコマンドの
\fB.\fP や \fBsource\fP により実行されたシェルスクリプト)
を実行しているとき、\fBreturn\fP の呼び出しがシミュレートされます。
.TP
.B 4.
.\"O .SM
.\"O .B BASH_ARGC
.\"O and
.\"O .SM
.\"O .B BASH_ARGV
.\"O are updated as described in their descriptions above.
上記のシェル変数の説明で述べたように、
.SM
.B BASH_ARGC
と
.SM
.B BASH_ARGV
が更新されます。
.TP
.B 5.
.\"O Function tracing is enabled:  command substitution, shell functions, and
.\"O subshells invoked with \fB(\fP \fIcommand\fP \fB)\fP inherit the
.\"O \fBDEBUG\fP and \fBRETURN\fP traps.
関数のトレースが有効になります。
コマンド置換、シェル関数、\fB(\fP \fIcommand\fP \fB)\fP
で起動されたサブシェルは、
\fBDEBUG\fP と \fBRETURN\fP のトラップを継承します。
.TP
.B 6.
.\"O Error tracing is enabled:  command substitution, shell functions, and
.\"O subshells invoked with \fB(\fP \fIcommand\fP \fB)\fP inherit the
.\"O \fBERR\fP trap.
エラーのトレースが有効になります。
コマンド置換、シェル関数、\fB(\fP \fIcommand\fP \fB)\fP
から起動されたサブシェルは、
\fBERR\fP のトラップを継承します。
.RE
.TP 8
.B extglob
.\"O If set, the extended pattern matching features described above under
.\"O \fBPathname Expansion\fP are enabled.
設定されている場合、拡張されたパターンマッチング機能が有効になります。
これについては、前述の\fBパス名展開\fPで説明しています。
.TP 8
.B extquote
.\"O If set, \fB$\fP\(aq\fIstring\fP\(aq and \fB$\fP"\fIstring\fP" quoting is
.\"O performed within \fB${\fP\fIparameter\fP\fB}\fP expansions
.\"O enclosed in double quotes.  This option is enabled by default.
設定されている場合、ダブルクォート中の \fB${\fP\fIparameter\fP\fB}\fP
の展開で、\fB$\fP\(aq\fIstring\fP\(aq と \fB$\fP"\fIstring\fP"
のクォートが機能します。
このオプションは、デフォルトで有効です。
.TP 8
.B failglob
.\"O If set, patterns which fail to match filenames during pathname expansion
.\"O result in an expansion error.
設定されている場合、パス名展開でパターンがファイル名のマッチに失敗すると、
展開エラーになります。
.TP 8
.B force_fignore
.\"O If set, the suffixes specified by the
.\"O .SM
.\"O .B FIGNORE
.\"O shell variable
.\"O cause words to be ignored when performing word completion even if
.\"O the ignored words are the only possible completions.
設定されている場合、単語補完において、シェル変数
.SM
.B FIGNORE
で指定されたサフィックスの単語は無視されます。
無視された単語が唯一の補完候補であったとしても無視されます。
.\"O See
.\"O .SM
.\"O \fBSHELL VARIABLES\fP
.\"O above for a description of
.\"O .SM
.\"O .BR FIGNORE .
詳しい説明については、前述の
.SM
\fBシェル変数\fP
の
.SM
.BR FIGNORE
の説明を参照してください。
.\"O This option is enabled by default.
このオプションは、デフォルトで有効です。
.TP 8
.B globstar
.\"O If set, the pattern \fB**\fP used in a pathname expansion context will
.\"O match all files and zero or more directories and subdirectories.
.\"O If the pattern is followed by a \fB/\fP, only directories and
.\"O subdirectories match.
設定されている場合、\fB**\fP というパターンがパス名展開で使われると、
深さ 0 以上のディレクトリやサブディレクトリの全てのファイルにマッチします。
直後に \fB/\fP が続く場合には、
ディレクトリとサブディレクトリのみにマッチします。
.TP 8
.B gnu_errfmt
.\"O If set, shell error messages are written in the standard GNU error
.\"O message format.
設定されている場合、シェルのエラーメッセージは
GNU 標準のエラーメッセージの形式で出力されます。
.TP 8
.B histappend
.\"O If set, the history list is appended to the file named by the value
.\"O of the
.\"O .SM
.\"O .B HISTFILE
.\"O variable when the shell exits, rather than overwriting the file.
設定されている場合、シェルの終了時に変数
.SM
.B HISTFILE
の値で指定しているファイルに履歴リストが追加されます。
ファイルへの上書きは行われなくなります。
.TP 8
.B histreedit
.\"O If set, and
.\"O .B readline
.\"O is being used, a user is given the opportunity to re-edit a
.\"O failed history substitution.
この変数が設定されており、かつ
.B readline
が使われている場合、ユーザは失敗した履歴置換を再編集できます。
.TP 8
.B histverify
.\"O If set, and 
.\"O .B readline
.\"O is being used, the results of history substitution are not immediately
.\"O passed to the shell parser.  Instead, the resulting line is loaded into
.\"O the \fBreadline\fP editing buffer, allowing further modification.
この変数が設定されており、かつ
.B readline
が使われている場合、履歴置換の結果は即座にはシェルのパーザに渡されません。
その代わり、結果として得られた行は
\fBreadline\fP の編集バッファに読み込まれ、さらに修正できます。
.TP 8
.B hostcomplete
.\"O If set, and
.\"O .B readline
.\"O is being used, \fBbash\fP will attempt to perform hostname completion when a
.\"O word containing a \fB@\fP is being completed (see
.\"O .B Completing
.\"O under
.\"O .SM
.\"O .B READLINE
.\"O above).
この変数が設定されており、かつ
.B readline
が使われている場合、\fBbash\fP は
\fB@\fP を含む単語を補完するときにホスト名補完を実行しようとします
(前述の
.SM
.B READLINE ライブラリ
のセクションにおける
.B 補完
を参照)。
.\"O This is enabled by default.
これはデフォルトで有効になっています。
.TP 8
.B huponexit
.\"O If set, \fBbash\fP will send
.\"O .SM
.\"O .B SIGHUP
.\"O to all jobs when an interactive login shell exits.
設定されている場合、\fBbash\fP は対話的なログインシェルを終了するときに、
全てのジョブに
.SM
.B SIGHUP
を送ります。
.TP 8
.B interactive_comments
.\"O If set, allow a word beginning with
.\"O .B #
.\"O to cause that word and all remaining characters on that
.\"O line to be ignored in an interactive shell (see
.\"O .SM
.\"O .B COMMENTS
.\"O above).  This option is enabled by default.
設定されている場合、
.B #
で始まる単語について、その単語とその行の残りの文字を
対話的シェルに無視させることができます
(前述の
.SM
.B コメント
セクションを参照)。
このオプションはデフォルトで有効になっています。
.TP 8
.B lastpipe
.\"O If set, and job control is not active, the shell runs the last command of
.\"O a pipeline not executed in the background in the current shell environment.
設定されており、かつジョブ制御が有効でなければ、
シェルはバックグラウンドでの実行ではないパイプラインの最後のコマンドを
現在のシェル環境で実行します。
.TP 8
.B lithist
.\"O If set, and the
.\"O .B cmdhist
.\"O option is enabled, multi-line commands are saved to the history with
.\"O embedded newlines rather than using semicolon separators where possible.
設定されており、かつ
.B cmdhist
オプションが有効ならば、
複数行に分かれているコマンドは (セミコロンで区切られるのではなく)
できる限り途中に改行を埋め込むことで履歴に保存されます。
.TP 8
.B login_shell
.\"O The shell sets this option if it is started as a login shell (see
.\"O .SM
.\"O .B "INVOCATION"
.\"O above).
シェルがログインシェルとして起動されると
(前述の
.SM
.B "INVOCATION"
を参照)、このオプションが設定されます。
.\"O The value may not be changed.
この値を変更することはできません。
.TP 8
.B mailwarn
.\"O If set, and a file that \fBbash\fP is checking for mail has been  
.\"O accessed since the last time it was checked, the message ``The mail in
.\"O \fImailfile\fP has been read'' is displayed.
設定されており、かつ \fBbash\fP がメールのチェックに使うファイルが
前回のチェック以降にアクセスされている場合、
メッセージ ``The mail in \fImailfile\fP has been read'' が表示されます。
.TP 8
.B no_empty_cmd_completion
.\"O If set, and
.\"O .B readline
.\"O is being used,
.\"O .B bash
.\"O will not attempt to search the
.\"O .SM
.\"O .B PATH
.\"O for possible completions when
.\"O completion is attempted on an empty line.
設定されており、かつ
.B readline
が使われている場合、
空行に対してコマンド補完をさせようとしたときに、
.B bash
は補完候補を
.SM
.B PATH
から検索しません。
.TP 8
.B nocaseglob
.\"O If set,
.\"O .B bash
.\"O matches filenames in a case\-insensitive fashion when performing pathname
.\"O expansion (see
.\"O .B Pathname Expansion
.\"O above).
設定されている場合、
.B bash
はパス名展開 (前述の
.B パス名展開
を参照) を行うときに、
ファイル名の大文字と小文字を区別せずにマッチングを行います。
.TP 8
.B nocasematch
.\"O If set,
.\"O .B bash
.\"O matches patterns in a case\-insensitive fashion when performing matching
.\"O while executing \fBcase\fP or \fB[[\fP conditional commands.
設定されている場合、
.B bash
は条件コマンド \fBcase\fP や \fB[[\fP 実行時のパターンマッチで
大文字小文字を区別せずにパターンマッチを行います。
.TP 8
.B nullglob
.\"O If set,
.\"O .B bash
.\"O allows patterns which match no
.\"O files (see
.\"O .B Pathname Expansion
.\"O above)
.\"O to expand to a null string, rather than themselves.
設定されている場合、
.B bash
はどのファイルにもマッチしないパターン (前述の
.B パス名展開 
を参照) を、その文字列自身ではなく、空文字列に展開します。
.TP 8
.B progcomp
.\"O If set, the programmable completion facilities (see
.\"O \fBProgrammable Completion\fP above) are enabled.
.\"O This option is enabled by default.
設定されている場合、プログラム補完機能
(前述の\fBプログラム補完\fPを参照) が有効になります。
このオプションはデフォルトで有効になっています。
.TP 8
.B promptvars
.\"O If set, prompt strings undergo
.\"O parameter expansion, command substitution, arithmetic
.\"O expansion, and quote removal after being expanded as described in
.\"O .SM
.\"O .B PROMPTING
.\"O above.  This option is enabled by default.
設定されている場合、
プロンプト文字列に対して
パラメータ展開、コマンド置換、算術式展開、クォート削除
が行われます。
この展開は前述の
.SM
.B プロンプト
セクションで説明した展開が行われた後に行われます。
このオプションはデフォルトで有効になっています。
.TP 8
.B restricted_shell
.\"O The shell sets this option if it is started in restricted mode (see
.\"O .SM
.\"O .B "RESTRICTED SHELL"
.\"O below).
.\"O The value may not be changed.
シェルが制限モードで起動された場合、
このオプションが設定されます (後述の
.SM
.B 制限付きのシェル
セクションを参照)。
この値を変更することはできません。
.\"O This is not reset when the startup files are executed, allowing
.\"O the startup files to discover whether or not a shell is restricted.
これは起動ファイルが実行されるときにもリセットされないので、
シェルが制限付きかどうかを起動ファイル内部で知ることができます。
.TP 8
.B shift_verbose
.\"O If set, the
.\"O .B shift
.\"O builtin prints an error message when the shift count exceeds the
.\"O number of positional parameters.
設定されている場合、組み込みコマンド
.B shift
においてシフトの回数が位置パラメータの数を超えると、
エラーメッセージが出力されます。
.TP 8
.B sourcepath
.\"O If set, the
.\"O \fBsource\fP (\fB.\fP) builtin uses the value of
.\"O .SM
.\"O .B PATH
.\"O to find the directory containing the file supplied as an argument.
.\"O This option is enabled by default.
設定されている場合、組み込みコマンド \fBsource\fP (\fB.\fP) は
.SM
.B PATH
の値を使って、引き数として与えられたファイルを含むディレクトリを探します。
このオプションはデフォルトで有効です。
.TP 8
.B xpg_echo
.\"O If set, the \fBecho\fP builtin expands backslash-escape sequences
.\"O by default.
設定されている場合、
組み込みコマンド \fBecho\fP は
デフォルトでバックスラッシュによるエスケープシーケンスを展開します。
.RE
.PD
.TP
\fBsuspend\fP [\fB\-f\fP]
.\"O Suspend the execution of this shell until it receives a
.\"O .SM
.\"O .B SIGCONT
.\"O signal.  A login shell cannot be suspended; the
.\"O .B \-f
.\"O option can be used to override this and force the suspension.
.SM
.B SIGCONT
シグナルを受け取るまで、シェルの実行をサスペンドします。
ログインシェルはサスペンドできません。
.B \-f
オプションを与えると、この動作が上書きされ、ログインシェルがサスペンド
できるようになります。
.\"O The return status is 0 unless the shell is a login shell and
.\"O .B \-f
.\"O is not supplied, or if job control is not enabled.
シェルがログインシェルかつ
.B \-f
が与えられていない場合と、ジョブ制御が有効でない場合とを除いて、
返却ステータスは 0 です。
.TP
\fBtest\fP \fIexpr\fP
.PD 0
.TP
\fB[\fP \fIexpr\fP \fB]\fP
.\"O Return a status of 0 or 1 depending on
.\"O the evaluation of the conditional expression
.\"O .IR expr .
条件式
.I expr
を評価した結果に基づいて、ステータス 0 または 1 を返します。
.\"O Each operator and operand must be a separate argument.
.\"O Expressions are composed of the primaries described above under
.\"O .SM
.\"O .BR "CONDITIONAL EXPRESSIONS" .
演算子とオペランドそれぞれは別々の引き数でなければなりません。
式は前述の
.SM
.BR 条件式
セクションで説明したプライマリで構成されます。
.\"O \fBtest\fP does not accept any options, nor does it accept and ignore
.\"O an argument of \fB\-\-\fP as signifying the end of options.
.\"O motoki: もう少し分かりやすい文にならないものか。
\fBtest\fP はオプションを受け取らず、
引き数 \fB\-\-\fP をオプションの終わりを示すものとして受け取りも無視もしません。
.if t .sp 0.5
.if n .sp 1
.\"O Expressions may be combined using the following operators, listed
.\"O in decreasing order of precedence.
.\"O The evaluation depends on the number of arguments; see below.
.\"O Operator precedence is used when there are five or more arguments.
式は次に示す演算子を使って結合できます。
優先度の高い順に示します。
式の評価は後で述べるように引き数の数に依存します。
引き数が 5 つ以上のときは演算子の優先度に従います。
.RS
.PD 0
.TP
.B ! \fIexpr\fP
.\"O True if
.\"O .I expr
.\"O is false.
.I expr
が偽ならば真になります。
.TP
.B ( \fIexpr\fP )
.\"O Returns the value of \fIexpr\fP.
.\"O This may be used to override the normal precedence of operators.
\fIexpr\fP の値を返します。
これを使うと、通常の演算子の優先度を変更できます。
.TP
\fIexpr1\fP \-\fBa\fP \fIexpr2\fP
.\"O True if both
.\"O .I expr1
.\"O and
.\"O .I expr2
.\"O are true.
.I expr1
と
.I expr2
が両方とも真ならば真になります。
.TP
\fIexpr1\fP \-\fBo\fP \fIexpr2\fP
.\"O True if either
.\"O .I expr1
.\"O or
.\"O .I expr2
.\"O is true.
.I expr1
と
.I expr2
のいずれかが真ならば真になります。
.PD
.PP
.\"O \fBtest\fP and \fB[\fP evaluate conditional
.\"O expressions using a set of rules based on the number of arguments.
\fBtest\fP および \fB[\fP は、
引き数の数に基づいた規則の集合を用いて条件式を評価します。
.if t .sp 0.5
.if n .sp 1
.PD 0
.TP
.\"O 0 arguments
引き数が 0 個
.\"O The expression is false.
この式は偽です。
.TP
.\"O 1 argument
引き数が 1 個
.\"O The expression is true if and only if the argument is not null.
引き数が空でない場合に限り真になります。
.TP
.\"O 2 arguments
引き数が 2 個
.\"O If the first argument is \fB!\fP, the expression is true if and
.\"O only if the second argument is null.
最初の引き数が \fB!\fP ならば、
2 番目の引き数が空の場合に限り真になります。
.\"O If the first argument is one of the unary conditional operators listed above
.\"O under
.\"O .SM
.\"O .BR "CONDITIONAL EXPRESSIONS" ,
.\"O the expression is true if the unary test is true.
.\"O If the first argument is not a valid unary conditional operator, the expression
.\"O is false.
最初の引き数が、既に
.SM
.BR 条件式
セクションで説明した単項条件演算子のいずれかであれば、
単項の評価が真の場合に式は真となります。
最初の引き数が正しい単項条件演算子でなければ、式は偽となります。
.TP
.\"O 3 arguments
引き数が 3 個
.\"O The following conditions are applied in the order listed.
以下の順に条件が適用されます。
.\"O If the second argument is one of the binary conditional operators listed above
.\"O under
.\"O .SM
.\"O .BR "CONDITIONAL EXPRESSIONS" ,
.\"O the result of the expression is the result of the binary test using
.\"O the first and third arguments as operands.
2 番目の引き数が、既に
.SM
.BR 条件式
セクションで説明した二値条件演算子のいずれかであれば、
最初の引き数と 3 番目の引き数をオペランドとして使った
二値評価の結果が式の結果となります。
.\"O The \fB\-a\fP and \fB\-o\fP operators are considered binary operators
.\"O when there are three arguments.  
.\"O If the first argument is \fB!\fP, the value is the negation of
.\"O the two-argument test using the second and third arguments.
.\"O If the first argument is exactly \fB(\fP and the third argument is
.\"O exactly \fB)\fP, the result is the one-argument test of the second
.\"O argument.
.\"O Otherwise, the expression is false.
引き数が 3 個の場合、
\fB\-a\fP と \fB\-o\fP は二値演算子として扱われます。
最初の引き数が \fB!\fP であれば、2 番目と 3 番目の引き数を使った、
引き数 2 つの評価の結果を否定したものが値となります。
最初の引き数が \fB(\fP であり、3 番目の引き数が \fB)\fP ならば、
2 番目の引き数を使って引き数 1 つの評価を行った値が結果となります。
これら以外の場合には、式は偽となります。
.TP
.\"O 4 arguments
引き数が 4 個
.\"O If the first argument is \fB!\fP, the result is the negation of
.\"O the three-argument expression composed of the remaining arguments.
.\"O Otherwise, the expression is parsed and evaluated according to 
.\"O precedence using the rules listed above.
最初の引き数が \fB!\fP ならば、
残りの引き数で作った引き数 3 つの式の値を否定したものが結果となります。
それ以外の場合には、先に挙げた規則を使った優先度に従って
式が展開・評価されます。
.TP
.\"O 5 or more arguments
引き数が 5 個以上
.\"O The expression is parsed and evaluated according to precedence
.\"O using the rules listed above.
先に挙げた規則を使った優先度に従って式が展開・評価されます。
.if t .sp 0.5
.if n .sp 1
.LP
.\"O When used with \fBtest\fP or \fB[\fP, the \fB<\fP and \fB>\fP operators
.\"O sort lexicographically using ASCII ordering.
\fBtest\fP や \fB[\fP では、演算子 \fB<\fP と \fB>\fP は
ASCII コードに基づき辞書順にソートします
.RE
.PD
.TP
.B times
.\"O Print the accumulated user and system times for the shell and
.\"O for processes run from the shell.  The return status is 0.
シェルとシェルから実行したプロセスのそれぞれについて、
累積のユーザ時間とシステム時間を加えたものを出力します。
返却ステータスは 0 です。
.TP
\fBtrap\fP [\fB\-lp\fP] [[\fIarg\fP] \fIsigspec\fP ...]
.\"O The command
.\"O .I arg
.\"O is to be read and executed when the shell receives
.\"O signal(s)
.\"O .IR sigspec .
シェルがシグナル
.I sigspec
を受け取ると、コマンド
.I arg
が読み込まれて、実行されます。
.\"O If
.\"O .I arg
.\"O is absent (and there is a single \fIsigspec\fP) or
.\"O .BR \- ,
.\"O each specified signal is
.\"O reset to its original disposition (the value it had
.\"O upon entrance to the shell).
.I arg
が存在しない (かつ \fIsigspec\fP が一つ指定された) 場合か、
.I arg
が
.B \-
の場合、
指定されたシグナルは全てオリジナルの動作
(シェルの起動時に設定されていた値) にリセットされます。
.\"O If 
.\"O .I arg
.\"O is the null string the signal specified by each
.\"O .I sigspec
.\"O is ignored by the shell and by the commands it invokes.
.I arg
が空文字列である場合、それぞれの
.I sigspec
で指定されたシグナルは、
シェルとシェルが起動したコマンドから無視されます。
.\"O If
.\"O .I arg
.\"O is not present and
.\"O .B \-p
.\"O has been supplied, then the trap commands associated with each
.\"O .I sigspec
.\"O are displayed.
.I arg
なしで
.B \-p
オプションが与えられた場合、
各
.I sigspec
に関連付けられた trap コマンドが表示されます。
.\"O If no arguments are supplied or if only
.\"O .B \-p
.\"O is given,
.\"O .B trap
.\"O prints the list of commands associated with each signal.
引き数が全くないか、
.B \-p
だけが与えられた場合、
.B trap
は各シグナルに関連付けられたコマンドのリストを出力します。
.\"O The
.\"O .B \-l
.\"O option causes the shell to print a list of signal names and
.\"O their corresponding numbers.
.B \-l
オプションを与えると、
シェルはシグナル名と対応する番号のリストを出力します。
.\"O Each
.\"O .I sigspec
.\"O is either
.\"O a signal name defined in <\fIsignal.h\fP>, or a signal number.
それぞれの
.I sigspec
は、<\fIsignal.h\fP> で定義されているシグナル名、またはシグナル番号です。
.\"O Signal names are case insensitive and the
.\"O .SM
.\"O .B SIG
.\"O prefix is optional.
シグナル名は大文字小文字は区別されず、先頭の
.SM
.B SIG
は省略可能です。
.if t .sp 0.5
.if n .sp 1
.\"O If a
.\"O .I sigspec
.\"O is
.\"O .SM
.\"O .B EXIT
.\"O (0) the command
.\"O .I arg
.\"O is executed on exit from the shell.
.I sigspec
が
.SM
.B EXIT
(0) であれば、シェルの終了時にコマンド
.I arg
が実行されます。
.\"O If a
.\"O .I sigspec
.\"O is
.\"O .SM
.\"O .BR DEBUG ,
.\"O the command
.\"O .I arg
.\"O is executed before every \fIsimple command\fP, \fIfor\fP command,
.\"O \fIcase\fP command, \fIselect\fP command, every arithmetic \fIfor\fP
.\"O command, and before the first command executes in a shell function (see
.\"O .SM
.\"O .B SHELL GRAMMAR
.\"O above).
.I sigspec
が
.SM
.BR DEBUG
であれば、各々の \fI単純なコマンド\fP、\fIfor\fP コマンド、
\fIcase\fP コマンド、\fIselect\fP コマンド、
各々の算術 \fIfor\fP コマンドの前、およびシェル関数の最初のコマンドの実行前
 (前述の
.SM
.B シェルの文法
セクションを参照) に、コマンド
.I arg
が実行されます。
.\"O Refer to the description of the \fBextdebug\fP option to the
.\"O \fBshopt\fP builtin for details of its effect on the \fBDEBUG\fP trap.
\fBDEBUG\fP のトラップの影響についての詳細は
組み込みコマンド \fBshopt\fP の \fBextdebug\fP
オプションの説明を参照してください。
.\"O If a
.\"O .I sigspec
.\"O is
.\"O .SM
.\"O .BR RETURN ,
.\"O the command
.\"O .I arg
.\"O is executed each time a shell function or a script executed with
.\"O the \fB.\fP or \fBsource\fP builtins finishes executing.
.I sigspec
が
.SM
.BR RETURN
であれば、シェル関数の実行、または組み込みコマンドの \fB.\fP や \fBsource\fP で
実行されたスクリプトの実行が終わるたびにコマンド
.I arg
が実行されます。
.if t .sp 0.5
.if n .sp 1
.\"O If a
.\"O .I sigspec
.\"O is
.\"O .SM
.\"O .BR ERR ,
.\"O the command
.\"O .I arg
.\"O is executed whenever a simple command has a non\-zero exit status,
.\"O subject to the following conditions.
.I sigspec
が
.SM
.BR ERR
であれば、
単純なコマンドが 0 以外の終了ステータスのときにコマンド
.I arg
が実行されます。
.\"O The
.\"O .SM
.\"O .B ERR
.\"O trap is not executed if the failed
.\"O command is part of the command list immediately following a
.\"O .B while
.\"O or
.\"O .B until
.\"O keyword, 
.\"O part of the test in an
.\"O .I if
.\"O statement, part of a command executed in a
.\"O .B &&
.\"O or
.\"O .B ||
.\"O list, or if the command's return value is
.\"O being inverted via
.\"O .BR ! .
.\"O These are the same conditions obeyed by the \fBerrexit\fP option.
ただし、失敗したコマンドが、
.B while
または
.B until
キーワード直後のコマンドリストに含まれる場合、
.I if
文の条件に含まれる場合、
.B &&
や
.B ||
のリスト中で実行するコマンドに含まれる場合、
および、コマンドの戻り値が
.BR !
で反転されている場合には、
.SM
.B ERR
のトラップは実行されません。
これらは \fBerrexit\fP オプションが従う条件と同じです。
.if t .sp 0.5
.if n .sp 1
.\"O Signals ignored upon entry to the shell cannot be trapped or reset.
.\"O Trapped signals that are not being ignored are reset to their original
.\"O values in a subshell or subshell environment when one is created.
シェルに入る際に無視されるシグナルは、
トラップもリセットもできません。
無視されなかったシグナルのトラップは、
サブシェルやサブシェル環境では作られたときに
元の値にリセットされます。
.\"O The return status is false if any
.\"O .I sigspec
.\"O is invalid; otherwise
.\"O .B trap
.\"O returns true.
.I sigspec
のいずれかが不正であれば、返却ステータスは偽になります。
それ以外の場合には、
.B trap
は真を返します。
.TP
\fBtype\fP [\fB\-aftpP\fP] \fIname\fP [\fIname\fP ...]
.\"O With no options, 
.\"O indicate how each
.\"O .I name
.\"O would be interpreted if used as a command name.
オプションなしの場合には、各
.I name
をコマンド名として使ったときに、それがどのように解釈されるかを示します。
.\"O If the
.\"O .B \-t
.\"O option is used,
.\"O .B type
.\"O prints a string which is one of
.\"O .IR alias ,
.\"O .IR keyword ,
.\"O .IR function ,
.\"O .IR builtin ,
.\"O or
.\"O .I file 
.\"O if
.\"O .I name
.\"O is an alias, shell reserved word, function, builtin, or disk file,
.\"O respectively.
.B \-t
オプションを使うと、
.I name
がエイリアス、シェルの予約語、関数、
組み込みコマンド、ディスク上のファイルのいずれかの場合、
.B type
はそれぞれ
.IR alias ,
.IR keyword ,
.IR function ,
.IR builtin ,
.I file
という文字列を出力します。
.\"O If the
.\"O .I name
.\"O is not found, then nothing is printed, and an exit status of false
.\"O is returned.
.I name
が見つからない場合は何も出力されず、偽の終了ステータスが返されます。
.\"O If the
.\"O .B \-p
.\"O option is used,
.\"O .B type
.\"O either returns the name of the disk file
.\"O that would be executed if
.\"O .I name
.\"O were specified as a command name,
.\"O or nothing if
.\"O .if t \f(CWtype -t name\fP
.\"O .if n ``type -t name''
.\"O would not return
.\"O .IR file .
.B \-p
オプションを使うと、
.B type
は
.I name
をコマンド名として指定した場合に実行されるディスクファイルの名前を返します。
ただし、
.if t \f(CWtype -t name\fP
.if n ``type -t name''
が
.IR file
を返さない場合は、何も返しません。
.\"O The
.\"O .B \-P
.\"O option forces a
.\"O .SM
.\"O .B PATH
.\"O search for each \fIname\fP, even if
.\"O .if t \f(CWtype -t name\fP
.\"O .if n ``type -t name''
.\"O would not return
.\"O .IR file .
.B \-P
オプションを使うと、
.if t \f(CWtype -t name\fP
.if n ``type -t name''
が
.I file
を返さない場合でも \fIname\fP を
.SM
.B PATH
から探します。
.\"O If a command is hashed,
.\"O .B \-p
.\"O and
.\"O .B \-P
.\"O print the hashed value, not necessarily the file that appears
.\"O first in 
.\"O .SM
.\"O .BR PATH .
コマンドがハッシュされている場合、
.B \-p
や
.B \-P
はハッシュされている値を表示します。
この場合、表示されるのは、必ずしも
.SM
.BR PATH
中で最初に現われるファイルとは限りません。
.\"O If the
.\"O .B \-a
.\"O option is used, 
.\"O .B type
.\"O prints all of the places that contain
.\"O an executable named 
.\"O .IR name .
.B \-a
オプションを使うと、
.B type
は
.I name
という名前の実行ファイルがある場所を全て出力します。
.\"O This includes aliases and functions,
.\"O if and only if the 
.\"O .B \-p
.\"O option is not also used.
.\"O The table of hashed commands is not consulted
.\"O when using
.\"O .BR \-a .
.B \-p
オプションが同時に使われていない場合に限り、
エイリアスや関数も出力されます。
.B \-a
を使うときには、ハッシュされているコマンドの表は参照されません。
.\"O The
.\"O .B \-f
.\"O option suppresses shell function lookup, as with the \fBcommand\fP builtin.
.B \-f
オプションを使うと、
組み込みコマンド \fBcommand\fP と同じように、シェル関数を探しません。
.\"O .B type
.\"O returns true if all of the arguments are found, false if
.\"O any are not found.
.B type
は、すべての引き数が見つかれば真を返し、
いずれかが見つからなければ偽を返します。
.TP
\fBulimit\fP [\fB\-HSTabcdefilmnpqrstuvx\fP [\fIlimit\fP]]
.\"O Provides control over the resources available to the shell and to
.\"O processes started by it, on systems that allow such control.
.\"O The \fB\-H\fP and \fB\-S\fP options specify that the hard or soft limit is
.\"O set for the given resource.
.\"O A hard limit cannot be increased by a non-root user once it is set;
.\"O a soft limit may be increased up to the value of the hard limit.
.\"O If neither \fB\-H\fP nor \fB\-S\fP is specified, both the soft and hard
.\"O limits are set.
これを使うと、シェルおよびシェルが起動するプロセスが
利用できるリソースを制御できます。
ただし、このような制御ができるシステムの場合に限ります。
\fB\-H\fP オプションと \fB\-S\fP オプションは、
それぞれ指定されたリソースに対する
強い制限 (hard limit) と弱い制限 (soft limit) を設定します。
強い制限は一度設定すると、root 以外のユーザが増やすことはできません。
弱い制限は強い制限の値までは増やせます。
\fB\-H\fP と \fB\-S\fP がどちらも指定されていない場合、
強い制限と弱い制限が両方とも設定されます。
.\"O The value of
.\"O .I limit
.\"O can be a number in the unit specified for the resource
.\"O or one of the special values
.\"O .BR hard ,
.\"O .BR soft ,
.\"O or
.\"O .BR unlimited ,
.\"O which stand for the current hard limit, the current soft limit, and
.\"O no limit, respectively.
.I limit
の値には、数字 (単位はリソースに応じて規定)、または
.BR hard ,
.BR soft ,
.BR unlimited
が指定できます。
.BR hard ,
.BR soft ,
.BR unlimited
は、それぞれ現在の強い制限、現在の弱い制限、制限なしを表します。
.\"O If
.\"O .I limit
.\"O is omitted, the current value of the soft limit of the resource is
.\"O printed, unless the \fB\-H\fP option is given.  When more than one
.\"O resource is specified, the limit name and unit are printed before the value.
.I limit
を省略すると、リソースの弱い制限の現在値が表示されます。
ただし、\fB\-H\fP が与えられている場合は除きます。
複数のリソースが指定されているときは、制限名と単位が値の前に出力されます。
.\"O Other options are interpreted as follows:
他のオプションは以下のように解釈されます:
.RS
.PD 0
.TP
.B \-a
.\"O All current limits are reported
現在の制限を全て表示する
.TP
.B \-b
.\"O The maximum socket buffer size
ソケットバッファの最大サイズ
.TP
.B \-c
.\"O The maximum size of core files created
生成されるコア (core) ファイルの最大サイズ
.TP
.B \-d
.\"O The maximum size of a process's data segment
プロセスのデータセグメントの最大サイズ
.TP
.B \-e
.\"O The maximum scheduling priority ("nice")
スケジュール優先度 ("nice") の最大値
.TP
.B \-f
.\"O The maximum size of files written by the shell and its children
シェルとその子プロセスが生成できるファイルの最大サイズ
.TP
.B \-i
.\"O The maximum number of pending signals
保留中シグナルの最大数
.TP
.B \-l
.\"O The maximum size that may be locked into memory
メモリにロックできる最大サイズ
.TP
.B \-m
.\"O The maximum resident set size (many systems do not honor this limit)
常駐セットサイズ (resident set size) の最大値
(多くのシステムはこの制限を守りません)
.TP
.B \-n
.\"O The maximum number of open file descriptors (most systems do not
.\"O allow this value to be set)
オープンできるファイル・ディスクリプターの最大数
(ほとんどのシステムでは、この値を設定することはできません)
.TP
.B \-p
.\"O The pipe size in 512-byte blocks (this may not be set)
512 バイトブロック単位でのパイプのサイズ
(これは設定できないかもしれません)
.TP
.B \-q
.\"O The maximum number of bytes in POSIX message queues
POSIX メッセージキューの最大バイト数
.TP
.B \-r
.\"O The maximum real-time scheduling priority
リアルタイム・スケジューリングの優先度の最大値
.TP
.B \-s
.\"O The maximum stack size
最大スタックサイズ
.TP
.B \-t
.\"O The maximum amount of cpu time in seconds
CPU 時間の最大量 (秒単位)
.TP
.B \-u
.\"O The maximum number of processes available to a single user
1 人のユーザが使用できる最大のプロセス数
.TP
.B \-v
.\"O The maximum amount of virtual memory available to the shell and, on
.\"O some systems, to its children
そのシェルが使用できる最大の仮想メモリ量
(システムによっては、子プロセスも含まれる)
.TP
.B \-x
.\"O The maximum number of file locks
ファイルロックの最大数
.TP
.B \-T
.\"O The maximum number of threads
スレッドの最大数
.PD
.PP
.\"O If
.\"O .I limit
.\"O is given, it is the new value of the specified resource (the
.\"O .B \-a
.\"O option is display only).
.I limit
が指定された場合、その値が指定されたリソースの新しい値となります
.RB ( \-a
は表示専用です)。
.\"O If no option is given, then
.\"O .B \-f
.\"O is assumed.  Values are in 1024-byte increments, except for
.\"O .BR \-t ,
.\"O which is in seconds,
.\"O .BR \-p ,
.\"O which is in units of 512-byte blocks,
.\"O and
.\"O .BR \-T ,
.\"O .BR \-b ,
.\"O .BR \-n ,
.\"O .BR \-n ,
.\"O and
.\"O .BR \-u ,
.\"O which are unscaled values.
オプションが全く指定されなかった場合は、
.B \-f
が指定されたものとみなされます。
値は 1024 バイト単位で増えますが、例外として
.BR \-t
は秒単位、
.BR \-p
512 バイトブロック単位、
.BR \-T ,
.BR \-b ,
.BR \-n ,
.BR \-n ,
.BR \-u
は単位なしの値です。
.\"O The return status is 0 unless an invalid option or argument is supplied,
.\"O or an error occurs while setting a new limit.
返却ステータスは基本的に 0 ですが、
不正なオプションや引き数が渡された場合、
新しい制限を設定する際にエラーが起きた場合は除きます。
.RE
.TP
\fBumask\fP [\fB\-p\fP] [\fB\-S\fP] [\fImode\fP]
.\"O The user file-creation mask is set to 
.\"O .IR mode .
ユーザのファイル生成マスクに
.I mode
を設定します。
.\"O If
.\"O .I mode
.\"O begins with a digit, it
.\"O is interpreted as an octal number; otherwise
.\"O it is interpreted as a symbolic mode mask similar
.\"O to that accepted by
.\"O .IR chmod (1).
.I mode
が数字で始まる場合には、これは 8 進数と解釈されます。
それ以外の場合には、
.IR chmod (1)
に指定するのと同様のシンボリックなモードマスクと解釈されます。
.\"O If
.\"O .I mode
.\"O is omitted, the current value of the mask is printed.
.I mode
が省略されると、現在のマスクの値が出力されます。
.\"O The
.\"O .B \-S
.\"O option causes the mask to be printed in symbolic form; the
.\"O default output is an octal number.
.B \-S
オプションを指定すると、マスクはシンボリックな形式で表示されます。
デフォルトの出力は 8 進の数値です。
.\"O If the
.\"O .B \-p
.\"O option is supplied, and
.\"O .I mode
.\"O is omitted, the output is in a form that may be reused as input.
.B \-p
オプションが指定され、かつ
.I mode
が省略された場合、入力として再利用できる形式で出力が行われます。
.\"O The return status is 0 if the mode was successfully changed or if
.\"O no \fImode\fP argument was supplied, and false otherwise.
モードが正常に変更できた場合や、
\fImode\fP 引き数が全く与えられなかった場合には、
返却ステータスは 0 となります。
それ以外の場合には偽となります。
.TP
\fBunalias\fP [\-\fBa\fP] [\fIname\fP ...]
.\"O Remove each \fIname\fP from the list of defined aliases.  If
.\"O .B \-a
.\"O is supplied, all alias definitions are removed.  The return
.\"O value is true unless a supplied
.\"O .I name
.\"O is not a defined alias.
定義されているエイリアスのリストから \fIname\fP を削除します。
.B \-a
が与えられている場合には、エイリアス定義は全て削除されます。
与えられた
.I name
が定義されているエイリアスでない場合以外は、返却ステータスは真になります。
.TP
\fBunset\fP [\-\fBfv\fP] [\fIname\fP ...]
.\"O For each
.\"O .IR name ,
.\"O remove the corresponding variable or function.
.\"O If no options are supplied, or the
.\"O .B \-v
.\"O option is given, each
.\"O .I name
.\"O refers to a shell variable.
.\"O Read-only variables may not be unset.
.I name
それぞれについて、対応する変数や関数を削除します。
オプションが全く指定されていない場合や、
.B \-v
オプションが指定された場合は、各
.I name
はシェル変数を参照します。
読み込み専用の変数の設定を消すことはできません。
.\"O If
.\"O .B \-f
.\"O is specified, each
.\"O .I name
.\"O refers to a shell function, and the function definition
.\"O is removed.
.B \-f
が指定されている場合、各
.I name
はシェル関数を参照し、その関数の定義が削除されます。
.\"O Each unset variable or function is removed from the environment
.\"O passed to subsequent commands.
設定が消された変数や関数は全て、
それ以降のコマンドに渡される環境変数からも削除されます。
.\"O If any of
.\"O .SM
.\"O .BR COMP_WORDBREAKS ,
.\"O .SM
.\"O .BR RANDOM ,
.\"O .SM
.\"O .BR SECONDS ,
.\"O .SM
.\"O .BR LINENO ,
.\"O .SM
.\"O .BR HISTCMD ,
.\"O .SM
.\"O .BR FUNCNAME ,
.\"O .SM
.\"O .BR GROUPS ,
.\"O or
.\"O .SM
.\"O .B DIRSTACK
.\"O are unset, they lose their special properties, even if they are
.\"O subsequently reset.  The exit status is true unless a
.\"O .I name
.\"O is readonly.
.SM
.BR COMP_WORDBREAKS ,
.SM
.BR RANDOM ,
.SM
.BR SECONDS ,
.SM
.BR LINENO ,
.SM
.BR HISTCMD ,
.SM
.BR FUNCNAME ,
.SM
.BR GROUPS ,
.SM
.B DIRSTACK
のいずれかの設定を消した場合、これらが持つ特別な特性もなくなります。
これは後で再設定しても元に戻ることはありません。
.I name
が読み込み専用の場合以外は、
終了ステータスは真となります。
.TP
\fBwait\fP [\fIn ...\fP]
.\"O Wait for each specified process and return its termination status.
.\"O Each
.\"O .I n
.\"O may be a process
.\"O ID or a job specification; if a job spec is given, all processes
.\"O in that job's pipeline are waited for.  If
指定された各プロセスを wait し、その終了ステータスを返します。
各
.I n
はプロセス ID またはジョブ指定です。
ジョブ指定を与えた場合、そのジョブのパイプラインに含まれる
全てのプロセスを wait します。
.\"O .I n
.\"O is not given, all currently active child processes
.\"O are waited for, and the return status is zero.  If
.\"O .I n
.\"O specifies a non-existent process or job, the return status is
.\"O 127.  Otherwise, the return status is the exit status of the last
.\"O process or job waited for.
.I n
が与えられていない場合には、現在アクティブな全ての子プロセスを wait し、
返却ステータスは 0 となります。
.I n
が存在しないプロセスやジョブを指定している場合、
返却ステータスは 127 になります。
それ以外の場合、返却ステータスは
wait していた最後のプロセスまたはジョブの終了ステータスとなります。
.\" bash_builtins
.if \n(zZ=1 .ig zZ
.\"O .SH "RESTRICTED SHELL"
.SH "制限付きのシェル(RESTRICTED SHELL)"
.\" rbash.1
.zY
.PP
.\"O If
.\"O .B bash
.\"O is started with the name
.\"O .BR rbash ,
.\"O or the
.\"O .B \-r
.\"O option is supplied at invocation,
.\"O the shell becomes restricted.
.B bash
を
.BR rbash
という名前で起動した場合や、起動時に
.B \-r
オプションを指定した場合には、シェルは制限された状態になります。
.\"O A restricted shell is used to
.\"O set up an environment more controlled than the standard shell.
制限付きのシェルは、
標準のシェルよりも細かく制御された環境を用意したいときに使われます。
.\"O It behaves identically to
.\"O .B bash
.\"O with the exception that the following are disallowed or not performed:
制限付きのシェルは
.B bash
と全く同じように動作しますが、
以下のようなことが許可されなかったり実行されなかったりします。
.IP \(bu
.\"O changing directories with \fBcd\fP
\fBcd\fP を使ってディレクトリを変更すること
.IP \(bu
.\"O setting or unsetting the values of
.\"O .SM
.\"O .BR SHELL ,
.\"O .SM
.\"O .BR PATH ,
.\"O .SM
.\"O .BR ENV ,
.\"O or
.\"O .SM
.\"O .B BASH_ENV
.SM
.BR SHELL ,
.SM
.BR PATH ,
.SM
.BR ENV ,
.SM
.B BASH_ENV
の値の設定や設定取り消しを行うこと
.IP \(bu
.\"O specifying command names containing
.\"O .B /
.B /
を含むコマンド名を指定すること
.IP \(bu
.\"O specifying a file name containing a
.\"O .B /
.\"O as an argument to the
.\"O .B .
.\"O builtin command
組み込みコマンド
.B .
の引き数として
.B /
を含むファイル名を指定すること
.IP \(bu
.\"O specifying a filename containing a slash as an argument to the
.\"O .B \-p
.\"O option to the
.\"O .B hash
.\"O builtin command
組み込みコマンド
.B hash
のオプション
.B \-p
の引き数として
.B /
を含むファイル名を指定すること
.IP \(bu
.\"O importing function definitions from the shell environment at startup
起動時にシェル環境から関数定義をインポートすること
.IP \(bu
.\"O parsing the value of
.\"O .SM
.\"O .B SHELLOPTS
.\"O from the shell environment at startup
起動時にシェル環境から
.SM
.B SHELLOPTS
の値を解釈すること
.IP \(bu
.\"O redirecting output using the >, >|, <>, >&, &>, and >> redirection operators
リダイレクション演算子 >, >|, <>, >&, &>, >> を使ってリダイレクトを行
なうこと
.IP \(bu
.\"O using the
.\"O .B exec
.\"O builtin command to replace the shell with another command
組み込みコマンド
.B exec
を用いて、シェルを別のコマンドに置き換えること
.IP \(bu
.\"O adding or deleting builtin commands with the
.\"O .B \-f
.\"O and
.\"O .B \-d
.\"O options to the
.\"O .B enable
.\"O builtin command
組み込みコマンド
.B enable
の
.B \-f
オプションと
.B \-d
オプションを使って、組み込みコマンドを追加・削除すること
.IP \(bu
.\"O using the \fBenable\fP builtin command to enable disabled shell builtins
組み込みコマンド \fBenable\fP を使って、無効になっている組み込みコマンドを有効にすること
.IP \(bu
.\"O specifying the
.\"O .B \-p
.\"O option to the
.\"O .B command
.\"O builtin command
組み込みコマンド
.B command
に
.B \-p
オプションを指定すること
.IP \(bu
.\"O turning off restricted mode with
.\"O \fBset +r\fP or \fBset +o restricted\fP.
\fBset +r\fP や \fBset +o restricted\fP を用いて制限モードを解除すること
.PP
.\"O These restrictions are enforced after any startup files are read.
これらの制限は、何らかの起動ファイルを読み込んだ後に適用されます。
.PP
.\"O .ie \n(zY=1 When a command that is found to be a shell script is executed,
.\"O .el \{ When a command that is found to be a shell script is executed
.\"O (see
.\"O .SM
.\"O .B "COMMAND EXECUTION"
.\"O above),
.\"O \}
.\"O .B rbash
.\"O turns off any restrictions in the shell spawned to execute the
.\"O script.
.ie \n(zY=1 シェルスクリプトであると判明したファイルが実行されるとき
.el \{ シェルスクリプトであると判明したファイルが実行されるとき
(前述の
.SM
.B コマンドの実行
を参照)、
\}
.B rbash
はスクリプト実行用に立ち上げたシェルでは制限を全て無効にします。
.\" end of rbash.1
.if \n(zY=1 .ig zY
.\"O .SH "SEE ALSO"
.SH 関連項目
.PD 0
.TP
\fIBash Reference Manual\fP, Brian Fox and Chet Ramey
.TP
\fIThe Gnu Readline Library\fP, Brian Fox and Chet Ramey
.TP
\fIThe Gnu History Library\fP, Brian Fox and Chet Ramey
.TP
\fIPortable Operating System Interface (POSIX) Part 2: Shell and Utilities\fP, IEEE
.TP
\fIsh\fP(1), \fIksh\fP(1), \fIcsh\fP(1)
.TP
\fIemacs\fP(1), \fIvi\fP(1)
.TP
\fIreadline\fP(3)
.PD
.\"O .SH FILES
.SH ファイル
.PD 0
.TP
.FN /bin/bash
.\"O The \fBbash\fP executable
\fBbash\fP の実行ファイル。
.TP
.FN /etc/profile
.\"O The systemwide initialization file, executed for login shells
システム全体用の初期化ファイル。ログインシェルが実行します。
.TP
.FN ~/.bash_profile
.\"O The personal initialization file, executed for login shells
個人用の初期化ファイル。ログインシェルが実行します。
.TP
.FN ~/.bashrc
.\"O The individual per-interactive-shell startup file
対話シェルごとに実行される、個人用の起動ファイル。
.TP
.FN ~/.bash_logout
.\"O The individual login shell cleanup file, executed when a login shell exits
個人用のログインシェル後処理ファイル。
ログインシェルの終了時に実行されます。
.TP
.FN ~/.inputrc
.\"O Individual \fIreadline\fP initialization file
個人用の \fIreadline\fP 初期化ファイル。
.PD
.\"O .SH AUTHORS
.SH 作者
Brian Fox, Free Software Foundation
.br
bfox@gnu.org
.PP
Chet Ramey, Case Western Reserve University
.br
chet.ramey@case.edu
.\"O .SH BUG REPORTS
.SH バグ報告
.\"O If you find a bug in
.\"O .B bash,
.\"O you should report it.  But first, you should
.\"O make sure that it really is a bug, and that it appears in the latest
.\"O version of
.\"O .BR bash .
.\"O The latest version is always available from
.\"O \fIftp://ftp.gnu.org/pub/gnu/bash/\fP.
.B bash
のバグを見つけたら必ず報告してください。
ただし報告の前には、それが本当にバグであることと、
バグが最新版の
.BR bash
で起こることを確かめてください。
最新版は \fIftp://ftp.gnu.org/pub/gnu/bash/\fP から入手できます。
.PP
.\"O Once you have determined that a bug actually exists, use the
.\"O .I bashbug
.\"O command to submit a bug report.
.\"O If you have a fix, you are encouraged to mail that as well!
.\"O Suggestions and `philosophical' bug reports may be mailed
.\"O to \fIbug-bash@gnu.org\fP or posted to the Usenet
.\"O newsgroup
.\"O .BR gnu.bash.bug .
本当にバグがあると判断した場合には、
.I bashbug
コマンドを使ってバグ報告を行います。
バグを修正してくださった場合には、
ぜひその内容も一緒にメールしてください!
提案や「哲学上の」バグ報告は、\fIbug-bash@gnu.org\fP にメールしたり、
ニュースグループの
.BR gnu.bash.bug
に投稿したりしてくださってもかまいません。
.PP
.\"O ALL bug reports should include:
バグ報告には必ず以下のことを書いてください:
.PP
.PD 0
.TP 20
.\"O The version number of \fBbash\fR
\fBbash\fR のバージョン
.TP
.\"O The hardware and operating system
ハードウェアとオペレーティングシステム
.TP
.\"O The compiler used to compile
コンパイルに使ったコンパイラ
.TP
.\"O A description of the bug behaviour
バグ動作の説明
.TP
.\"O A short script or `recipe' which exercises the bug
バグを再現できる「レシピ」 (簡単なシェルスクリプト)
.PD
.PP
.\"O .I bashbug
.\"O inserts the first three items automatically into the template
.\"O it provides for filing a bug report.
.I bashbug
コマンドは、バグ報告を送るために用意されているテンプレートに、
最初の 3 項目を自動的に書き込みます。
.PP
.\"O Comments and bug reports concerning
.\"O this manual page should be directed to
.\"O .IR chet.ramey@case.edu .
このオンラインマニュアルに関するコメントやバグ報告は
.I chet.ramey@case.edu
宛にお願いします。
.\"O .SH BUGS
.SH バグ
.PP
.\"O It's too big and too slow.
.B bash
は大きすぎるし、遅すぎます。
.PP
.\"O There are some subtle differences between 
.\"O .B bash
.\"O and traditional versions of
.\"O .BR sh ,
.\"O mostly because of the
.\"O .SM
.\"O .B POSIX
.\"O specification.
.B bash
と昔ながらのバージョンの
.BR sh
にはちょっとした違いがいくつかあります。この大部分は
.SM
.B POSIX
の仕様のせいで生じたものです。
.PP
.\"O Aliases are confusing in some uses.
使い方によっては、エイリアスは混乱の元になります。
.PP
.\"O Shell builtin commands and functions are not stoppable/restartable.
シェル組み込みコマンドとシェル関数は、停止したり、実行を再開したりできません。
.PP
.\"O Compound commands and command sequences of the form `a ; b ; c'
.\"O are not handled gracefully when process suspension is attempted.
.\"O When a process is stopped, the shell immediately executes the next
.\"O command in the sequence.
.\"O It suffices to place the sequence of commands between
.\"O parentheses to force it into a subshell, which may be stopped as
.\"O a unit.
複合コマンドや `a ; b ; c' の形式のコマンド列は、
プロセスのサスペンドを行う際に綺麗に扱うことができません。
あるプロセスを停止すると、
シェルはコマンド列の次のコマンドを即座に実行するからです。
この問題はコマンド列を括弧の中に置いて
サブシェルに実行させることで解決できます。
こうすれば、ひとまとまりのものとして停止できます。
.PP
.\"O Array variables may not (yet) be exported.
配列変数は (まだ) エクスポートできません。
.PP
.\"O There may be only one active coprocess at a time.
一度に 1 つのコプロセスしかアクティブにできません。
.zZ
.zY
